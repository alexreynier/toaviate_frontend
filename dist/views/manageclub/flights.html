<div class="centre_align_boxes2">


     <div class="home_upper">
      <div class="back-box" ui-sref="dashboard.manage_club">
          <i class="fa fa-arrow-circle-left"></i> BACK
        </div>
        <div class="welcome_title">
          <h2>FLIGHT MANAGEMENT FOR CLUB </h2> 
          <h4 class="capitalise">
            Edit all flights
          </h4>
          <!-- {{ vm.welcome_message }} -->
      </div>
    </div>


<div class="sub_section2 centre_me">


    <div class="form-group">
         <div class="split_fourth">
             <ui-select ng-model="vm.selected_aircraft" theme="bootstrap" style="min-width: 60px; top: -20px;" title="Quick aircraft find" class="input-group" ng-change="vm.update_ac()">
                <ui-select-match placeholder="Select an aircraft" >
                  {{ vm.selected_aircraft.registration }}             
                </ui-select-match>
                <ui-select-choices repeat="qs in vm.aircraft | filter: {registration: $select.search}">
                  <span ng-bind-html="qs.registration | highlight: $select.search"></span>
                </ui-select-choices>
            </ui-select>
        </div>
        <div class="split_fourth">
            <label for="plane_class">FROM</label>
            <input type="date" class="form-control inputtext ng-pristine ng-valid ng-touched" name="from_date" id="check_date" ng-model="vm.from_date">
        </div>
        <div class="split_fourth">
            <label for="plane_class">TO</label>
            <input type="date" class="form-control inputtext ng-pristine ng-valid ng-touched" name="to_date" id="check_date" ng-model="vm.to_date">   
        </div>

        <div class="split_fourth">
            <button type="button" ng-click="vm.search_for_flights()" class="btn btn-primary">UPDATE DATE SEARCH</button>
        </div>
    </div>

    <div class="form-group">
    </div>
    

    <div class="cards3">

      <h4>FLIGHTS TO MANAGE</h4>
      <h5> {{ vm.from_date | asDate | date:'dd MMM yyyy' }} to {{ vm.to_date | asDate  | date:'dd MMM yyyy' }}</h5>


     <!--  <div class="upcoming_line" uib-tooltip="Total amount charged during period">
        <span class="upcoming_title">Total Income: </span><span class="upcoming_value">{{ vm.totals.account_currency }} {{ (vm.totals.total | number:2) || "0.00" }}</span>
      </div>
      <div class="upcoming_line" uib-tooltip="Total amount received">
        <span class="upcoming_title">Total Flown: </span><span class="upcoming_value">{{ (vm.totals.hours_flown | number:2) || "0.00" }}</span>
      </div> -->
      
      

    </div>

</div>

<div class="sub_section2">

    <input type="search" placeholder="Search Flights" ng-model="my_search" class="form-control searchbar" />

    <div class="">


        <div ng-if="vm.flights.length > 0">

             <table>
                    <tr class="bold_text">
                        <td>
                            Date
                        </td>
                        <td>
                            Aircraft
                        </td>
                        <td>
                            From
                        </td>
                        <td >
                            To
                        </td>
                         <td>
                            Brakes Off
                        </td>
                         <td>
                            Takeoff Time
                        </td>
                        <td>
                            Landing Time
                        </td>
                        <td>
                            Brakes On
                        </td>
                       <!--  <td>
                            Landing No
                        </td> -->
                         <td class="right_text_align">
                            Functions
                        </td>
                    </tr>
                    <!--  | filter: search -->
                    <tbody ng-repeat="flight in vm.flights | filter: search" vertical-align="middle">
                        <tr>
                            
                            <!-- <span uib-tooltip="{{ log.from_airfield_name || 'unknown' }}">{{ log.from_airfield_code || 'unknown' }} </span>
 -->
                            <td>{{ flight.flight_date | asDate | date:'dd MMM yyyy' }}</td>
                            <td>{{ flight.aircraft.registration }}</td>
                            <td><span uib-tooltip="{{flight.from_airport.title}}"> <span ng-if="!flight.edit">{{ flight.from_airport.code }} </span></td>
                            <td><span uib-tooltip="{{flight.to_airport.title}}"><span ng-if="!flight.edit">{{ flight.to_airport.code }}</span></td>
                            <td><span uib-tooltip="Brakes Off Time"><span ng-if="!flight.edit">{{ flight.brakes_off }}</span><span ng-if="flight.edit"> <input type="text"></span></td>
                            <td><span uib-tooltip="Takeoff Time"><span ng-if="!flight.edit">{{ flight.takeoff_time }}</span><span ng-if="flight.edit"> EDITING HERE</span></td>
                            <td><span uib-tooltip="Landing Time"><span ng-if="!flight.edit">{{ flight.landing_time }}</span><span ng-if="flight.edit"> EDITING HERE</span></td>
                            <td><span uib-tooltip="Brakes Off Time"><span ng-if="!flight.edit">{{ flight.brakes_on }}</span> <span ng-if="flight.edit"> EDITING HERE</span></td>
<!--                             <td>{{ flight.landings }}</td>
 -->                        <td class="right_text_align"> 
                                <!--  <i ng-click="flight.edit = !flight.edit" class="fa fa-edit tableicon"></i> &nbsp;  <i class="fa fa-trash tableicon"></i> -->
                                Temp Lock
                            </td>

                        </tr>
                        
                    </tbody>
                </table>

        </div>


    </div>



</div>
</div>

<div ng-if="vm.show_loading" class="positioning-container">
  <div class="airplane_center_loading">Loading...</div>
  <div class="spinning-container">
  <div class="airplane-container">
    <span class="fa fa-plane fa-2x"></span>
  </div>
  </div>
</div>