<div class="centre_align_boxes2">


    <div class="home_upper">
        <div class="back-box" ui-sref="dashboard.my_account">
          <i class="fa fa-arrow-circle-left"></i> BACK
        </div>
        
        <div class="welcome_title">
          <h2>CLAIM A FLIGHT</h2> 
          <h4 class="capitalise">
            FoxAvionix Box Companion
          </h4>
        </div>
    </div>


<div class="sub_section2">
   

<!--     <div ng-repeat="club in vm.clubs" class="club_docs_all">
 -->
      
                    <div class="" ng-if="vm.unclaimed.to_claim.length < 1">
                        <p>
                            It looks like none of the clubs you are a member of presently use our Fox Avionix Box loggers in their aircraft. 
                        </p>
                        <p>
                            Fox Avionix automatically record your brakes off, takeoff time, landing time and brakes on times. These are then automatically sent to the ToAviate platform. After the flight you just click "BOOK IN" as you did before, but all the required details are prefilled for you, if you forgot to "BOOK OUT" before your flight, you can just come to this page to claim a flight already completed.
                        </p>
                        <p>
                            The main benefit of using Fox Avionix is to ensure accuracy of recorded data into the digital logbooks, and to help increase time between maintenance by accurately counting airborne time. The loggers keep a track of the times within 10 seconds accuracy per flight rather than the traditional rounding to the nearest 5 minute increment, meaning that on average our users have increased their time between 50 hour checks by 3 hours 40 minutes.
                        </p>
                        <p>
                            To find out more about our Fox Avionix Box loggers, please contact us.
                        </p>
                    </div>

                    <br />

<!--         </div>
 -->
    



    <div class="search_bar">

        <input type="search" placeholder="Search Aircraft" ng-model="my_search2" class="form-control fifty_wide" />

    </div>

    <div ng-repeat="club in vm.unclaimed.to_claim" class="club_docs_all">

        <h2>{{ club.club_name }}</h2>
       

        <div ng-repeat="plane in club.aircraft | filter: search2" ng-if="!my_search || (my_search && (getMySearchCount(plane) > 0))">          

                <div class="club_docs_all2">
                <h2>{{ plane.registration }} - {{ plane.plane_type }}</h2>


                <div class="plane_docs">
                 

                  <div class="card">

                    <h4>Aircraft Journey Log</h4>


                    <div class="plane_docs_none" ng-if="plane.flights.length < 1">
                        There are presently no unclaimed journey log entries for this aircraft.
                    </div>



                    <div class="" ng-if="plane.flights.length > 0">
                        <table>
                            <tr>
                                <td class="bold_text">
                                    Date
                                </td>
                                <td class="bold_text centre_me">
                                    From
                                </td>
                                <td class="bold_text centre_me">
                                    Brakes Off
                                </td>
                                <td class="bold_text centre_me">
                                    To
                                </td>
                                <td class="bold_text centre_me">
                                    Brakes On
                                </td>
                                <td class="bold_text centre_me">
                                    Chocks Time
                                </td>
                                <td class="bold_text centre_me">
                                    Airborne Time
                                </td>
                                <td class="bold_text centre_me">
                                    Landings
                                </td>
                                <td class="bold_text centre_me">
                                    Actions
                                </td>
                            </tr>
                            <tr ng-repeat="log in plane.flights" vertical-align="middle">
                            
                                 <td class="log_no_break">
                                    <span uib-tooltip="Date of flight">{{ log.brakes_off | asDate | date:"dd MMM yyyy" }}</span>
                                </td>
                                <td class="log_no_break">
                                    <span uib-tooltip="{{ log.from_airfield_name || 'unknown' }}">{{ log.from_airfield_code || 'unknown' }}</span>
                                </td>
                                <td class="centre_me">
                                    <span uib-tooltip="Brakes Off Time">{{ log.brakes_off | asDate | date:"HH:mm:ss" }}</span>
                                </td>
                                <td class="centre_me">
                                    <span uib-tooltip="{{ log.to_airfield_name || 'unknown' }}">{{ log.to_airfield_code || 'unknown' }}</span>
                                </td>
                                <td class="centre_me">
                                    <span uib-tooltip="Brakes On Time">{{ log.brakes_on | asDate | date:"HH:mm:ss" }}</span>
                                </td>
                                <td class="centre_me">
                                    <span uib-tooltip="Decimal Hours : {{ vm.difference_times_decimal(log.brakes_off, log.brakes_on) | number:2 }}">{{ vm.difference_times(log.brakes_off, log.brakes_on) }}</span>
                                </td>
                                <td class="centre_me">
                                    <span uib-tooltip="Decimal Hours : {{ vm.airborne_decimal(log.airborne_seconds) | number:2 }}">{{ vm.airborne_to_hours(log.airborne_seconds) || "0:00" }}</span>
                                </td>
                                <td class="centre_me">
                                    <span uib-tooltip="{{ log.takeoffs_landings }}">{{ log.number_landings }}</span>
                                </td>
                                <td class="centre_me">
                                    <button class="btn btn-primary view_journey_logs" ui-sref="dashboard.my_account.book_in({id: log.plane_log_sheet_id})">CLAIM</button>
                                    <!-- link the aircraft log with journey booking in   ui-sref="dashboard.my_account.aircraft_journey_log({plane_id: plane.plane_id})"   //--> 
                                </td>

                            </tr>
                        </table>
                       <!--  <button class="btn btn-primary view_journey_logs" ui-sref="dashboard.my_account.aircraft_journey_log({plane_id: plane.plane_id})">VIEW FULL JOURNEY LOGS</button>   -->

                    </div>



                </div>



               <!--    <hr ng-if="plane.documents.length > 0" />
                 

                  <div class="card" ng-if="plane.documents.length > 0">

                     <h4>Aircraft Documents</h4>

                    <div class="plane_docs">
                        <table>
                            <tr>
                                <td class="bold_text">
                                    File Name
                                </td>
                                <td class="centre_text_align bold_text">
                                    Click Icon To Open
                                </td>
                                <td class="right_text_align bold_text">
                                    Last Updated 
                                </td>
                            </tr>
                            <tr ng-repeat="plane_doc in plane.documents | filter: search" vertical-align="middle">
                            
                                <td vertical-align="middle">{{ plane_doc.title }}</td>
                                <td class="centre_text_align"> <a class="open_document_anchor" ng-click="downloadDocument(plane_doc.document)"><img class="file_icon" src="{{vm.get_icon2(plane_doc.document)}}" /></a></td>
                                <td class="right_text_align" vertical-align="middle">{{ plane_doc.updated_at | asDate | date:'dd/MM/yyyy H:mm' }}</td>

                            </tr>
                        </table>
                    </div>
                    
                  </div> -->


                  

                  





                </div>

            
            
            </div>

        </div>



    </div>












    </div>



</div>
