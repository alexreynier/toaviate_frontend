{"version":3,"sources":["services.js"],"names":["app","factory","ArtpiecesService","$inject","$http","service","GetAll","GetById","Create","Update","Delete","AddCategory","DeleteCategory","get","then","handleSuccess","handleError","id","artpiece","post","put","linker","artpiece_id","category_id","res","data","error","success","message","AuthenticationService","$cookieStore","$rootScope","$timeout","UserService","EnvConfig","Login","Login0","Login1","Login2","Login3","Logout","ResetPassword","ResetPassword2","SetCredentials","SetCredentials2","ClearCredentials","GetCredentials","CheckLoggedIn","defaults","headers","common","getApiKey","callback","response","status","console","log","username","session","user","Base64","encode","a","password","email","token","globals","currentUser","alert","getAdminClubs","user_id","getManagerClubs","GetAdminClubs","clubs","getCurrentAdminClub","vm","processAccess","access","obj","manager","pilot","instructor","items","show_manager","show_instructor","show_booking","show_approval_warning","i","length","approved","push","club_id","membership_id","is_manager","authdata","GetAccess","first_name","last_name","current_club_instructor","clubData","savedClubId","stored","localStorage","getItem","e","selectedClub","String","current_club_admin","setItem","err","remove","Authorization","keyStr","input","output","chr1","chr2","chr3","enc1","enc2","enc3","enc4","charCodeAt","isNaN","charAt","decode","base64test","exec","window","replace","indexOf","fromCharCode","BookingService","$location","GetEdit","DeleteBooking","GetInstructors","GetAllPlanes","GetPlaneInstructors","GetRentalItems","updateBooking","GetAllUserClub","GetPlaneInstructorsEdit","GetIfCurrent","GetTodayBookingsUser","GetForBookout","GetForBookIn","GetBookingsToReview","GetAllInstructor","AcceptBooking","DeclineBooking","ResendInvitation","DeleteInvitation","GetBookingsToBrief","GetBookingsToDebrief","SetBookingToBriefed","GetForForDebrief","GetForForDebriefPls","GetInstructorByUser","GetInstructorPlanes","handleError2","start","end","booking_id","update","person_editing","content","plane_id","end_date","show_all","rented_id","instructor_user_id","booking","url","delete_id","instructor_id","pls_id","path","filter","myValueFunction","card","values","opt1","opt2","getDistance","airfield","default_lat","default_long","R","dLat","deg2rad","wgs_n","dLon","wgs_e","Math","sin","cos","c","atan2","sqrt","d","deg","PI","array","Object","keys","forEach","key","name","sort","b","n","Date","setSeconds","toTimeString","slice","number","BookoutService","GetAirfields","GetAirfieldsByCode","SendBookout","GetBookoutsToComplete","BookInFlight","PayBooking","AddPassenger","GetPassengers","CancelBookout","CheckPayment","RetryPaymentMachine","ClearMachine","ConfirmPayment","payment_id","paymentID","start_with","code","GetBookout","bookout","UpdateBookout","amended_bookout","DeleteBookout","complete_bookin","complete_payment","CategoryService","category","ClubDocumentService","GetByClubId","GetByUserId","DeleteTmp","poid","file","tmp","ClubPaymentService","GetPaymentsByClub","GetPaymentTypes","GetAuthority","Refund","GetUserForPayment","refund","ClubService","CheckLink","GetByUrl","DownloadZip","GetClubInvoices","GetClubTotals","GetAllForUser","club","link","gallery_link","zip","from_date","to_date","from","to","CourseService","GetCourseById","GetCoursesByUserId","GetCoursesByClubId","CreateCourse","UpdateCourse","DeleteCourse","GetLessonById","GetLessonsByCourseId","CreateLesson","UpdateLesson","DeleteLesson","UpdateLessonOrder","GetTemByLessonId","CreateTem","UpdateTem","DeleteTem","UpdateTemOrder","GetBulletsByLessonId","CreateBullet","UpdateBullet","DeleteBullet","UpdateBulletOrder","GetItemsByLessonId","CreateItem","UpdateItem","DeleteItem","UpdateItemsOrder","GetExamsByCourseId","CreateExam","UpdateExam","DeleteExam","GetChargesByCourseId","CreateCharge","UpdateCharge","DeleteCharge","CreateTrainingRecord","GetStudentTrainingRecords","CreateExamRecord","UpdateTrainingRecord","GetTagsByCourseId","CreateTags","UpdateTags","DeleteTags","GetStudentTrainingRecordsForFlight","GetLessonContentFiles","GetLessonContentFileData","UploadLessonContentFile","DeleteLessonContentFile","UpdateLessonContentFile","UpdateLessonContentFilesOrder","nok","course_id","bullets","lesson_id","GetCourseForDebrief","flight_id","file_id","formData","transformRequest","angular","identity","undefined","orderData","baseUrl","getApiBaseUrl","planeId","DownloadFile","filename","GetFileBase64","DifferencesService","GetDifferences","GetByUserIdClub","differences","environment","configs","development","api_base_url","stripe_publishable_key","stripe_publishable_key_legacy","api_key","debug","staging","production","active","getEnvironment","isProduction","isDebug","getStripeKey","getStripeKeyLegacy","ExperiencesService","GetDiscountsByClubId","GetDiscountById","CreateDiscount","UpdateDiscount","DeleteDiscount","GetDiscountsByClubIdAndExperienceId","experience_id","item","FlashService","Success","Error","initService","$on","clearFlashMessage","flash","keepAfterLocationChange","type","FoxService","GetFoxEntries","GetFoxEntriesByPlane","ResetAllClubPlanes","FixUncombinedLogs","ResetOneClubPlane","GalleryService","gallery_id","gallery","GoCardService","SetupGoCard","SetupMandate","GenerateLink","GenerateUpdateLink","UpdateMandate","detail","details","HolidayService","holiday","send","title","allDay","ImagesService","GetOne","images","image","ImageUploadService","image_id","InstructorCharges","GetByCourseId","GetUpdatedCharges","InstructorService","SetAvailability","GetAvailability","GetAllByClub","UpdateOrder","UpdateInstructor","users","availability","InvoicesService","GetAllByBooking","GetOpenIssues","GetAllIssues","AddDefect","DeleteDefect","GetAllSheetReceipts","sheet_id","AddReceipt","DeleteReceipt","plane","club_plane_id","ItemService","KeywordsService","keywords","LicenceService","GetLicenceTypes","GetRatings","thumbs","decrypted","licence","LocalDataService","selected_images","all_galleries","selecting_for","SetSelectedImages","SetAllGalleries","SetSelectingFor","LogbookLinkService","GetLinks","GetAvailableLogbooks","GetByLogbook","Link","Unlink","BulkLink","GetAudit","GetAuditByPlane","maintenance_check_id","logbook_type","logbook_entity_id","logbooks","link_id","MedicalService","GetMedicalTypes","GetComponents","medical","MemberService","CreateMany","Verify","SendInvite","send_invite_by_club","GetMemberPlanes","SaveMemberPlanes","GetUserMemberships","GetAllByClubInstructor","GetAllByClubAndName","GetOneForUser","UpdateOneByUser","GetUserClubs","GetAllByPics","GetAllActiveByClub","GetAllByPicsBookinout","GetCompany","GetCompanyDetail","VerifyPhone","VerifyPhoneInvite","VerifyInvitedUser","GetMandate","GetAllByClubStudents","verification","invitation","supervised","planes","member","members","membership","verify","club_membership_id","MembershipService","GetAllMembershipPlanes","AddMembershipPlanes","UpdateMembershipPlanes","GetAllMembershipPlanesNew","GetAllByClubAvailable","SendRequest","GetRequestsByUser","GetRequestsByClub","DeleteRequest","GetRequestsById","AcceptRequest","ClubAcceptRequest","ResendRequest","request","UpdateRequests","membership_plane","membership_planes","NokService","PackageService","GetPackageById","GetPackagesByClubId","CreatePackage","UpdatePackage","DeletePackage","GetPackagePlanesById","GetPackagePlanesByPackageId","CreatePackagePlane","UpdatePackagePlane","DeletePackagePlane","GetPackagesByUserId","GetPackagesForBookout","GetPackagesByUserIdAndClubId","SwapPackageHours","RefundPackageToAccount","package_id","plane_log_sheet_id","PaymentService","GetAddresses","CreateCustom","CompleteCustom","Create2","UpdateCard","GetCardDetails","ChangePrimary","GenerateStripeLink","SaveStripeLink","RefreshStripeLink","CreateCardIntent","CreatePaymentIntent","CreateNewCustomer","GetMemberCards","UpdateDefaultCard","ProcessPayment","CreatePaymentIntentNewCard","CreateSavedPaymentIntent","CreateCardMachinePaymentIntent","DeleteMemberCard","stripe_id","postcode","card_id","address","payment","PlaneDocumentService","GetByPlaneId","PlaneService","GetAllReceipts","GetAllByClubMaintenance","GetByIdMaintenance","AddMaintenance","GetByUserMaintenance","GetByIdMaintenance2","GetAddAircraft","GetAircraftJourneyLogs","GetReceiptsApproval","GetCurrencies","CheckReimbursement","UpdateReceipt","ApproveReceipt","RejectReceipt","GetMyJourneyLogs","GetUserJourneyLogs","GetReceiptsClub","GetReceiptsAircraft","GetEngineLogs","GetPropLogs","GetAirframeLogs","UpdateAircraftBit","GetIncompleteClub","UpdateAircraftLogbooks","HypotheticalFlightSplit","GetAllFlightsByClub","GetMaintenanceEvents","UpdateMaintenanceEvent","split","aircraft","object","offset","max","reg","limit","aircraft_id","event_id","PoidService","GetPoidTypes","ShopItemService","ToastService","showSuccess","showError","warning","showWarning","validateForm","clearFieldError","highlightField","checks","highlighted","document","querySelectorAll","classList","j","ok","field","getElementById","add","scrollIntoView","behavior","block","focus","label","event","target","parent","closest","selector","prev","el","querySelector","subtitle","opts","duration","confetti","wrapper","createElement","className","setAttribute","confettiEl","piece","style","left","random","animationDelay","animationDuration","appendChild","toast","buildToast","buildCheckIcon","body","scheduleRemoval","buildXIcon","buildWarnIcon","iconEl","text","titleEl","textContent","subEl","ico","svg","createElementNS","p1","p2","p3","hideClass","parentNode","removeChild","GetByUsername","InvitePassenger","GetInvite","GetPaxSecureInvite","InviteSignup","ChangeInvitation","GetInvoices","GetUpcoming","GetPayments","ConfirmPaxInvite","GetPaxSecureInvite2","SignupUserFromPassenger","GetInvoicesUserClub","batch","all","verify_token","invited_by","GetPaxInvite","VoucherService","GetUniqueCode","CancelVoucher","WorkpackService","GetByPlane","GetByClub","GetOpenByPlane","LinkDefect","UnlinkDefect","LinkMaintenance","UnlinkMaintenance","UpdateDefectWorkpack","DownloadDocument","workpack","workpack_id","defect_id","responseType"],"mappings":"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","sourcesContent":["/*! ToAviate - v4.0.1 - 2026-02-13 */app.factory('ArtpiecesService', ArtpiecesService);\n\n    ArtpiecesService.$inject = ['$http'];\n    function ArtpiecesService($http) {\n        var service = {};\n\n        service.GetAll = GetAll;\n        service.GetById = GetById;\n        service.Create = Create;\n        service.Update = Update;\n        service.Delete = Delete;\n        service.AddCategory = AddCategory;\n        service.DeleteCategory = DeleteCategory;\n\n        return service;\n\n        function GetAll() {\n            return $http.get('/api/v1/artpieces').then(handleSuccess, handleError('Error getting all artpieces'));\n        }\n\n        function GetById(id) {\n            return $http.get('/api/v1/artpieces/' + id).then(handleSuccess, handleError('Error getting artpiece by id'));\n        }\n\n        function Create(artpiece) {\n            return $http.post('/api/v1/artpieces', artpiece).then(handleSuccess, handleError('Error creating artpiece'));\n        }\n\n        function Update(artpiece) {\n            return $http.put('/api/v1/artpieces/' + artpiece.id, artpiece).then(handleSuccess, handleError('Error updating artpiece'));\n        }\n\n        function AddCategory(linker){\n            return $http.post('/api/v1/artpieces/' + linker.artpiece_id + '/categories', linker).then(handleSuccess, handleError('Error adding category'));\n        }\n\n        function DeleteCategory(linker){\n            return $http.delete('/api/v1/artpieces/' + linker.artpiece_id + '/categories/' + linker.category_id).then(handleSuccess, handleError('Error deleting artpiece'));\n        }\n\n        function Delete(id) {\n            return $http.delete('/api/v1/artpieces/' + id).then(handleSuccess, handleError('Error deleting artpiece'));\n        }\n\n        // private functions\n\n        function handleSuccess(res) {\n            return res.data;\n        }\n\n        function handleError(error) {\n            return function () {\n                return { success: false, message: error };\n            };\n        }\n    }\n    app.factory('AuthenticationService', AuthenticationService);\n \n    AuthenticationService.$inject = ['$http', '$cookieStore', '$rootScope', '$timeout', 'UserService', 'EnvConfig'];\n    function AuthenticationService($http, $cookieStore, $rootScope, $timeout, UserService, EnvConfig) {\n        var service = {};\n \n        service.Login = Login;\n        \n        service.Login0 = Login0;\n        service.Login1 = Login1;\n        service.Login2 = Login2;\n        service.Login3 = Login3;\n        service.Logout = Logout;\n\n        service.ResetPassword = ResetPassword;\n        service.ResetPassword2 = ResetPassword2;\n\n        service.SetCredentials = SetCredentials;\n        service.SetCredentials2 = SetCredentials2;\n\n        service.ClearCredentials = ClearCredentials;\n        service.GetCredentials = GetCredentials;\n        service.CheckLoggedIn = CheckLoggedIn;\n        \n        $http.defaults.headers.common['Api-Key'] = EnvConfig.getApiKey();\n\n        return service;\n\n\n        function Logout(callback){\n\n            $http.post('/api/v1/users/logout', {})\n               .success(function (response) {\n                   callback(response);\n            }).error(function (data, status) {\n                   console.log('Logout failed:', status, data);\n                   callback({ success: false, error: 'Logout request failed. Please try again.' });\n            });\n\n        }\n\n\n        function Login0(callback){\n\n\n            $http.post('/api/v1/users/login0', {})\n               .success(function (response) {\n                   callback(response);\n            }).error(function (data, status) {\n                   console.log('Login0 failed:', status, data);\n                   callback({ success: false, error: 'Unable to initialise login. Please refresh and try again.' });\n            });\n\n\n        }\n\n\n        function Login1(username, session, callback){\n            //var user = Base64.encode(username);\n            var user = Base64.encode(session + \",\" + username);\n\n            $http.post('/api/v1/users/login1', { a: user })\n               .success(function (response) {\n                   callback(response);\n            }).error(function (data, status) {\n                   console.log('Login1 failed:', status, data);\n                   callback({ success: false, error: 'Login failed. Please check your connection and try again.' });\n            });\n\n        }\n\n\n        function Login2(password, session, callback){\n\n\n            var user = Base64.encode(session + \",\" + password);\n\n            $http.post('/api/v1/users/login2', { a: user })\n               .success(function (response) {\n                   callback(response);\n            }).error(function (data, status) {\n                   console.log('Login2 failed:', status, data);\n                   callback({ success: false, error: 'Authentication failed. Please try again.' });\n            });\n\n\n        }\n\n\n        function Login3(password, session, callback){\n\n\n            var user = Base64.encode(session + \",\" + password);\n\n            $http.post('/api/v1/users/login3', { a: user })\n               .success(function (response) {\n                   callback(response);\n            }).error(function (data, status) {\n                   console.log('Login3 failed:', status, data);\n                   callback({ success: false, error: 'Authentication failed. Please try again.' });\n            });\n\n\n        }\n\n        function ResetPassword(email, callback){\n\n\n            $http.post('/api/v1/users/reset_password', { email: email })\n               .success(function (response) {\n                   callback(response);\n            }).error(function (data, status) {\n                   console.log('ResetPassword failed:', status, data);\n                   callback({ success: false, error: 'Password reset request failed. Please try again.' });\n            });\n\n\n        }\n\n        function ResetPassword2(password, token, callback){\n\n            var user = Base64.encode(token + \",\" + password);\n\n            $http.post('/api/v1/users/reset_password2', { a: user })\n               .success(function (response) {\n                   callback(response);\n            }).error(function (data, status) {\n                   console.log('ResetPassword2 failed:', status, data);\n                   callback({ success: false, error: 'Password reset failed. The link may have expired.' });\n            });\n\n\n        }\n\n\n\n \n        function Login(email, password, callback) {\n \n            /* Dummy authentication for testing, uses $timeout to simulate api call\n             ----------------------------------------------*/\n            // $timeout(function () {\n            //     var response;\n            //     UserService.GetByUsername(username)\n            //         .then(function (user) {\n            //             if (user !== null && user.password === password) {\n            //                 response = { success: true };\n            //             } else {\n            //                 response = { success: false, message: 'Username or password is incorrect' };\n            //             }\n            //             callback(response);\n            //         });\n            // }, 1000);\n \n            /* Use this for real authentication\n             ----------------------------------------------*/\n            $http.post('/api/v1/users/login', { email: email, password: password })\n               .success(function (response) {\n                   callback(response);\n            }).error(function (data, status) {\n                   console.log('Login failed:', status, data);\n                   callback({ success: false, error: 'Login failed. Please check your connection and try again.' });\n            });\n \n        }\n\n        function GetCredentials(){\n            return $cookieStore.get('globals');\n        }\n\n\n        function CheckLoggedIn(){\n            if($cookieStore.get(\"globals\") !== \"\" || $rootScope.globals !== \"\"){\n                // console.log(\"root\", $rootScope.globals);\n                if($rootScope.globals == $cookieStore.get(\"globals\")){\n                    // console.log(\"OK ITS THE SAME\");\n                    return true;\n                } else if($rootScope.globals && $rootScope.globals.currentUser && $rootScope.globals.currentUser.id) {\n                    alert(\"It looks like you've been logged out due to inactivity - please login again.\");\n                    // console.log(\"its been tempered with / something went wrong - so lets override it all...\");\n                    // --> I think we should offer the redirect?\n                    return false;\n                  \n                } else {\n                    // console.log(\"You are not logged in?\");\n                    return false;\n                }\n\n\n            } else {\n                // console.log(\"cookie not set\");\n                return false;\n            }\n        }\n\n        function getAdminClubs(user_id){\n           \n        }\n\n        function getManagerClubs(user_id){\n            UserService.GetAdminClubs(user_id)\n            .then(function(data){\n                // console.log(\"GETTING CLUBS HERE \", data.clubs);\n                return data.clubs;   \n                \n            });\n        }\n\n        function getCurrentAdminClub(){\n                //think about preferences and setting the \"most favoured\" one.\n                return vm.clubs[0];\n                //console.log(\"vm.clubs[0]\", vm.clubs[0]);\n        }\n\n        function processAccess(access){\n\n            var obj = {\n                manager: [],\n                pilot: [],\n                instructor: [],\n                items: access,\n                show_manager: false,\n                show_instructor: false,\n                show_booking: false,\n                show_approval_warning: false\n            };\n\n\n\n            for(var i=0;i<access.length;i++){\n\n                if(access[i].approved == 1){\n                    obj.pilot.push(access[i].club_id);\n                } else if(access[i].approved == 0 && access[i].membership_id > 0){\n                    obj.pilot.push(access[i].club_id);\n                }\n\n                if(access[i].instructor == 1){\n                    obj.instructor.push(access[i].club_id);\n                }\n\n                if(access[i].is_manager == 1){\n                    obj.manager.push(access[i].club_id);\n\n                }\n\n\n            }\n\n\n            if(obj.manager.length > 0){\n                obj.show_manager = true;\n            }\n            if(obj.instructor.length > 0){\n                obj.show_instructor = true;\n               // obj.instruct_clubs = getInstructorClubs(user_id);\n            }\n            if(obj.pilot.length > 0){\n                obj.show_booking = true;\n            }\n\n            return obj;\n\n        }\n \n        function SetCredentials(email, password, user, session) {\n\n            // console.log(\"SET SET SET ME\");\n\n            ClearCredentials();\n\n            var authdata = Base64.encode(user.id + ':' + session);\n                \n            $http.defaults.headers.common['Authorization'] = 'Basic ' + authdata; // jshint ignore:line\n            $http.defaults.headers.common['Session'] = session;\n\n            // console.log(\"USER\", user);\n            //$rootScope.globals.currentUser.id\n            // console.log(\"SESSION IS \", session);\n\n            UserService.GetAccess(user.id)\n                .then(function (data) {\n                    // console.log(\"SENT access check\");\n                    // console.log(data);\n                    if(data.success){\n\n                        \n                        $rootScope.globals = {\n                            currentUser: {\n                                email: email,\n                                authdata: authdata,\n                                id: user.id,\n                                first_name: user.first_name,\n                                last_name: user.last_name,\n                                access: processAccess(data.access)\n                            }\n                        };\n\n                        //console.log(\"HEYA\");\n                        // $rootScope.globals.currentUser.current_club_instructor = vm.clubs[0];\n                        //$rootScope.globals.currentUser.current_club_instructor\n                        // set the default instructor --> \n                        if($rootScope.globals.currentUser.access.instructor.length > 0){\n                            // console.log(\"we are an instructor SOMEWHERE, setting: \", $rootScope.globals.currentUser.access.instructor[0]);\n                            $rootScope.globals.currentUser.current_club_instructor = $rootScope.globals.currentUser.access.instructor[0];\n                        } else {\n                            // console.log(\"ELSE ERROR: \", $rootScope.globals.currentUser.access);\n                        }\n\n\n                        $http.defaults.headers.common['Authorization'] = 'Basic ' + authdata; // jshint ignore:line\n\n                        $cookieStore.put('globals', $rootScope.globals);\n                        $cookieStore.put('session', session);\n\n                        // console.log(\"access is \", $rootScope.globals.currentUser.access);\n\n                    } else {\n                       \n\n                    }\n                });\n\n            \n \n            \n        }\n\n\n        function SetCredentials2(email, password, user, session, callback) {\n            // console.log(\"SET SET SET ME\");\n\n            ClearCredentials();\n\n            var authdata = Base64.encode(user.id + ':' + session);\n                \n            $http.defaults.headers.common['Authorization'] = 'Basic ' + authdata; // jshint ignore:line\n            $http.defaults.headers.common['Session'] = session;\n\n            // console.log(\"USER\", user);\n            //$rootScope.globals.currentUser.id\n            // console.log(\"SESSION IS \", session);\n\n            UserService.GetAccess(user.id)\n                .then(function (data) {\n                    // console.log(\"SENT access check\");\n                    // console.log(data);\n                    if(data.success){\n\n                        \n                        $rootScope.globals = {\n                            currentUser: {\n                                email: email,\n                                authdata: authdata,\n                                id: user.id,\n                                first_name: user.first_name,\n                                last_name: user.last_name,\n                                access: processAccess(data.access)\n                            }\n                        };\n\n                        if($rootScope.globals.currentUser.access.instructor.length > 0){\n                             // console.log(\"we are an instructor SOMEWHERE, setting: \", $rootScope.globals.currentUser.access.instructor[0]);\n                            $rootScope.globals.currentUser.current_club_instructor = $rootScope.globals.currentUser.access.instructor[0];\n                        } else {\n                             // console.log(\"ELSE ERROR: \", $rootScope.globals.currentUser.access);\n                        }\n\n                        $http.defaults.headers.common['Authorization'] = 'Basic ' + authdata; // jshint ignore:line\n\n                        $cookieStore.put('globals', $rootScope.globals);\n                        $cookieStore.put('session', session);\n\n                        // console.log(\"access is\", $rootScope.globals.currentUser.access);\n\n                        // If user has manager access, fetch admin clubs and set current_club_admin before callback\n                        // This ensures child controllers have current_club_admin available immediately\n                        if ($rootScope.globals.currentUser.access.manager.length > 0) {\n                            UserService.GetAdminClubs(user.id)\n                                .then(function (clubData) {\n                                    if (clubData.success && clubData.clubs && clubData.clubs.length > 0) {\n                                        // Try to restore previously selected club from localStorage\n                                        var savedClubId = null;\n                                        try {\n                                            var stored = localStorage.getItem('toaviate_selected_club_id');\n                                            if (stored !== null) {\n                                                savedClubId = stored;\n                                            }\n                                        } catch(e) {}\n\n                                        var selectedClub = null;\n                                        if (savedClubId !== null) {\n                                            for (var i = 0; i < clubData.clubs.length; i++) {\n                                                if (String(clubData.clubs[i].id) === String(savedClubId)) {\n                                                    selectedClub = clubData.clubs[i];\n                                                    break;\n                                                }\n                                            }\n                                        }\n                                        // Fall back to first club if no saved selection\n                                        if (!selectedClub) {\n                                            selectedClub = clubData.clubs[0];\n                                        }\n\n                                        $rootScope.globals.currentUser.current_club_admin = selectedClub;\n                                        $cookieStore.put('globals', $rootScope.globals);\n\n                                        try {\n                                            localStorage.setItem('toaviate_selected_club_id', String(selectedClub.id));\n                                        } catch(e) {}\n                                    }\n                                    callback($rootScope.globals.currentUser);\n                                })\n                                .catch(function() {\n                                    // If admin clubs fetch fails, still proceed with callback\n                                    callback($rootScope.globals.currentUser);\n                                });\n                        } else {\n                            callback($rootScope.globals.currentUser);\n                        }\n                    } else {\n                       \n                        callback(false) ;\n                    }\n                })\n                .catch(function(err) {\n                    // If GetAccess fails, still call the callback with false to avoid hanging login\n                    console.error('GetAccess failed:', err);\n                    callback(false);\n                });\n\n            \n \n            \n        }\n \n        function ClearCredentials() {\n            $rootScope.globals = {};\n            $cookieStore.remove('globals');\n            $cookieStore.remove('session');\n            $http.defaults.headers.common.Authorization = 'Basic 123';\n            $http.defaults.headers.common['Session'] = \"ABC123\";\n        }\n    }\n \n    // Base64 encoding service used by AuthenticationService\n    var Base64 = {\n \n        keyStr: 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=',\n \n        encode: function (input) {\n            var output = \"\";\n            var chr1, chr2, chr3 = \"\";\n            var enc1, enc2, enc3, enc4 = \"\";\n            var i = 0;\n \n            do {\n                chr1 = input.charCodeAt(i++);\n                chr2 = input.charCodeAt(i++);\n                chr3 = input.charCodeAt(i++);\n \n                enc1 = chr1 >> 2;\n                enc2 = ((chr1 & 3) << 4) | (chr2 >> 4);\n                enc3 = ((chr2 & 15) << 2) | (chr3 >> 6);\n                enc4 = chr3 & 63;\n \n                if (isNaN(chr2)) {\n                    enc3 = enc4 = 64;\n                } else if (isNaN(chr3)) {\n                    enc4 = 64;\n                }\n \n                output = output +\n                    this.keyStr.charAt(enc1) +\n                    this.keyStr.charAt(enc2) +\n                    this.keyStr.charAt(enc3) +\n                    this.keyStr.charAt(enc4);\n                chr1 = chr2 = chr3 = \"\";\n                enc1 = enc2 = enc3 = enc4 = \"\";\n            } while (i < input.length);\n \n            return output;\n        },\n \n        decode: function (input) {\n            var output = \"\";\n            var chr1, chr2, chr3 = \"\";\n            var enc1, enc2, enc3, enc4 = \"\";\n            var i = 0;\n \n            // remove all characters that are not A-Z, a-z, 0-9, +, /, or =\n            var base64test = /[^A-Za-z0-9\\+\\/\\=]/g;\n            if (base64test.exec(input)) {\n                window.alert(\"There were invalid base64 characters in the input text.\\n\" +\n                    \"Valid base64 characters are A-Z, a-z, 0-9, '+', '/',and '='\\n\" +\n                    \"Expect errors in decoding.\");\n            }\n            input = input.replace(/[^A-Za-z0-9\\+\\/\\=]/g, \"\");\n \n            do {\n                enc1 = this.keyStr.indexOf(input.charAt(i++));\n                enc2 = this.keyStr.indexOf(input.charAt(i++));\n                enc3 = this.keyStr.indexOf(input.charAt(i++));\n                enc4 = this.keyStr.indexOf(input.charAt(i++));\n \n                chr1 = (enc1 << 2) | (enc2 >> 4);\n                chr2 = ((enc2 & 15) << 4) | (enc3 >> 2);\n                chr3 = ((enc3 & 3) << 6) | enc4;\n \n                output = output + String.fromCharCode(chr1);\n \n                if (enc3 != 64) {\n                    output = output + String.fromCharCode(chr2);\n                }\n                if (enc4 != 64) {\n                    output = output + String.fromCharCode(chr3);\n                }\n \n                chr1 = chr2 = chr3 = \"\";\n                enc1 = enc2 = enc3 = enc4 = \"\";\n \n            } while (i < input.length);\n \n            return output;\n        }\n    };\napp.factory('BookingService', BookingService);\n\n    BookingService.$inject = ['$http', '$location'];\n    function BookingService($http, $location) {\n\n        // console.log(\"CALLED\");\n       var service = {};\n\n        service.GetAll = GetAll;\n        service.GetEdit = GetEdit;\n        service.Create = Create;\n        // service.Update = Update;\n        service.DeleteBooking = DeleteBooking;\n        service.GetInstructors = GetInstructors;\n        service.GetAllPlanes = GetAllPlanes;\n        service.GetPlaneInstructors = GetPlaneInstructors;\n        service.GetRentalItems = GetRentalItems;\n        service.updateBooking = updateBooking;\n        service.GetAllUserClub = GetAllUserClub;\n        service.GetPlaneInstructorsEdit = GetPlaneInstructorsEdit;\n        service.GetIfCurrent = GetIfCurrent;\n        service.GetTodayBookingsUser = GetTodayBookingsUser;\n        service.GetForBookout = GetForBookout;\n        service.GetForBookIn = GetForBookIn;\n        service.GetBookingsToReview = GetBookingsToReview;\n        service.GetAllInstructor = GetAllInstructor;\n        service.AcceptBooking = AcceptBooking;\n        service.DeclineBooking = DeclineBooking;\n        service.ResendInvitation = ResendInvitation;\n        service.DeleteInvitation = DeleteInvitation;\n\n        service.GetBookingsToBrief = GetBookingsToBrief;\n        service.GetBookingsToDebrief = GetBookingsToDebrief;\n        service.SetBookingToBriefed = SetBookingToBriefed;\n        \n        service.GetForForDebrief = GetForForDebrief;\n        service.GetBookingsToDebrief = GetBookingsToDebrief;\n\n        service.GetForForDebriefPls = GetForForDebriefPls;\n\n        service.GetInstructorByUser = GetInstructorByUser;\n        service.GetInstructorPlanes = GetInstructorPlanes;\n\n        return service;\n\n        function GetBookingsToReview(user_id){\n            return $http.get('/api/v1/bookings/to_approve/'+user_id).then(handleSuccess, handleError2);\n        }\n\n        function GetForBookIn(id){\n            return $http.get('/api/v1/plane_log_sheets/'+id).then(handleSuccess, handleError2);\n        }\n\n        function GetAllUserClub(user_id,club_id,start,end){\n            // /bookings/user_club/USER_ID/CLUB_ID/START/END\n            return $http.get('/api/v1/bookings/user_club/'+user_id+'/'+club_id+'/'+start+'/'+end).then(handleSuccess, handleError2);\n        }\n\n        function GetAll(user_id, start, end) {\n            return $http.get('/api/v1/bookings/'+user_id+'/'+start+'/'+end).then(handleSuccess, handleError2);\n        }\n\n        function GetAllInstructor(user_id, start, end) {\n            return $http.get('/api/v1/bookings/instructor_schedule/'+user_id+'/'+start+'/'+end).then(handleSuccess, handleError2);\n        }\n\n        function GetTodayBookingsUser(user_id) {\n            return $http.get('/api/v1/bookings/user_bookings_today/'+user_id).then(handleSuccess, handleError2);\n        }\n        \n        function GetForBookout(user_id, booking_id) {\n            return $http.get('/api/v1/bookings/for_bookout/'+user_id+'/'+booking_id).then(handleSuccess, handleError2);\n        }\n\n        function GetEdit(user_id, booking_id) {\n            return $http.get('/api/v1/bookings/edit/'+user_id+'/'+booking_id).then(handleSuccess, handleError2);\n        }\n\n        function updateBooking(update, user_id){\n            update.person_editing = user_id;\n            //console.log(\"UPDATE CONTENT\", update);\n            //start and end need to be defined...\n            return $http.put('/api/v1/bookings/'+update.id+'/'+user_id, update).then(handleSuccess, handleError2);\n        }\n\n        function AcceptBooking(id, user_id){\n            return $http.put('/api/v1/bookings/accept_booking/'+id+'/'+user_id, {}).then(handleSuccess, handleError2);\n        }\n        function DeclineBooking(id, user_id, content){\n            return $http.put('/api/v1/bookings/decline_booking/'+id+'/'+user_id, content).then(handleSuccess, handleError2);\n        }\n\n        function GetIfCurrent(user_id, plane_id, end_date){\n            return $http.get('/api/v1/bookings/pilot_currency/'+user_id+'/'+plane_id+'/'+end_date).then(handleSuccess, handleError2);\n        }\n\n        function GetAllPlanes(user_id, start, end, show_all, rented_id = 0) {\n            console.log(\"GET ALL PLANES? \");\n            return $http.get('/api/v1/bookings/planes/'+user_id+'/'+start+'/'+end+\"?show_all=\"+show_all+\"&rented_id=\"+rented_id).then(handleSuccess, handleError2);\n        }\n\n        function GetInstructors(user_id, start, end, show_all){\n            return $http.get('/api/v1/bookings/instructors/'+user_id+'/'+start+'/'+end).then(handleSuccess, handleError2);\n        }\n\n        function GetInstructorByUser(user_id){\n            return $http.get('/api/v1/bookings/instructor_by_user/'+user_id).then(handleSuccess, handleError2);\n        }\n\n        function GetInstructorPlanes(user_id, instructor_user_id, start, end){\n            return $http.get('/api/v1/bookings/instructor_planes/'+user_id+'/'+instructor_user_id+'/'+start+'/'+end).then(handleSuccess, handleError2);\n        }\n\n        function GetPlaneInstructors(user_id, plane_id, start, end, show_all){\n            return $http.get('/api/v1/bookings/plane_instructors/'+user_id+'/'+plane_id+'/'+start+'/'+end+\"?show_all=\"+show_all).then(handleSuccess, handleError2);\n        }\n\n        // function GetPlaneInstructors2(user_id, plane_id, start, end, show_all){\n        //     //this is for the all instructors not presently booked elsewhere...\n        //     return $http.get('/api/v1/bookings/plane_instructors3/'+user_id+'/'+plane_id+'/'+start+'/'+end+\"?show_all=\"+show_all).then(handleSuccess, handleError('Error getting all Image'));\n        // }\n\n        function GetPlaneInstructorsEdit(user_id, plane_id, start, end, show_all, booking_id){\n            return $http.get('/api/v1/bookings/plane_instructors2/'+user_id+'/'+plane_id+'/'+start+'/'+end+\"/\"+booking_id+\"?show_all=\"+show_all).then(handleSuccess, handleError2);\n        }\n\n        function GetRentalItems(club_id, start, end, show_all){\n            return $http.get('/api/v1/bookings/rental_items/'+club_id+'/'+start+'/'+end+\"?show_all=\"+show_all).then(handleSuccess, handleError2);\n        }\n\n        function Create(user_id, booking) {\n            var url = '/api/v1/bookings/';\n            return $http.post(url, booking).then(handleSuccess, handleError2);\n        }\n\n        \n        function ResendInvitation(content, id){\n               // /resend_invitation\n            return $http.post('/api/v1/invitations/resend_invitation/'+id, content).then(handleSuccess, handleError2);\n        }\n\n        function DeleteInvitation(content, id){\n            //DeleteInvitation\n            return $http.delete('/api/v1/invitations/'+id).then(handleSuccess, handleError2);\n        }\n\n        // function Update(user_id, holiday) {\n        //     //maybe some sanitation required here? especially for the user_id bit...\n        //      var send = {\n        //         id: holiday.id,\n        //         user_id: user_id,\n        //         title: holiday.title,\n        //         from_date: holiday.start,\n        //         to_date: holiday.end,\n        //         allDay: holiday.allDay\n        //     }\n        //     return $http.put('/api/v1/instructor_holiday/' + holiday.id, send).then(handleSuccess, handleError('Error updating Image'));\n        // }\n\n        function DeleteBooking(user_id, delete_id) {\n            //this should be a disabled function only available for people working for the software\n            return $http.delete('/api/v1/bookings/' + delete_id + '?user_id=' + user_id).then(handleSuccess, handleError2);\n        }\n\n\n\n\n        //instructor briefing tools::\n        function GetBookingsToBrief(instructor_id){\n\n            return $http.get('/api/v1/bookings/instructor_brief').then(handleSuccess, handleError2);\n\n        }\n\n        function GetBookingsToDebrief(instructor_id){\n\n            return $http.get('/api/v1/bookings/instructor_debrief').then(handleSuccess, handleError2);\n\n        }\n\n        function SetBookingToBriefed(booking_id){\n            return $http.put('/api/v1/bookings/set_briefed/'+booking_id, {}).then(handleSuccess, handleError2);\n\n        }\n\n\n\n        function GetForForDebrief(booking_id){\n            return $http.get('/api/v1/bookings/for_debrief/'+booking_id, {}).then(handleSuccess, handleError2);\n\n        }\n\n        function GetForForDebriefPls(pls_id){\n            //GetForForDebriefPls\n            return $http.get('/api/v1/bookings/for_debrief_pls/'+pls_id, {}).then(handleSuccess, handleError2);\n        }\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n        // private functions\n\n        function handleSuccess(res) {\n            return res.data;\n        }\n\n        function handleError2(res) {\n            console.log(\"ERROR\", res);\n\n            if(res.status == 401){\n                $location.path('/login');\n            }    \n\n            return { success: false, message: res.data, status: res.status };\n        }\n\n        function handleError(error) {\n            return function () {\n                return { success: false, message: error };\n            };\n        }\n    }\napp.filter('orderAirfields', function () {\n  // custom value function for sorting\n  function myValueFunction(card) {\n    return card.values.opt1 + card.values.opt2;\n  }\n\n  function getDistance(airfield, default_lat, default_long) {\n      var R = 6371; // Radius of the earth in km\n      var dLat = deg2rad(airfield.wgs_n-default_lat);  // deg2rad below\n      var dLon = deg2rad(airfield.wgs_e-default_long); \n      var a = \n        Math.sin(dLat/2) * Math.sin(dLat/2) +\n        Math.cos(deg2rad(default_lat)) * Math.cos(deg2rad(airfield.wgs_n)) * \n        Math.sin(dLon/2) * Math.sin(dLon/2)\n        ; \n      var c = 2 * Math.atan2(Math.sqrt(a), Math.sqrt(1-a)); \n      var d = R * c; // Distance in km\n      return d;\n    }\n\n    function deg2rad(deg) {\n      return deg * (Math.PI/180)\n    }\n\n  return function (obj, default_lat, default_long) {\n    var array = [];\n    if(default_lat && default_long && obj){\n\n        Object.keys(obj).forEach(function (key) {\n          // inject key into each object so we can refer to it from the template\n          obj[key].name = key;\n          array.push(obj[key]);\n        });\n        // apply a custom sorting function\n       array.sort(function (a, b) {\n          return getDistance(a, default_lat, default_long) - getDistance(b, default_lat, default_long);\n        }); \n    }\n    \n    return array;\n  };\n});\n\napp.filter('formatHours', function(){\n\n    return function(input) {\n\n        var n = new Date(0,0);\n        n.setSeconds(+input * 60 * 60);\n\n        return n.toTimeString().slice(0, 5);\n\n    }\n   \n});\n\n\napp.filter('addS', function(){\n\n    return function(input, number) {\n\n        if(number > 1){\n            input = input+ \"s\";\n        }\n\n        return input;\n    }\n   \n});\napp.factory('BookoutService', BookoutService);\n\n    BookoutService.$inject = ['$http', '$location'];\n    function BookoutService($http, $location) {\n\n        // console.log(\"CALLED\");\n       var service = {};\n\n        service.GetAll = GetAll;\n        service.GetEdit = GetEdit;\n        service.Create = Create;\n        // service.Update = Update;\n        service.DeleteBooking = DeleteBooking;\n        service.GetInstructors = GetInstructors;\n        service.GetAllPlanes = GetAllPlanes;\n        service.GetPlaneInstructors = GetPlaneInstructors;\n        service.GetRentalItems = GetRentalItems;\n        service.updateBooking = updateBooking;\n        service.GetAirfields = GetAirfields;\n        service.GetAirfieldsByCode = GetAirfieldsByCode;\n        service.SendBookout = SendBookout;\n        service.GetBookoutsToComplete = GetBookoutsToComplete;\n        service.BookInFlight = BookInFlight;\n        service.PayBooking = PayBooking;\n        service.AddPassenger = AddPassenger;\n        service.GetPassengers = GetPassengers;\n        service.CancelBookout = CancelBookout;\n        service.CheckPayment = CheckPayment;\n        service.RetryPaymentMachine = RetryPaymentMachine;\n        service.ClearMachine = ClearMachine;\n        service.ConfirmPayment = ConfirmPayment;\n       \n        return service;\n        //ConfirmPayment\n\n        function ConfirmPayment(payment_id, club_id){\n            return $http.post('/api/v1/cards/confirm_payment', {payment_id: payment_id, club_id: club_id}).then(handleSuccess, handleError2);\n        }\n        function ClearMachine(payment_id, club_id){\n            return $http.post('/api/v1/cards/clear_machine', {paymentID: payment_id, club_id: club_id}).then(handleSuccess, handleError2);\n        }\n        function RetryPaymentMachine(payment_id, club_id){\n            return $http.post('/api/v1/cards/retry_payment_machine', {paymentID: payment_id, club_id: club_id}).then(handleSuccess, handleError2);\n        }\n\n        function CheckPayment(id){\n            return $http.post('/api/v1/cards/check_payment', {paymentID: id}).then(handleSuccess, handleError2);\n        }\n\n        function GetAirfields(start_with){\n            return $http.get('/api/v1/airfields/all/'+start_with).then(handleSuccess, handleError2);\n        }\n\n        function GetAirfieldsByCode(code){\n            return $http.get('/api/v1/airfields/code/'+code).then(handleSuccess, handleError2);\n        }\n\n        function GetAll(user_id, start, end) {\n            return $http.get('/api/v1/bookings/'+user_id+'/'+start+'/'+end).then(handleSuccess, handleError2);\n        }\n\n        \n        function AddPassenger(data, id){\n            return $http.post(\"/api/v1/invitations/new_passenger/\"+id, data).then(handleSuccess, handleError2);\n        }\n\n        function GetPassengers(id){\n            return $http.get(\"/api/v1/invitations/\"+id+\"/passengers\").then(handleSuccess, handleError2);\n        }\n        \n\n        function GetEdit(user_id, booking_id) {\n            return $http.get('/api/v1/bookings/edit/'+user_id+'/'+booking_id).then(handleSuccess, handleError2);\n        }\n\n        function updateBooking(update, user_id){\n            update.person_editing = user_id;\n            //console.log(\"UPDATE CONTENT\", update);\n            //start and end need to be defined...\n            return $http.put('/api/v1/bookings/'+update.id+'/'+user_id, update).then(handleSuccess, handleError2);\n        }\n\n        function GetAllPlanes(user_id, start, end, show_all, rented_id = 0) {\n            return $http.get('/api/v1/bookings/planes/'+user_id+'/'+start+'/'+end+\"?show_all=\"+show_all+\"&rented_id=\"+rented_id).then(handleSuccess, handleError2);\n        }\n\n        function GetInstructors(user_id, start, end, show_all){\n            return $http.get('/api/v1/bookings/instructors/'+user_id+'/'+start+'/'+end).then(handleSuccess, handleError2);\n        }\n\n        function GetPlaneInstructors(user_id, plane_id, start, end, show_all){\n            return $http.get('/api/v1/bookings/plane_instructors/'+user_id+'/'+plane_id+'/'+start+'/'+end+\"?show_all=\"+show_all).then(handleSuccess, handleError2);\n        }\n\n        function GetRentalItems(club_id, start, end, show_all){\n            return $http.get('/api/v1/bookings/rental_items/'+club_id+'/'+start+'/'+end+\"?show_all=\"+show_all).then(handleSuccess, handleError2);\n        }\n\n        function Create(user_id, booking) {\n            var url = '/api/v1/bookings/';\n            return $http.post(url, booking).then(handleSuccess, handleError2);\n        }\n\n        // function Update(user_id, holiday) {\n        //     //maybe some sanitation required here? especially for the user_id bit...\n        //      var send = {\n        //         id: holiday.id,\n        //         user_id: user_id,\n        //         title: holiday.title,\n        //         from_date: holiday.start,\n        //         to_date: holiday.end,\n        //         allDay: holiday.allDay\n        //     }\n        //     return $http.put('/api/v1/instructor_holiday/' + holiday.id, send).then(handleSuccess, handleError2);\n        // }\n\n        function DeleteBooking(user_id, delete_id) {\n            //this should be a disabled function only available for people working for the software\n            return $http.delete('/api/v1/bookings/' + delete_id + '?user_id=' + user_id).then(handleSuccess, handleError2);\n        }\n\n\n\n\n        //NOWNOWNOW\n\n        function GetBookoutsToComplete(user_id) {\n            return $http.get('/api/v1/plane_log_sheets/incomplete/'+user_id).then(handleSuccess, handleError2);\n        }\n\n        function GetBookout(user_id, plane_id, id){\n            return $http.get('/api/v1/plane_log_sheets/plane_instructors/'+user_id+'/'+plane_id+'/'+start+'/'+end+\"?show_all=\"+show_all).then(handleSuccess, handleError2);\n        }\n\n        function SendBookout(user_id, bookout) {\n            return $http.post('/api/v1/plane_log_sheets', bookout).then(handleSuccess, handleError2);\n        }\n\n        function UpdateBookout(id, amended_bookout) {\n            //maybe some sanitation required here? especially for the user_id bit...\n            return $http.put('/api/v1/plane_log_sheets/' + id, amended_bookout).then(handleSuccess, handleError2);\n        }\n\n        function DeleteBookout(user_id, delete_id) {\n            //this should be a disabled function only available for people working for the software\n            return $http.delete('/api/v1/plane_log_sheets/' + delete_id + '?user_id=' + user_id).then(handleSuccess, handleError2);\n        }\n\n        function BookInFlight(id, complete_bookin) {\n            //maybe some sanitation required here? especially for the user_id bit...\n            return $http.put('/api/v1/plane_log_sheets/booking_in/' + id, complete_bookin).then(handleSuccess, handleError2);\n        }\n\n        function PayBooking(id, complete_payment){\n            return $http.put('/api/v1/plane_log_sheets/payment_for/' + id, complete_payment).then(handleSuccess, handleError2);\n        }\n\n        function CancelBookout(id){\n            return $http.delete('/api/v1/plane_log_sheets/' + id).then(handleSuccess, handleError2);\n        }\n\n\n\n        function handleError2(res) {\n            console.log(\"ERROR\", res);\n\n            if(res.status == 401){\n                $location.path('/login');\n            }    \n\n            return { success: false, message: res.data, status: res.status };\n        }\n\n\n        // private functions\n\n        function handleSuccess(res) {\n            return res.data;\n        }\n\n        function handleError(error) {\n            return function () {\n                return { success: false, message: error };\n            };\n        }\n    }\napp.factory('CategoryService', CategoryService);\n\n    CategoryService.$inject = ['$http'];\n    function CategoryService($http) {\n        var service = {};\n\n        service.GetAll = GetAll;\n        service.GetById = GetById;\n        service.Create = Create;\n        service.Update = Update;\n        service.Delete = Delete;\n\n        return service;\n\n        function GetAll() {\n            return $http.get('/api/v1/categories').then(handleSuccess, handleError('Error getting all users'));\n        }\n\n        function GetById(id) {\n            return $http.get('/api/v1/categories/' + id).then(handleSuccess, handleError('Error getting user by id'));\n        }\n\n        function Create(category) {\n            return $http.post('/api/v1/categories', category).then(handleSuccess, handleError('Error creating user'));\n        }\n\n        function Update(category) {\n            return $http.put('/api/v1/categories/' + category.id, category).then(handleSuccess, handleError('Error updating user'));\n        }\n\n        function Delete(id) {\n            return $http.delete('/api/v1/categories/' + id).then(handleSuccess, handleError('Error deleting user'));\n        }\n\n        // private functions\n\n        function handleSuccess(res) {\n            return res.data;\n        }\n\n        function handleError(error) {\n            return function () {\n                return { success: false, message: error };\n            };\n        }\n    }\napp.factory('ClubDocumentService', ClubDocumentService);\n\n    ClubDocumentService.$inject = ['$http', '$location'];\n    function ClubDocumentService($http, $location) {\n        var service = {};\n\n     \n        service.GetByClubId = GetByClubId;\n        service.GetById = GetById;\n        service.GetByUserId = GetByUserId;\n        service.Create = Create;\n        service.Update = Update;\n        service.Delete = Delete;\n        service.DeleteTmp = DeleteTmp;\n       \n        return service; \n\n        //settings for the licences... not sure they'll be required anywhere else - so keep em here now...\n\n      \n\n        function GetById(id, user_id) {\n            return $http.get('/api/v1/club_documents/' + id).then(handleSuccess, handleError2);\n        }\n\n        function GetByUserId(user_id) {\n            return $http.get('/api/v1/plane_documents/get_all_from_user/' + user_id).then(handleSuccess, handleError2);\n        }\n\n        \n\n        function GetByClubId(id) {\n            //TODO\n            //this is awful... needs to be sorted out...\n            return $http.get('/api/v1/club_documents/all/' + id).then(handleSuccess, handleError2);\n        }\n\n     \n        function Create(poid) {\n            return $http.post('/api/v1/club_documents', poid).then(handleSuccess, handleError2);\n        }\n\n        function Update(poid) {\n            return $http.put('/api/v1/club_documents/' + poid.id, poid).then(handleSuccess, handleError2);\n        }\n\n        function Delete(user_id, id) {\n            return $http.delete('/api/v1/club_documents/' + id+'?user_id='+user_id).then(handleSuccess, handleError2);\n        }\n\n        function DeleteTmp(file) {\n            return $http.post('tmp_rm.php', {tmp: file}).then(handleSuccess, handleError2);\n        }\n\n        \n        function handleError2(res) {\n            console.log(\"ERROR\", res);\n\n            if(res.status == 401){\n                $location.path('/login');\n            }    \n\n            return { success: false, message: res.data, status: res.status };\n        }\n\n        // private functions\n\n        function handleSuccess(res) {\n            return res.data;\n        }\n\n        function handleError(error) {3\n            return function () {\n                return { success: false, message: error };\n            };\n        }\n    }\napp.factory('ClubPaymentService', ClubPaymentService);\n\n    ClubPaymentService.$inject = ['$http', '$location'];\n    function ClubPaymentService($http, $location) {\n        var service = {};\n\n\n        service.GetPaymentsByClub = GetPaymentsByClub;\n\n        service.GetPaymentTypes = GetPaymentTypes;\n        service.GetByUserId = GetByUserId;\n        service.GetAuthority = GetAuthority;\n        service.Create = Create;\n        service.Delete = Delete;\n        service.Refund = Refund;\n       \n        service.GetUserForPayment = GetUserForPayment;\n\n        return service; \n\n        //settings for the licences... not sure they'll be required anywhere else - so keep em here now...\n\n        function GetPaymentsByClub(club_id){\n            return $http.get('/api/v1/payments/by_club/'+club_id).then(handleSuccess, handleError2);\n        }\n\n        function Refund(refund) {\n            return $http.post('/api/v1/payments/refund', refund).then(handleSuccess, handleError2);\n        }\n\n\n        \n        \n\n        function GetPaymentTypes() {\n            return $http.get('/api/v1/poid_components').then(handleSuccess, handleError2);\n        }\n\n        function GetAuthority() {\n            return $http.get('/api/v1/authority').then(handleSuccess, handleError2);\n        }\n\n        function GetUserForPayment() {\n            return $http.get('/api/v1/cards/user').then(handleSuccess, handleError2);\n        }\n\n        function GetByUserId(user_id){\n            return $http.get('/api/v1/cards/'+user_id).then(handleSuccess, handleError2);\n        }\n\n        function Create(card) {\n            return $http.post('/api/v1/cards', card).then(handleSuccess, handleError2);\n        }\n\n        \n\n        function Delete(id, user_id) {\n            return $http.delete('/api/v1/cards/' + id+'?user_id='+user_id).then(handleSuccess, handleError2);\n        }\n\n     \n        \n        function handleError2(res) {\n            console.log(\"ERROR\", res);\n\n            if(res.status == 401){\n                $location.path('/login');\n            }    \n\n            return { success: false, message: res.data, status: res.status };\n        }\n\n        // private functions\n\n        function handleSuccess(res) {\n            return res.data;\n        }\n\n        function handleError(error) {\n            return function () {\n                return { success: false, message: error };\n            };\n        }\n    }\napp.factory('ClubService', ClubService);\n\n    ClubService.$inject = ['$http', '$location'];\n    function ClubService($http, $location) {\n\n        // console.log(\"CALLED\");\n       var service = {};\n\n        service.GetAll = GetAll;\n        service.GetById = GetById;\n        service.Create = Create;\n        service.Update = Update;\n        service.Delete = Delete;\n        service.CheckLink = CheckLink;\n        service.GetByUrl = GetByUrl;\n        service.DownloadZip = DownloadZip;\n\n        service.GetClubInvoices = GetClubInvoices;\n        service.GetClubTotals = GetClubTotals;\n\n        service.GetAllForUser = GetAllForUser;\n\n        //get_all_for_user\n       \n        return service; \n\n        function GetAllForUser(user_id){\n            return $http.get('/api/v1/clubs/get_all_for_user/'+user_id).then(handleSuccess, handleError2);\n        }\n\n        function GetAll() {\n            return $http.get('/api/v1/clubs/').then(handleSuccess, handleError2);\n        }\n\n        function GetById(club_id) {\n            return $http.get('/api/v1/clubs/' + club_id).then(handleSuccess, handleError2);\n        }\n\n        function GetByUrl(url){\n            return $http.post('/api/v1/clubs/get_by_url', url).then(handleSuccess, handleError2);\n        }\n\n        function Create(club) {\n            $http.defaults.headers.common['Api-Key'] = \"eW91a25vd25vdGhpbmdqb25zbm93\";\n            var url = '/api/v1/clubs/';\n            return $http.post(url, club).then(handleSuccess, handleError2);\n        }\n\n        function Update(club) {\n            return $http.put('/api/v1/clubs/' + club.id, club).then(handleSuccess, handleError2);\n        }\n\n        function Delete(club_id) {\n            //this should be a disabled function only available for people working for the software\n            return $http.delete('/api/v1/clubs/' + club_id).then(handleSuccess, handleError2);\n        }\n\n        function CheckLink(link){\n            $http.defaults.headers.common['Api-Key'] = \"eW91a25vd25vdGhpbmdqb25zbm93\";\n            return $http.post('/api/v1/clubs/check_link', {gallery_link: link}).then(handleSuccess, handleError2);\n        }\n        //download_zip\n        function DownloadZip(zip){\n            $http.defaults.headers.common['Api-Key'] = \"eW91a25vd25vdGhpbmdqb25zbm93\";\n            return $http.post('/api/v1/clubs/download_zip', zip).then(handleSuccess, handleError2);\n        }\n\n        function GetClubInvoices(club_id, from_date, to_date){\n            \n            return $http.post('/api/v1/invoices/get_all_for_club/' + club_id, {from_date: from_date, to_date: to_date}).then(handleSuccess, handleError2);\n\n        }\n\n        function GetClubTotals(club_id, from_date, to_date){\n            \n            return $http.post('/api/v1/invoices/get_totals_for_club/' + club_id, {from: from_date, to: to_date}).then(handleSuccess, handleError2);\n\n        }\n        \n\n\n        function handleError2(res) {\n            console.log(\"ERROR\", res);\n\n            if(res.status == 401){\n                $location.path('/login');\n            }    \n\n            return { success: false, message: res.data, status: res.status };\n        }\n\n        // private functions\n\n        function handleSuccess(res) {\n            return res.data;\n        }\n\n        function handleError(error) {\n            return function () {\n                return { success: false, message: error };\n            };\n        }\n    }\napp.factory('CourseService', CourseService);\n\n    CourseService.$inject = ['$http', '$location'];\n    function CourseService($http, $location) {\n        var service = {};\n        \n        service.GetCourseById = GetCourseById;\n        service.GetCoursesByUserId = GetCoursesByUserId;\n        service.GetCoursesByClubId = GetCoursesByClubId;\n        service.CreateCourse = CreateCourse;\n        service.UpdateCourse = UpdateCourse;\n        service.DeleteCourse = DeleteCourse;\n\n        service.GetLessonById = GetLessonById;\n        service.GetLessonsByCourseId = GetLessonsByCourseId;\n        service.CreateLesson = CreateLesson;\n        service.UpdateLesson = UpdateLesson;\n        service.DeleteLesson = DeleteLesson;\n        service.UpdateLessonOrder = UpdateLessonOrder;\n\n        service.GetTemByLessonId = GetTemByLessonId;\n        service.CreateTem = CreateTem;\n        service.UpdateTem = UpdateTem;\n        service.DeleteTem = DeleteTem;\n        service.UpdateTemOrder = UpdateTemOrder;\n\n        service.GetBulletsByLessonId = GetBulletsByLessonId;\n        service.CreateBullet = CreateBullet;\n        service.UpdateBullet = UpdateBullet;\n        service.DeleteBullet = DeleteBullet;\n        service.UpdateBulletOrder = UpdateBulletOrder;\n\n        service.GetItemsByLessonId = GetItemsByLessonId;\n        service.CreateItem = CreateItem;\n        service.UpdateItem = UpdateItem;\n        service.DeleteItem = DeleteItem;\n        service.UpdateItemsOrder = UpdateItemsOrder;\n       \n        service.GetExamsByCourseId = GetExamsByCourseId;\n        service.CreateExam = CreateExam;\n        service.UpdateExam = UpdateExam;\n        service.DeleteExam = DeleteExam;\n\n        service.GetChargesByCourseId = GetChargesByCourseId;\n        service.CreateCharge = CreateCharge;\n        service.UpdateCharge = UpdateCharge;\n        service.DeleteCharge = DeleteCharge;\n\n        service.CreateTrainingRecord = CreateTrainingRecord;\n        service.GetStudentTrainingRecords = GetStudentTrainingRecords;\n        service.CreateExamRecord = CreateExamRecord;\n        service.UpdateTrainingRecord = UpdateTrainingRecord;\n\n\n        service.GetTagsByCourseId = GetTagsByCourseId;\n        service.CreateTags = CreateTags;\n        service.UpdateTags = UpdateTags;\n        service.DeleteTags = DeleteTags;\n\n        service.GetStudentTrainingRecordsForFlight = GetStudentTrainingRecordsForFlight;\n\n        // LESSON CONTENT FILES\n        service.GetLessonContentFiles = GetLessonContentFiles;\n        service.GetLessonContentFileData = GetLessonContentFileData;\n        service.UploadLessonContentFile = UploadLessonContentFile;\n        service.DeleteLessonContentFile = DeleteLessonContentFile;\n        service.UpdateLessonContentFile = UpdateLessonContentFile;\n        service.UpdateLessonContentFilesOrder = UpdateLessonContentFilesOrder;\n\n\n        return service; \n\n        //settings for the licences... not sure they'll be required anywhere else - so keep em here now...\n\n        function GetCourseById(id) {\n            return $http.get('/api/v1/courses/' + id).then(handleSuccess, handleError2);\n        }\n\n        function GetCoursesByClubId(club_id) {\n            return $http.get('/api/v1/courses/club/'+club_id).then(handleSuccess, handleError2);\n        }\n\n        function GetCoursesByUserId(user_id){\n            return $http.get('/api/v1/courses/user/'+user_id).then(handleSuccess, handleError2);\n        }\n\n        function CreateCourse(nok) {\n            return $http.post('/api/v1/courses', nok).then(handleSuccess, handleError2);\n        }\n\n        function UpdateCourse(nok) {\n            return $http.put('/api/v1/courses/' + nok.id, nok).then(handleSuccess, handleError2);\n        }\n\n        function DeleteCourse(id) {\n            return $http.delete('/api/v1/courses/' + id).then(handleSuccess, handleError2);\n        }\n\n\n        //LESSONS\n\n\n        function GetLessonById(id) {\n            return $http.get('/api/v1/lessons/' + id).then(handleSuccess, handleError2);\n        }\n\n        function GetLessonsByCourseId(course_id) {\n            return $http.get('/api/v1/lessons/course/'+course_id).then(handleSuccess, handleError2);\n        }\n\n        function CreateLesson(nok) {\n            return $http.post('/api/v1/lessons', nok).then(handleSuccess, handleError2);\n        }\n\n        function UpdateLesson(nok) {\n            return $http.put('/api/v1/lessons/' + nok.id, nok).then(handleSuccess, handleError2);\n        }\n\n        function DeleteLesson(id) {\n            return $http.delete('/api/v1/lessons/' + id).then(handleSuccess, handleError2);\n        }\n\n        function UpdateLessonOrder(bullets){\n            return $http.post('/api/v1/lessons/organise', bullets).then(handleSuccess, handleError2);\n\n        }\n\n\n        //TEM\n        function GetTemByLessonId(lesson_id) {\n            return $http.get('/api/v1/lesson_tem/lesson/'+lesson_id).then(handleSuccess, handleError2);\n        }\n\n        function CreateTem(obj) {\n            return $http.post('/api/v1/lesson_tem', obj).then(handleSuccess, handleError2);\n        }\n\n        function UpdateTem(obj) {\n            return $http.put('/api/v1/lesson_tem/' + obj.id, obj).then(handleSuccess, handleError2);\n        }\n\n        function DeleteTem(id) {\n            return $http.delete('/api/v1/lesson_tem/' + id).then(handleSuccess, handleError2);\n        }\n\n        function UpdateTemOrder(bullets){\n            return $http.post('/api/v1/lesson_tem/organise', bullets).then(handleSuccess, handleError2);\n\n        }\n\n\n        //BULLETS\n        function GetBulletsByLessonId(lesson_id) {\n            return $http.get('/api/v1/lesson_bullets/lesson/'+lesson_id).then(handleSuccess, handleError2);\n        }\n\n        function CreateBullet(obj) {\n            return $http.post('/api/v1/lesson_bullets', obj).then(handleSuccess, handleError2);\n        }\n\n        function UpdateBullet(obj) {\n            return $http.put('/api/v1/lesson_bullets/' + obj.id, obj).then(handleSuccess, handleError2);\n        }\n\n        function DeleteBullet(id) {\n            return $http.delete('/api/v1/lesson_bullets/' + id).then(handleSuccess, handleError2);\n        }\n\n        function UpdateBulletOrder(bullets){\n            return $http.post('/api/v1/lesson_bullets/organise', bullets).then(handleSuccess, handleError2);\n\n        }\n\n\n        //MARKING ITEMS --> ITEMS\n        function GetItemsByLessonId(lesson_id) {\n            return $http.get('/api/v1/lesson_items/lesson/'+lesson_id).then(handleSuccess, handleError2);\n        }\n\n        function CreateItem(obj) {\n            return $http.post('/api/v1/lesson_items', obj).then(handleSuccess, handleError2);\n        }\n\n        function UpdateItem(obj) {\n            return $http.put('/api/v1/lesson_items/' + obj.id, obj).then(handleSuccess, handleError2);\n        }\n\n        function DeleteItem(id) {\n            return $http.delete('/api/v1/lesson_items/' + id).then(handleSuccess, handleError2);\n        }\n        function UpdateItemsOrder(items){\n            return $http.post('/api/v1/lesson_items/organise', items).then(handleSuccess, handleError2);\n\n        }\n\n\n        //EXAMS \n        function GetExamsByCourseId(lesson_id) {\n            return $http.get('/api/v1/exams/course/'+lesson_id).then(handleSuccess, handleError2);\n        }\n\n        function CreateExam(obj) {\n            return $http.post('/api/v1/exams', obj).then(handleSuccess, handleError2);\n        }\n\n        function UpdateExam(obj) {\n            return $http.put('/api/v1/exams/' + obj.id, obj).then(handleSuccess, handleError2);\n        }\n\n        function DeleteExam(id) {\n            return $http.delete('/api/v1/exams/' + id).then(handleSuccess, handleError2);\n        }\n        // function UpdateItemsOrder(items){\n        //     return $http.post('/api/v1/exams/organise', items).then(handleSuccess, handleError2);\n\n        // }\n\n\n        //FLIGHT TAGS\n\n        function GetTagsByCourseId(lesson_id) {\n            return $http.get('/api/v1/tags/course/'+lesson_id).then(handleSuccess, handleError2);\n        }\n\n        function CreateTags(obj) {\n            return $http.post('/api/v1/tags', obj).then(handleSuccess, handleError2);\n        }\n\n        function UpdateTags(obj) {\n            return $http.put('/api/v1/tags/' + obj.id, obj).then(handleSuccess, handleError2);\n        }\n\n        function DeleteTags(id) {\n            return $http.delete('/api/v1/tags/' + id).then(handleSuccess, handleError2);\n        }\n\n\n\n        //INSTRUCTOR CHARGES \n        function GetChargesByCourseId(course_id) {\n            return $http.get('/api/v1/instructor_charges/course/'+course_id).then(handleSuccess, handleError2);\n        }\n\n        function CreateCharge(obj) {\n            return $http.post('/api/v1/instructor_charges', obj).then(handleSuccess, handleError2);\n        }\n\n        function UpdateCharge(obj) {\n            return $http.put('/api/v1/instructor_charges/' + obj.id, obj).then(handleSuccess, handleError2);\n        }\n\n        function DeleteCharge(id) {\n            return $http.delete('/api/v1/instructor_charges/' + id).then(handleSuccess, handleError2);\n        }\n\n\n\n        //DEBRIEF\n        function GetCourseForDebrief(booking_id){\n            return $http.get('/api/v1/courses/debrief/'+booking_id).then(handleSuccess, handleError2);\n        }\n\n        function CreateTrainingRecord(obj){\n            return $http.post('/api/v1/training_records', obj).then(handleSuccess, handleError2);\n        }\n\n        function UpdateTrainingRecord(obj, id){\n            return $http.put('/api/v1/training_records/'+id, obj).then(handleSuccess, handleError2);\n        }\n\n        function GetStudentTrainingRecords(user_id, course_id){\n            return $http.get('/api/v1/training_records/student/'+course_id+'/'+user_id).then(handleSuccess, handleError2);\n        }\n\n        function CreateExamRecord(obj){\n            return $http.post('/api/v1/exam_records', obj).then(handleSuccess, handleError2);\n        }\n\n        function GetStudentTrainingRecordsForFlight(user_id, course_id, flight_id){\n            return $http.get('/api/v1/training_records/student/'+course_id+'/'+user_id+'/'+flight_id).then(handleSuccess, handleError2);\n        }\n\n\n        // LESSON CONTENT FILES\n        function GetLessonContentFiles(lesson_id) {\n            return $http.get('/api/v1/lesson_content_files/lesson/' + lesson_id).then(handleSuccess, handleError2);\n        }\n\n        function GetLessonContentFileData(file_id) {\n            return $http.get('/api/v1/lesson_content_files/file/' + file_id).then(handleSuccess, handleError2);\n        }\n\n        function UploadLessonContentFile(formData) {\n            return $http.post('/api/v1/lesson_content_files', formData, {\n                transformRequest: angular.identity,\n                headers: { 'Content-Type': undefined }\n            }).then(handleSuccess, handleError2);\n        }\n\n        function UpdateLessonContentFile(id, formData) {\n            return $http.post('/api/v1/lesson_content_files/' + id, formData, {\n                transformRequest: angular.identity,\n                headers: { 'Content-Type': undefined }\n            }).then(handleSuccess, handleError2);\n        }\n\n        function DeleteLessonContentFile(id) {\n            return $http.delete('/api/v1/lesson_content_files/' + id).then(handleSuccess, handleError2);\n        }\n\n        function UpdateLessonContentFilesOrder(orderData) {\n            return $http.post('/api/v1/lesson_content_files/organise', orderData).then(handleSuccess, handleError2);\n        }\n\n\n        function handleError2(res) {\n            console.log(\"ERROR\", res);\n\n            if(res.status == 401){\n                $location.path('/login');\n            }    \n\n            return { success: false, message: res.data, status: res.status };\n        }\n\n        // private functions\n\n        function handleSuccess(res) {\n            return res.data;\n        }\n\n        function handleError(error) {\n            return function () {\n                return { success: false, message: error };\n            };\n        }\n    }\napp.factory('CrsService', ['$http', 'EnvConfig', function ($http, EnvConfig) {\n\n    var baseUrl = EnvConfig.getApiBaseUrl() + '/api/v1';\n\n    return {\n\n        // Get all CRS records for a plane\n        GetAll: function (planeId) {\n            return $http.get(baseUrl + '/plane_crs/all/' + planeId)\n                .then(function (res) { return res.data; });\n        },\n\n        // Get single CRS by ID\n        GetById: function (id) {\n            return $http.get(baseUrl + '/plane_crs/' + id)\n                .then(function (res) { return res.data; });\n        },\n\n        // Create a new CRS (auto-archives previous)\n        Create: function (data) {\n            return $http.post(baseUrl + '/plane_crs', data)\n                .then(function (res) { return res.data; });\n        },\n\n        // Delete (archive) a CRS\n        Delete: function (id) {\n            return $http.delete(baseUrl + '/plane_crs/' + id)\n                .then(function (res) { return res.data; });\n        },\n\n        // Download as binary (triggers browser download)\n        DownloadFile: function (filename) {\n            return baseUrl + '/plane_crs/show_file/' + filename;\n        },\n\n        // Download as base64 (for in-app preview)\n        GetFileBase64: function (filename) {\n            return $http.get(baseUrl + '/plane_crs/show_file2/' + filename)\n                .then(function (res) { return res.data; });\n        }\n\n    };\n\n}]);\n\napp.factory('DifferencesService', DifferencesService);\n\n    DifferencesService.$inject = ['$http', '$location'];\n    function DifferencesService($http, $location) {\n        var service = {};\n\n        service.GetDifferences = GetDifferences;\n        service.GetByUserId = GetByUserId;\n        service.GetByUserIdClub = GetByUserIdClub;\n\n        service.Update = Update;\n        \n       \n        return service; \n\n        //settings for the licences... not sure they'll be required anywhere else - so keep em here now...\n\n        function GetDifferences() {\n            return $http.get('/api/v1/differences').then(handleSuccess, handleError2);\n        }\n\n       \n      \n\n        function GetByUserId(id) {\n            //TODO\n            //this is awful... needs to be sorted out...\n            return $http.get('/api/v1/user_differences/' + id).then(handleSuccess, handleError2);\n        }\n\n        function GetByUserIdClub(id, club_id) {\n            //TODO\n            //this is awful... needs to be sorted out...\n            return $http.get('/api/v1/user_differences/' + id +\"/\"+club_id).then(handleSuccess, handleError2);\n        }\n\n        //  function GetByUserId(id, club_id) {\n        //     //TODO\n        //     //this is awful... needs to be sorted out...\n        //     return $http.get('/api/v1/user_differences/' + id +\"/\"+club_id).then(handleSuccess, handleError2);\n        // }\n\n\n\n        // function Create(licence) {\n        //     return $http.post('/api/v1/licences', licence).then(handleSuccess, handleError2);\n        // }\n\n        function Update(differences) {\n            return $http.put('/api/v1/user_differences/' + differences.user_id, differences).then(handleSuccess, handleError2);\n        }\n\n        // function Delete(user_id, id) {\n        //     return $http.delete('/api/v1/licences/' + id+'?user_id='+user_id).then(handleSuccess, handleError2);\n        // }\n\n        // function DeleteTmp(file) {\n        //     return $http.post('tmp_rm.php', {tmp: file}).then(handleSuccess, handleError2);\n        // }\n\n        \n        function handleError2(res) {\n            console.log(\"ERROR\", res);\n\n            if(res.status == 401){\n                $location.path('/login');\n            }    \n\n            return { success: false, message: res.data, status: res.status };\n        }\n\n\n        // private functions\n\n        function handleSuccess(res) {\n            return res.data;\n        }\n\n        function handleError(error) {\n            return function () {\n                return { success: false, message: error };\n            };\n        }\n    }\napp.factory('EnvConfig', EnvConfig);\n\n    EnvConfig.$inject = [];\n    function EnvConfig() {\n\n        // =============================================\n        // SET YOUR ENVIRONMENT HERE\n        // =============================================\n        var environment = 'development'; // 'development' | 'staging' | 'production'\n\n        var configs = {\n\n            development: {\n                api_base_url: 'https://local-api.toaviate.com',\n                stripe_publishable_key: 'pk_test_51QttFFG8WiGSRCORyxkdZTO8oajcqz9OUsvcDJFpr9FB2PAdbzJc0tS7WNnfzKYsTiqHN1YDZi5UtXk4K52SeD4h00YWXuChNd',\n                stripe_publishable_key_legacy: 'pk_test_Ers4ZfdIMZ59ac4wKy6FDAH2',\n                api_key: 'eW91a25vd25vdGhpbmdqb25zbm93',\n                debug: true\n            },\n\n            staging: {\n                api_base_url: 'https://staging-api.toaviate.com',\n                stripe_publishable_key: 'pk_test_51QttFFG8WiGSRCORyxkdZTO8oajcqz9OUsvcDJFpr9FB2PAdbzJc0tS7WNnfzKYsTiqHN1YDZi5UtXk4K52SeD4h00YWXuChNd',\n                stripe_publishable_key_legacy: 'pk_test_Ers4ZfdIMZ59ac4wKy6FDAH2',\n                api_key: 'eW91a25vd25vdGhpbmdqb25zbm93',\n                debug: true\n            },\n\n            production: {\n                api_base_url: 'https://api.toaviate.com',\n                stripe_publishable_key: 'REPLACE_WITH_LIVE_STRIPE_KEY',\n                stripe_publishable_key_legacy: 'REPLACE_WITH_LIVE_STRIPE_KEY_LEGACY',\n                api_key: 'eW91a25vd25vdGhpbmdqb25zbm93',\n                debug: false\n            }\n        };\n\n        var active = configs[environment] || configs.development;\n\n        return {\n            get: function(key) {\n                return active[key];\n            },\n            getEnvironment: function() {\n                return environment;\n            },\n            isProduction: function() {\n                return environment === 'production';\n            },\n            isDebug: function() {\n                return active.debug;\n            },\n            getStripeKey: function() {\n                return active.stripe_publishable_key;\n            },\n            getStripeKeyLegacy: function() {\n                return active.stripe_publishable_key_legacy;\n            },\n            getApiKey: function() {\n                return active.api_key;\n            },\n            getApiBaseUrl: function() {\n                return active.api_base_url;\n            }\n        };\n    }\n\napp.factory('ExperiencesService', ExperiencesService);\n\n    ExperiencesService.$inject = ['$http', '$location'];\n    function ExperiencesService($http, $location) {\n        var service = {};\n        \n        service.GetByClubId = GetByClubId;\n        service.GetById = GetById;\n        service.Create = Create;\n        service.Update = Update;\n        service.Delete = Delete;\n        service.GetDiscountsByClubId = GetDiscountsByClubId;\n        service.GetDiscountById = GetDiscountById;\n        service.CreateDiscount = CreateDiscount;\n        service.UpdateDiscount = UpdateDiscount;\n        service.DeleteDiscount = DeleteDiscount;\n        service.GetDiscountsByClubIdAndExperienceId = GetDiscountsByClubIdAndExperienceId;\n        // service.GetUpdatedCharges = GetUpdatedCharges;\n\n        return service; \n\n        //settings for the licences... not sure they'll be required anywhere else - so keep em here now...\n\n        // function GetUpdatedCharges(id){\n        //     return $http.get('/api/v1/plane_log_sheets/update_tuition_book_in/' + id).then(handleSuccess, handleError2);\n        // }\n       \n\n        //function for discounts\n\n        function GetDiscountsByClubId(club_id) {\n            return $http.get('/api/v1/experience_discounts/club/' + club_id).then(handleSuccess, handleError2);\n        }\n\n        function GetDiscountsByClubIdAndExperienceId(club_id, experience_id) {\n            return $http.get('/api/v1/experience_discounts/club_experience/'+ club_id+'/'+experience_id).then(handleSuccess, handleError2);\n        }\n\n        function GetDiscountById(id) {\n            return $http.get('/api/v1/experience_discounts/' + id).then(handleSuccess, handleError2);\n        }\n\n        function CreateDiscount(item) {\n            return $http.post('/api/v1/experience_discounts', item).then(handleSuccess, handleError2);\n        }\n\n        function UpdateDiscount(item, user_id) {\n            return $http.put('/api/v1/experience_discounts/' + item.id +'?user_id='+user_id, item).then(handleSuccess, handleError2);\n        }\n\n        function DeleteDiscount(user_id, id) {\n            return $http.delete('/api/v1/experience_discounts/' + id+'?user_id='+user_id).then(handleSuccess, handleError2);\n        }\n\n\n\n\n        function GetByClubId(club_id) {\n            return $http.get('/api/v1/experiences/club/' + club_id).then(handleSuccess, handleError2);\n        }\n\n        function GetById(id) {\n            return $http.get('/api/v1/experiences/' + id).then(handleSuccess, handleError2);\n        }\n\n        function Create(item) {\n            return $http.post('/api/v1/experiences', item).then(handleSuccess, handleError2);\n        }\n\n        function Update(item, user_id) {\n            return $http.put('/api/v1/experiences/' + item.id +'?user_id='+user_id, item).then(handleSuccess, handleError2);\n        }\n\n        function Delete(user_id, id) {\n            return $http.delete('/api/v1/experiences/' + id+'?user_id='+user_id).then(handleSuccess, handleError2);\n        }\n\n\n\n        function handleError2(res) {\n            console.log(\"ERROR\", res);\n\n            if(res.status == 401){\n                $location.path('/login');\n            }    \n\n            return { success: false, message: res.data, status: res.status };\n        }\n\n        // private functions\n\n        function handleSuccess(res) {\n            return res.data;\n        }\n\n        function handleError(error) {\n            return function () {\n                return { success: false, message: error };\n            };\n        }\n    }\n\n    app.factory('FlashService', FlashService);\n\n    FlashService.$inject = ['$rootScope'];\n    function FlashService($rootScope) {\n        var service = {};\n\n        service.Success = Success;\n        service.Error = Error;\n\n        initService();\n\n        return service;\n\n        function initService() {\n            $rootScope.$on('$locationChangeStart', function () {\n                clearFlashMessage();\n            });\n\n            function clearFlashMessage() {\n                var flash = $rootScope.flash;\n                if (flash) {\n                    if (!flash.keepAfterLocationChange) {\n                        delete $rootScope.flash;\n                    } else {\n                        // only keep for a single location change\n                        flash.keepAfterLocationChange = false;\n                    }\n                }\n            }\n        }\n\n        function Success(message, keepAfterLocationChange) {\n            $rootScope.flash = {\n                message: message,\n                type: 'success', \n                keepAfterLocationChange: keepAfterLocationChange\n            };\n        }\n\n        function Error(message, keepAfterLocationChange) {\n            $rootScope.flash = {\n                message: message,\n                type: 'error',\n                keepAfterLocationChange: keepAfterLocationChange\n            };\n        }\n    }\napp.factory('FoxService', FoxService);\n\n    FoxService.$inject = ['$http', '$location'];\n    function FoxService($http, $location) {\n        var service = {};\n        \n        service.GetFoxEntries = GetFoxEntries;\n        service.GetFoxEntriesByPlane = GetFoxEntriesByPlane;\n        service.GetById = GetById;\n        service.Create = Create;\n        service.Update = Update;\n        service.Delete = Delete;\n        service.ResetAllClubPlanes = ResetAllClubPlanes;\n        service.FixUncombinedLogs = FixUncombinedLogs;\n        service.ResetOneClubPlane = ResetOneClubPlane;\n\n        return service; \n\n        \n        function FixUncombinedLogs(club_id){\n            // console.log(\"we're in the foxService here\");\n            //v1/fox/reset_aeroplane\n            return $http.get('/api/v1/fox/fix_uncombined').then(handleSuccess, handleError2);\n        \n        }\n\n        //settings for the licences... not sure they'll be required anywhere else - so keep em here now...\n        function ResetOneClubPlane(plane_id){\n            // console.log(\"we're in the foxService here\");\n            //v1/fox/reset_aeroplane\n            return $http.get('/api/v1/fox/reset_aeroplane/'+plane_id).then(handleSuccess, handleError2);\n        \n        }\n\n        //settings for the licences... not sure they'll be required anywhere else - so keep em here now...\n        function ResetAllClubPlanes(club_id){\n            // console.log(\"we're in the foxService here\");\n            //v1/fox/reset_aeroplane\n            return $http.get('/api/v1/fox/reset_all_aeroplanes/'+club_id).then(handleSuccess, handleError2);\n        \n        }\n\n        function GetFoxEntries(user_id) {\n            // console.log(\"we're in the foxService here\");\n            return $http.get('/api/v1/fox/user/'+user_id).then(handleSuccess, handleError2);\n        }\n\n        function GetFoxEntriesByPlane(plane_id) {\n            // console.log(\"we're in the foxService here\");\n            return $http.get('/api/v1/fox/plane/'+plane_id).then(handleSuccess, handleError2);\n        }\n\n        function GetById(id) {\n            return $http.get('/api/v1/next_of_kins/' + id).then(handleSuccess, handleError2);\n        }\n\n        function Create(nok) {\n            return $http.post('/api/v1/next_of_kins', nok).then(handleSuccess, handleError2);\n        }\n\n        function Update(nok) {\n            return $http.put('/api/v1/next_of_kins/' + nok.id, nok).then(handleSuccess, handleError2);\n        }\n\n        function Delete(user_id, id) {\n            return $http.delete('/api/v1/next_of_kins/' + id+'?user_id='+user_id).then(handleSuccess, handleError2);\n        }\n\n\n        function handleError2(res) {\n            console.log(\"ERROR\", res);\n\n            if(res.status == 401){\n                $location.path('/login');\n            }    \n\n            return { success: false, message: res.data, status: res.status };\n        }\n\n        // private functions\n\n        function handleSuccess(res) {\n            return res.data;\n        }\n\n        function handleError(error) {\n            return function () {\n                return { success: false, message: error };\n            };\n        }\n    }\napp.factory('GalleryService', GalleryService);\n\n    GalleryService.$inject = ['$http'];\n    function GalleryService($http) {\n\n        // console.log(\"CALLED\");\n       var service = {};\n\n        service.GetAll = GetAll;\n        service.GetById = GetById;\n        service.Create = Create;\n        service.Update = Update;\n        service.Delete = Delete;\n        service.CheckLink = CheckLink;\n        service.GetByUrl = GetByUrl;\n        service.DownloadZip = DownloadZip;\n       \n        return service; \n\n        function GetAll() {\n            return $http.get('/api/v1/gallery/').then(handleSuccess, handleError('Error getting all Image'));\n        }\n\n        function GetById(gallery_id) {\n            return $http.get('/api/v1/gallery/' + gallery_id).then(handleSuccess, handleError('Error getting Image by id'));\n        }\n\n        function GetByUrl(url){\n            return $http.post('/api/v1/gallery/get_by_url', url).then(handleSuccess, handleError('Error getting Image by id'));\n        }\n\n        function Create(gallery) {\n            var url = '/api/v1/gallery/';\n            return $http.post(url, gallery).then(handleSuccess, handleError('Error creating Image'));\n        }\n\n        function Update(gallery) {\n            return $http.put('/api/v1/gallery/' + gallery.id, gallery).then(handleSuccess, handleError('Error updating Image'));\n        }\n\n        function Delete(gallery_id) {\n            return $http.delete('/api/v1/gallery/' + gallery_id).then(handleSuccess, handleError('Error deleting Image'));\n        }\n\n        function CheckLink(link){\n            return $http.post('/api/v1/gallery/check_link', {gallery_link: link}).then(handleSuccess, handleError('Error creating Image'));\n        }\n        //download_zip\n        function DownloadZip(zip){\n            return $http.post('/api/v1/gallery/download_zip', zip).then(handleSuccess, handleError('Error creating Image'));\n        }\n\n\n        // private functions\n\n        function handleSuccess(res) {\n            return res.data;\n        }\n\n        function handleError(error) {\n            return function () {\n                return { success: false, message: error };\n            };\n        }\n    }\napp.factory('GoCardService', GoCardService);\n\n    GoCardService.$inject = ['$http', '$location'];\n    function GoCardService($http, $location) {\n        var service = {};\n\n\n\n        service.SetupGoCard = SetupGoCard;\n        service.SetupMandate = SetupMandate;\n        service.GenerateLink = GenerateLink;\n        service.GenerateUpdateLink = GenerateUpdateLink;\n        service.UpdateMandate = UpdateMandate;\n\n\n\n        return service;\n        \n        function GenerateUpdateLink(detail){\n            $http.defaults.headers.common['Api-Key'] = \"eW91a25vd25vdGhpbmdqb25zbm93\";\n            return $http.post('/api/v1/go_card/generate_update_link', detail).then(handleSuccess, handleError2);\n        }\n\n        function UpdateMandate(detail){\n            $http.defaults.headers.common['Api-Key'] = \"eW91a25vd25vdGhpbmdqb25zbm93\";\n            return $http.post('/api/v1/go_card/update_mandate', detail).then(handleSuccess, handleError2);\n        }\n\n        function SetupMandate(detail){\n            $http.defaults.headers.common['Api-Key'] = \"eW91a25vd25vdGhpbmdqb25zbm93\";\n            return $http.post('/api/v1/go_card/create_mandate', detail).then(handleSuccess, handleError2);\n        }\n\n        function SetupGoCard(details){\n            $http.defaults.headers.common['Api-Key'] = \"eW91a25vd25vdGhpbmdqb25zbm93\";\n            return $http.post('/api/v1/go_card/setup', details).then(handleSuccess, handleError2);\n        }\n\n        function GenerateLink(details){\n            $http.defaults.headers.common['Api-Key'] = \"eW91a25vd25vdGhpbmdqb25zbm93\";\n            return $http.post('/api/v1/go_card/generate_link', details).then(handleSuccess, handleError2);\n        }\n\n        function GetAll() {\n            return $http.get('/api/v1/users').then(handleSuccess, handleError2);\n        }\n      \n        function Create(user) {\n            return $http.post('/api/v1/users', user).then(handleSuccess, handleError2);\n        }\n\n        function Update(user) {\n            return $http.put('/api/v1/users/' + user.id, user).then(handleSuccess, handleError2);\n        }\n\n        function Delete(id) {\n            return $http.delete('/api/v1/users/' + id).then(handleSuccess, handleError2);\n        }\n\n         \n         function handleError2(res) {\n            console.log(\"ERROR\", res);\n\n            if(res.status == 401){\n                $location.path('/login');\n            }    \n\n            return { success: false, message: res.data, status: res.status };\n        }\n\n        // private functions\n\n        function handleSuccess(res) {\n            return res.data;\n        }\n\n        function handleError(error) {\n            return function () {\n                return { success: false, message: error };\n            };\n        }\n    }\napp.factory('HolidayService', HolidayService);\n\n    HolidayService.$inject = ['$http', '$location'];\n    function HolidayService($http, $location) {\n\n        // console.log(\"CALLED\");\n       var service = {};\n\n        service.GetAll = GetAll;\n        service.Create = Create;\n        service.Update = Update;\n        service.Delete = Delete;\n       \n        return service; \n\n        function GetAll(user_id) {\n            return $http.get('/api/v1/instructor_holiday/'+user_id).then(handleSuccess, handleError2);\n        }\n\n        function Create(user_id, holiday) {\n            holiday.user_id = user_id;\n            var send = {\n                user_id: user_id,\n                title: holiday.title,\n                from_date: holiday.start,\n                to_date: holiday.end,\n                allDay: holiday.allDay\n            }\n            var url = '/api/v1/instructor_holiday/';\n            return $http.post(url, send).then(handleSuccess, handleError2);\n        }\n\n        function Update(user_id, holiday) {\n            //maybe some sanitation required here? especially for the user_id bit...\n             var send = {\n                id: holiday.id,\n                user_id: user_id,\n                title: holiday.title,\n                from_date: holiday.start,\n                to_date: holiday.end,\n                allDay: holiday.allDay\n            }\n            return $http.put('/api/v1/instructor_holiday/' + holiday.id, send).then(handleSuccess, handleError2);\n        }\n\n        function Delete(user_id, delete_id) {\n            //this should be a disabled function only available for people working for the software\n            return $http.delete('/api/v1/instructor_holiday/' + delete_id).then(handleSuccess, handleError2);\n        }\n\n\n        function handleError2(res) {\n            console.log(\"ERROR\", res);\n\n            if(res.status == 401){\n                $location.path('/login');\n            }    \n\n            return { success: false, message: res.data, status: res.status };\n        }\n\n        // private functions\n\n        function handleSuccess(res) {\n            return res.data;\n        }\n\n        function handleError(error) {\n            return function () {\n                return { success: false, message: error };\n            };\n        }\n    }\napp.factory('ImagesService', ImagesService);\n\n    ImagesService.$inject = ['$http', '$location'];\n    function ImagesService($http, $location) {\n        var service = {};\n\n        service.GetAll = GetAll;\n        service.GetById = GetById;\n        service.Create = Create;\n        service.Update = Update;\n        service.Delete = Delete;\n        service.GetOne = GetOne;\n       \n        return service; \n\n        function GetAll() {\n            return $http.get('/api/v1/images').then(handleSuccess, handleError2);\n        }\n\n        function GetOne(id){\n            return $http.get('/api/v1/images/' + id).then(handleSuccess, handleError2);\n        }\n\n        function GetById(id) {\n            return $http.get('/api/v1/images/' + id).then(handleSuccess, handleError2);\n        }\n\n        function Create(images) {\n            return $http.post('/api/v1/images', images).then(handleSuccess, handleError2);\n        }\n\n        function Update(image) {\n            return $http.put('/api/v1/images/' + image.id, image).then(handleSuccess, handleError2);\n        }\n\n        function Delete(id) {\n            return $http.delete('/api/v1/images/' + id).then(handleSuccess, handleError2);\n        }\n\n\n        function handleError2(res) {\n            console.log(\"ERROR\", res);\n\n            if(res.status == 401){\n                $location.path('/login');\n            }    \n\n            return { success: false, message: res.data, status: res.status };\n        }\n\n        \n\n        // private functions\n\n        function handleSuccess(res) {\n            return res.data;\n        }\n\n        function handleError(error) {\n            return function () {\n                return { success: false, message: error };\n            };\n        }\n    }\napp.factory('ImageUploadService', ImageUploadService);\n\n    ImageUploadService.$inject = ['$http'];\n    function ImageUploadService($http) {\n\n        // console.log(\"CALLED\");\n       var service = {};\n\n        service.GetAll = GetAll;\n        service.GetById = GetById;\n        service.Create = Create;\n        service.Update = Update;\n        service.Delete = Delete;\n       \n        return service; \n\n        function GetAll(id) {\n            return $http.get('/api/v1/artpieces/'+id+'/images').then(handleSuccess, handleError('Error getting all Image'));\n        }\n\n        function GetById(artpiece_id, image_id) {\n            return $http.get('/api/v1/artpieces/' + artpiece_id + '/images/'+ image_id).then(handleSuccess, handleError('Error getting Image by id'));\n        }\n\n        function Create(images) {\n            var url = '/api/v1/artpieces/' + images.artpiece_id + '/images';\n            return $http.post(url, images).then(handleSuccess, handleError('Error creating Image'));\n        }\n\n        function Update(images) {\n            return $http.put('/api/v1/artpieces/' + images.artpiece_id + '/images', images).then(handleSuccess, handleError('Error updating Image'));\n        }\n\n        function Delete(artpiece_id, image_id) {\n            return $http.delete('/api/v1/artpieces/' + artpiece_id + '/images/' + image_id).then(handleSuccess, handleError('Error deleting Image'));\n        }\n\n\n        // private functions\n\n        function handleSuccess(res) {\n            return res.data;\n        }\n\n        function handleError(error) {\n            return function () {\n                return { success: false, message: error };\n            };\n        }\n    }\napp.factory('InstructorCharges', InstructorCharges);\n\n    InstructorCharges.$inject = ['$http', '$location'];\n    function InstructorCharges($http, $location) {\n        var service = {};\n        \n        service.GetByClubId = GetByClubId;\n        service.GetByCourseId = GetByCourseId;\n        service.GetById = GetById;\n        service.Create = Create;\n        service.Update = Update;\n        service.Delete = Delete;\n        service.GetUpdatedCharges = GetUpdatedCharges;\n\n        return service; \n\n        //settings for the licences... not sure they'll be required anywhere else - so keep em here now...\n        function GetByCourseId(id){\n            return $http.get('/api/v1/instructor_charges/course/' + id).then(handleSuccess, handleError2);\n        }\n\n        function GetUpdatedCharges(id){\n            return $http.get('/api/v1/plane_log_sheets/update_tuition_book_in/' + id).then(handleSuccess, handleError2);\n        }\n       \n        function GetByClubId(club_id) {\n            return $http.get('/api/v1/instructor_charges/club/' + club_id).then(handleSuccess, handleError2);\n        }\n\n        function GetById(id) {\n            return $http.get('/api/v1/instructor_charges/' + id).then(handleSuccess, handleError2);\n        }\n\n        function Create(item) {\n            return $http.post('/api/v1/instructor_charges', item).then(handleSuccess, handleError2);\n        }\n\n        function Update(item, user_id) {\n            return $http.put('/api/v1/instructor_charges/' + item.id +'?user_id='+user_id, item).then(handleSuccess, handleError2);\n        }\n\n        function Delete(user_id, id) {\n            return $http.delete('/api/v1/instructor_charges/' + id+'?user_id='+user_id).then(handleSuccess, handleError2);\n        }\n\n\n        function handleError2(res) {\n            console.log(\"ERROR\", res);\n\n            if(res.status == 401){\n                $location.path('/login');\n            }    \n\n            return { success: false, message: res.data, status: res.status };\n        }\n\n        // private functions\n\n        function handleSuccess(res) {\n            return res.data;\n        }\n\n        function handleError(error) {\n            return function () {\n                return { success: false, message: error };\n            };\n        }\n    }\napp.factory('InstructorService', InstructorService);\n\n    InstructorService.$inject = ['$http', '$location'];\n    function InstructorService($http, $location) {\n        var service = {};\n\n       \n        service.Create = Create;\n        service.SetAvailability = SetAvailability;\n        service.GetAvailability = GetAvailability;\n        service.Delete = Delete;\n\n        service.GetAllByClub = GetAllByClub;\n        service.UpdateOrder = UpdateOrder;\n        service.UpdateInstructor = UpdateInstructor;\n\n        return service;\n\n\n\n        function GetAllByClub(club_id, user_id){\n            return $http.get('/api/v1/members/get_instructors/'+club_id+'/'+user_id).then(handleSuccess, handleError2);\n        }\n\n        function UpdateOrder(users, club_id){\n            return $http.put('/api/v1/members/instructor_order', users).then(handleSuccess, handleError2);\n        }\n\n        function UpdateInstructor(instructor, club_id){\n            return $http.put('/api/v1/members/instructor_update', instructor).then(handleSuccess, handleError2);\n        }\n\n        function Create(user) {\n            return $http.post('/api/v1/users', user).then(handleSuccess, handleError2);\n        }\n\n        function GetAvailability(user_id) {\n            return $http.get('/api/v1/instructor_availability/' + user_id).then(handleSuccess, handleError2);\n        }\n\n        function SetAvailability(availability) {\n            if(!availability.id){\n                availability.id = 0;\n            }\n            return $http.put('/api/v1/instructor_availability/' + availability.id, availability).then(handleSuccess, handleError2);\n        }\n\n        function Delete(id) {\n            return $http.delete('/api/v1/users/' + id).then(handleSuccess, handleError2);\n        }\n\n\n\n        function handleError2(res) {\n            console.log(\"ERROR\", res);\n\n            if(res.status == 401){\n                $location.path('/login');\n            }    \n\n            return { success: false, message: res.data, status: res.status };\n        }\n        \n        // private functions\n\n        function handleSuccess(res) {\n            return res.data;\n        }\n\n        function handleError(error) {\n            return function () {\n                return { success: false, message: error };\n            };\n        }\n    }\napp.factory('InvoicesService', InvoicesService);\n\n    InvoicesService.$inject = ['$http', '$location'];\n    function InvoicesService($http, $location) {\n\n        // console.log(\"CALLED\");\n       var service = {};\n\n        service.GetAll = GetAll;\n        service.GetAllByClub = GetAllByClub;\n        service.GetAllByBooking = GetAllByBooking;\n        service.GetById = GetById;\n        service.Create = Create;\n        service.Update = Update;\n        service.Delete = Delete;\n       \n       \n        return service; \n\n        function GetAll() {\n            return $http.get('/api/v1/planes/').then(handleSuccess, handleError2);\n        }\n\n        function GetOpenIssues(plane_id) {\n            return $http.get('/api/v1/plane_tech_log_sheets/open_issues/'+plane_id).then(handleSuccess, handleError2);\n        }\n\n        function GetAllIssues(plane_id) {\n            return $http.get('/api/v1/plane_tech_log_sheets/all_issues/'+plane_id).then(handleSuccess, handleError2);\n        }\n\n        function AddDefect(obj){\n            return $http.post('/api/v1/plane_tech_log_sheets', obj).then(handleSuccess, handleError2);\n        }\n\n        function DeleteDefect(id){\n            return $http.delete('/api/v1/plane_tech_log_sheets/' + id).then(handleSuccess, handleError2);\n        }\n\n\n        function GetAllByBooking(booking_id) {\n            return $http.get('/api/v1/invoices/get_all_from_booking/'+booking_id).then(handleSuccess, handleError2);\n        }\n\n        function GetAllSheetReceipts(sheet_id){\n            return $http.get('/api/v1/lubricant_receipts/sheet/'+sheet_id).then(handleSuccess, handleError2);\n        }\n\n        function AddReceipt(obj){\n            return $http.post('/api/v1/lubricant_receipts', obj).then(handleSuccess, handleError2);\n        }\n\n        function DeleteReceipt(id){\n            return $http.delete('/api/v1/lubricant_receipts/' + id).then(handleSuccess, handleError2);\n        }\n \n\n        function GetAllByClub(club_id) {\n            return $http.get('/api/v1/planes/club/'+club_id).then(handleSuccess, handleError2);\n        }\n\n        function GetById(plane_id, club_id) {\n            console.log(\"club_id \"+club_id);\n            console.log(\"plane_id \"+plane_id);\n            return $http.get('/api/v1/planes/' + plane_id + '/club/' + club_id).then(handleSuccess, handleError2);\n        }\n\n        function GetByUrl(url){\n            return $http.post('/api/v1/planes/get_by_url', url).then(handleSuccess, handleError2);\n        }\n\n        function Create(club) {\n            var url = '/api/v1/planes/';\n            return $http.post(url, club).then(handleSuccess, handleError2);\n        }\n\n        function Update(plane) {\n            return $http.put('/api/v1/planes/' + plane.plane_id, plane).then(handleSuccess, handleError2);\n        }\n\n        function Delete(club_plane_id) {\n            //this should be a disabled function only available for people working for the software\n            return $http.delete('/api/v1/planes/' + club_plane_id).then(handleSuccess, handleError2);\n        }\n\n        function handleError2(res) {\n            console.log(\"ERROR\", res);\n\n            if(res.status == 401){\n                //THIS MIGHT NOT BE APPROPRIATE?\n                $location.path('/login');\n            }    \n\n            return { success: false, message: res.data, status: res.status };\n        }\n\n        // private functions\n\n        function handleSuccess(res) {\n            return res.data;\n        }\n\n        function handleError(error) {\n            return function () {\n                return { success: false, message: error };\n            };\n        }\n    }\napp.factory('ItemService', ItemService);\n\n    ItemService.$inject = ['$http', '$location'];\n    function ItemService($http, $location) {\n        var service = {};\n        \n        service.GetByClubId = GetByClubId;\n        service.GetById = GetById;\n        service.Create = Create;\n        service.Update = Update;\n        service.Delete = Delete;\n       \n\n        return service; \n\n        //settings for the licences... not sure they'll be required anywhere else - so keep em here now...\n\n       \n        function GetByClubId(club_id) {\n            return $http.get('/api/v1/rental_items/club/' + club_id).then(handleSuccess, handleError2);\n        }\n\n        function GetById(id) {\n            return $http.get('/api/v1/rental_items/' + id).then(handleSuccess, handleError2);\n        }\n\n        function Create(item) {\n            return $http.post('/api/v1/rental_items', item).then(handleSuccess, handleError2);\n        }\n\n        function Update(item, user_id) {\n            return $http.put('/api/v1/rental_items/' + item.id +'?user_id='+user_id, item).then(handleSuccess, handleError2);\n        }\n\n        function Delete(user_id, id) {\n            return $http.delete('/api/v1/rental_items/' + id+'?user_id='+user_id).then(handleSuccess, handleError2);\n        }\n\n\n        function handleError2(res) {\n            console.log(\"ERROR\", res);\n\n            if(res.status == 401){\n                $location.path('/login');\n            }    \n\n            return { success: false, message: res.data, status: res.status };\n        }\n\n        // private functions\n\n        function handleSuccess(res) {\n            return res.data;\n        }\n\n        function handleError(error) {\n            return function () {\n                return { success: false, message: error };\n            };\n        }\n    }\napp.factory('KeywordsService', KeywordsService);\n\n    KeywordsService.$inject = ['$http', '$location'];\n    function KeywordsService($http, $location) {\n        var service = {};\n\n        service.GetAll = GetAll;\n        service.GetById = GetById;\n        service.Create = Create;\n        service.Update = Update;\n        service.Delete = Delete;\n       \n        return service; \n\n        function GetAll() {\n            return $http.get('/api/v1/keywords').then(handleSuccess, handleError2);\n        }\n\n        function GetById(id) {\n            return $http.get('/api/v1/keywords/' + id).then(handleSuccess, handleError2);\n        }\n\n        function Create(keywords) {\n            return $http.post('/api/v1/keywords', keywords).then(handleSuccess, handleError2);\n        }\n\n        function Update(keywords) {\n            return $http.put('/api/v1/keywords/' + keywords.id, keywords).then(handleSuccess, handleError2);\n        }\n\n        function Delete(id) {\n            return $http.delete('/api/v1/keywords/' + id).then(handleSuccess, handleError2);\n        }\n\n        function handleError2(res) {\n            console.log(\"ERROR\", res);\n\n            if(res.status == 401){\n                $location.path('/login');\n            }    \n\n            return { success: false, message: res.data, status: res.status };\n        }\n        \n        // private functions\n\n        function handleSuccess(res) {\n            return res.data;\n        }\n\n        function handleError(error) {\n            return function () {\n                return { success: false, message: error };\n            };\n        }\n    }\napp.factory('LicenceService', LicenceService);\n\n    LicenceService.$inject = ['$http', '$location'];\n    function LicenceService($http, $location) {\n        var service = {};\n\n        service.GetAll = GetAll;\n        service.GetLicenceTypes = GetLicenceTypes;\n        service.GetRatings = GetRatings;\n        service.GetAuthority = GetAuthority;\n        service.GetByUserId = GetByUserId;\n        service.GetById = GetById;\n        service.GetByUserIdClub = GetByUserIdClub;\n        service.Create = Create;\n        service.Update = Update;\n        service.Delete = Delete;\n        service.DeleteTmp = DeleteTmp;\n       \n        return service; \n\n        //settings for the licences... not sure they'll be required anywhere else - so keep em here now...\n\n        function GetLicenceTypes() {\n            return $http.get('/api/v1/licence_types').then(handleSuccess, handleError2);\n        }\n\n        function GetRatings() {\n            return $http.get('/api/v1/ratings').then(handleSuccess, handleError2);\n        }\n\n        function GetAuthority() {\n            return $http.get('/api/v1/authority').then(handleSuccess, handleError2);\n        }\n\n\n\n\n        function GetAll() {\n            return $http.get('/api/v1/licences').then(handleSuccess, handleError2);\n        }\n\n        function GetById(id, thumbs=1, decrypted=0) {\n\n            var end = \"\";\n            if(thumbs == 1 || decrypted == 1){\n\n                end = \"?\";\n                end += (thumbs == 1) ? \"st=1&\" : \"\";\n                end += (decrypted == 1) ? \"sd=1\" : \"\";\n\n            }\n            return $http.get('/api/v1/licences/' + id + end).then(handleSuccess, handleError2);\n        }\n\n        function GetByUserId(id) {\n            //TODO\n            //this is awful... needs to be sorted out...\n            return $http.get('/api/v1/licences/?user_id=' + id).then(handleSuccess, handleError2);\n        }\n\n        function GetByUserIdClub(id, club_id) {\n            //TODO\n            //this is awful... needs to be sorted out...\n            return $http.get('/api/v1/licences/'+club_id+'?user_id=' + id).then(handleSuccess, handleError2);\n        }\n\n        function Create(licence) {\n            return $http.post('/api/v1/licences', licence).then(handleSuccess, handleError2);\n        }\n\n        function Update(licence) {\n            return $http.put('/api/v1/licences/' + licence.id, licence).then(handleSuccess, handleError2);\n        }\n\n        function Delete(user_id, id) {\n            return $http.delete('/api/v1/licences/' + id+'?user_id='+user_id).then(handleSuccess, handleError2);\n        }\n\n        function DeleteTmp(file) {\n            return $http.post('tmp_rm.php', {tmp: file}).then(handleSuccess, handleError2);\n        }\n\n        \n        function handleError2(res) {\n            console.log(\"ERROR\", res);\n\n            if(res.status == 401){\n                $location.path('/login');\n            }    \n\n            return { success: false, message: res.data, status: res.status };\n        }\n\n\n        // private functions\n\n        function handleSuccess(res) {\n            return res.data;\n        }\n\n        function handleError(error) {\n            return function () {\n                return { success: false, message: error };\n            };\n        }\n    }\n//ATHENTICATION SERVICES\n\napp.factory('LocalDataService', LocalDataService);\n\n    LocalDataService.$inject = [];\n    function LocalDataService() {\n        // this is my local data service to keep things happy\n        // use this to keep all data accessible from anywhere without calling the server every 10 seconds\n       return {\n            data: {\n              selected_images: [],\n              all_galleries: [],\n              selecting_for: 0\n            },\n            SetSelectedImages: function(selected_images) {\n                this.data.selected_images = selected_images;\n            },\n            SetAllGalleries: function(data){\n                this.data.all_galleries = data;\n            },\n            SetSelectingFor: function(data){\n                this.data.selecting_for = data;\n            }\n        };\n\n    }\n    app.factory('LogbookLinkService', LogbookLinkService);\n\n    LogbookLinkService.$inject = ['$http', '$location'];\n    function LogbookLinkService($http, $location) {\n\n        var service = {};\n\n        // Get links for a maintenance check\n        service.GetLinks = GetLinks;\n\n        // Get available logbooks for a plane\n        service.GetAvailableLogbooks = GetAvailableLogbooks;\n\n        // Get maintenance checks for a specific logbook\n        service.GetByLogbook = GetByLogbook;\n\n        // Link / Unlink\n        service.Link = Link;\n        service.Unlink = Unlink;\n\n        // Bulk link (replace all associations)\n        service.BulkLink = BulkLink;\n\n        // Delete a specific link by ID\n        service.Delete = Delete;\n\n        // Audit\n        service.GetAudit = GetAudit;\n        service.GetAuditByPlane = GetAuditByPlane;\n\n        return service;\n\n        //  Methods \n\n        function GetLinks(maintenance_check_id) {\n            return $http.get('/api/v1/maintenance_check_logbook_links/' + maintenance_check_id).then(handleSuccess, handleError);\n        }\n\n        function GetAvailableLogbooks(plane_id) {\n            return $http.get('/api/v1/maintenance_check_logbook_links/available_logbooks/' + plane_id).then(handleSuccess, handleError);\n        }\n\n        function GetByLogbook(logbook_type, logbook_entity_id) {\n            return $http.get('/api/v1/maintenance_check_logbook_links/logbook/' + logbook_type + '/' + logbook_entity_id).then(handleSuccess, handleError);\n        }\n\n        function Link(maintenance_check_id, logbook_type, logbook_entity_id) {\n            return $http.put('/api/v1/maintenance_check_logbook_links/link/' + maintenance_check_id, {\n                logbook_type: logbook_type,\n                logbook_entity_id: logbook_entity_id || null\n            }).then(handleSuccess, handleError);\n        }\n\n        function Unlink(maintenance_check_id, logbook_type, logbook_entity_id) {\n            return $http.put('/api/v1/maintenance_check_logbook_links/unlink/' + maintenance_check_id, {\n                logbook_type: logbook_type,\n                logbook_entity_id: logbook_entity_id || null\n            }).then(handleSuccess, handleError);\n        }\n\n        function BulkLink(maintenance_check_id, logbooks) {\n            return $http.put('/api/v1/maintenance_check_logbook_links/bulk_link/' + maintenance_check_id, {\n                logbooks: logbooks\n            }).then(handleSuccess, handleError);\n        }\n\n        function Delete(link_id) {\n            return $http.delete('/api/v1/maintenance_check_logbook_links/' + link_id).then(handleSuccess, handleError);\n        }\n\n        function GetAudit(maintenance_check_id) {\n            return $http.get('/api/v1/maintenance_check_logbook_links/audit/' + maintenance_check_id).then(handleSuccess, handleError);\n        }\n\n        function GetAuditByPlane(plane_id) {\n            return $http.get('/api/v1/maintenance_check_logbook_links/audit_plane/' + plane_id).then(handleSuccess, handleError);\n        }\n\n        //  Handlers \n\n        function handleError(res) {\n            console.log(\"LogbookLinkService ERROR\", res);\n            if (res.status == 401) {\n                $location.path('/login');\n            }\n            return { success: false, message: res.data, status: res.status };\n        }\n\n        function handleSuccess(res) {\n            return res.data;\n        }\n    }\n\napp.factory('MedicalService', MedicalService);\n\n    MedicalService.$inject = ['$http', '$location'];\n    function MedicalService($http, $location) {\n        var service = {};\n\n        service.GetAll = GetAll;\n        service.GetMedicalTypes = GetMedicalTypes;\n        service.GetComponents = GetComponents;\n        service.GetAuthority = GetAuthority;\n        service.GetByUserId = GetByUserId;\n        service.GetByUserIdClub = GetByUserIdClub;\n        service.GetById = GetById;\n        service.Create = Create;\n        service.Update = Update;\n        service.Delete = Delete;\n        service.DeleteTmp = DeleteTmp;\n       \n        return service; \n\n        //settings for the licences... not sure they'll be required anywhere else - so keep em here now...\n\n        function GetMedicalTypes() {\n            return $http.get('/api/v1/medical_components').then(handleSuccess, handleError2);\n        }\n\n        function GetComponents() {\n            return $http.get('/api/v1/medical_components').then(handleSuccess, handleError2);\n        }\n\n        function GetAuthority() {\n            return $http.get('/api/v1/authority').then(handleSuccess, handleError2);\n        }\n\n\n\n\n        function GetAll() {\n            return $http.get('/api/v1/medicals').then(handleSuccess, handleError2);\n        }\n\n        function GetById(id, thumbs=1, decrypted=0) {\n\n            var end = \"\";\n            if(thumbs == 1 || decrypted == 1){\n\n                end = \"?\";\n                end += (thumbs == 1) ? \"st=1&\" : \"\";\n                end += (decrypted == 1) ? \"sd=1\" : \"\";\n\n            }\n\n            // console.log(\"ADDITIONAL BIT: \", end);\n\n            return $http.get('/api/v1/medicals/' + id + end).then(handleSuccess, handleError2);\n        }\n\n        function GetByUserId(id) {\n            //TODO\n            //this is awful... needs to be sorted out...\n            return $http.get('/api/v1/medicals/?user_id=' + id).then(handleSuccess, handleError2);\n        }\n\n        function GetByUserIdClub(id, club_id) {\n            //TODO\n            //this is awful... needs to be sorted out...\n            return $http.get('/api/v1/medicals/'+club_id+'?user_id=' + id).then(handleSuccess, handleError2);\n        }\n\n        function Create(medical) {\n            return $http.post('/api/v1/medicals', medical).then(handleSuccess, handleError2);\n        }\n\n        function Update(medical) {\n            return $http.put('/api/v1/medicals/' + medical.id, medical).then(handleSuccess, handleError2);\n        }\n\n        function Delete(user_id, id) {\n            return $http.delete('/api/v1/medicals/' + id+'?user_id='+user_id).then(handleSuccess, handleError2);\n        }\n\n        function DeleteTmp(file) {\n            return $http.post('tmp_rm.php', {tmp: file}).then(handleSuccess, handleError2);\n        }\n\n        \n        function handleError2(res) {\n            console.log(\"ERROR\", res);\n\n            if(res.status == 401){\n                $location.path('/login');\n            }    \n\n            return { success: false, message: res.data, status: res.status };\n        }\n\n        // private functions\n\n        function handleSuccess(res) {\n            return res.data;\n        }\n\n        function handleError(error) {\n            return function () {\n                return { success: false, message: error };\n            };\n        }\n    }\napp.factory('MemberService', MemberService);\n\n    MemberService.$inject = ['$http', '$location'];\n    function MemberService($http, $location) {\n\n        // console.log(\"CALLED\");\n       var service = {};\n\n        service.GetAll = GetAll;\n        service.GetAllByClub = GetAllByClub;\n        service.GetById = GetById;\n        service.Create = Create;\n        service.CreateMany = CreateMany;\n        service.Verify = Verify;\n\n        service.SendInvite = SendInvite;\n        service.send_invite_by_club = send_invite_by_club;\n\n        service.Update = Update;\n        service.Delete = Delete;\n        service.GetMemberPlanes = GetMemberPlanes;\n        service.SaveMemberPlanes = SaveMemberPlanes;\n\n        service.GetUserMemberships = GetUserMemberships;\n\n        service.GetAllByClubInstructor = GetAllByClubInstructor;\n\n        service.GetAllByClubAndName = GetAllByClubAndName;\n        service.GetOneForUser = GetOneForUser;\n        service.UpdateOneByUser = UpdateOneByUser;\n        service.GetUserClubs = GetUserClubs;\n        service.GetAllByPics = GetAllByPics;\n        service.GetAllActiveByClub = GetAllActiveByClub;\n        service.GetAllByPics = GetAllByPics;\n        service.GetAllByPicsBookinout = GetAllByPicsBookinout;\n        service.GetCompany = GetCompany;\n        service.GetCompanyDetail = GetCompanyDetail;\n        service.VerifyPhone = VerifyPhone;\n        service.VerifyPhoneInvite = VerifyPhoneInvite;\n        service.VerifyInvitedUser = VerifyInvitedUser;\n        service.GetMandate = GetMandate;\n\n\n        service.GetAllByClubStudents = GetAllByClubStudents;\n       \n        return service; \n\n        function GetMandate(user_id, club_id){\n                \n            return $http.get('/api/v1/members/'+user_id+'/info/'+club_id).then(handleSuccess, handleError2);\n        }\n        \n        function VerifyInvitedUser(id){\n                \n            return $http.post('/api/v1/users/verify_invited_user', {\"id\": id}).then(handleSuccess, handleError2);\n        }\n\n        function VerifyPhoneInvite(verification, id){\n\n            return $http.post('/api/v1/users/verify_phone_invite', {\"id\": id, \"verification\": verification}).then(handleSuccess, handleError2);\n\n\n        }\n\n        function VerifyPhone(verification, id){\n\n            return $http.post('/api/v1/users/verify_phone', {\"id\": id, \"verification\": verification}).then(handleSuccess, handleError2);\n\n        }\n\n        function SendInvite(invitation){\n            return $http.post('/api/v1/members/send_invite', invitation).then(handleSuccess, handleError2);\n        }\n\n        function send_invite_by_club(invitation){\n            return $http.post('/api/v1/members/send_invite_by_club', invitation).then(handleSuccess, handleError2);\n        }\n\n        function GetCompany(name){\n            $http.defaults.headers.common['Api-Key'] = \"eW91a25vd25vdGhpbmdqb25zbm93\";\n\n            return $http.post('/api/v1/users/company', {\"name\": name}).then(handleSuccess, handleError2);\n        }\n\n        function GetCompanyDetail(number){\n            return $http.post('/api/v1/users/company_detail', {\"number\": number}).then(handleSuccess, handleError2);\n        }\n\n        function GetUserMemberships(user_id){\n            return $http.get('/api/v1/users/'+user_id+'/memberships').then(handleSuccess, handleError2);\n        }\n\n        function GetUserClubs(user_id){\n            return $http.get('/api/v1/users/'+user_id+'/clubs').then(handleSuccess, handleError2);\n        }\n\n        function GetAllActiveByClub(club_id, end){\n            return $http.get('/api/v1/members/active_club/'+club_id+'/'+end).then(handleSuccess, handleError2);\n        }\n\n        function GetAll() {\n            return $http.get('/api/v1/members/').then(handleSuccess, handleError2);\n        }\n\n        function GetAllByClub(club_id) {\n            return $http.get('/api/v1/members/club/'+club_id).then(handleSuccess, handleError2);\n        }\n\n        function GetAllByClubStudents(club_id) {\n            return $http.get('/api/v1/members/club_student/'+club_id).then(handleSuccess, handleError2);\n        }\n\n        function GetAllByPics(club_id, user_id) {\n            return $http.get('/api/v1/members/get_pics/'+club_id+'/'+user_id).then(handleSuccess, handleError2);\n        }\n\n        function GetAllByClubInstructor(club_id, user_id){\n            return $http.get('/api/v1/members/get_instructors/'+club_id+'/'+user_id).then(handleSuccess, handleError2);\n        }\n\n        function GetAllByPicsBookinout(booking_id, club_id, user_id, supervised=0){\n            return $http.get('/api/v1/members/pics_book_in_out/'+booking_id+'/'+club_id+'/'+user_id+'/'+supervised).then(handleSuccess, handleError2);\n        }\n\n        //  function GetAllByClubCurrent(club_id) {\n        //     return $http.get('/api/v1/members/club2/'+club_id).then(handleSuccess, handleError2);\n        // }\n\n        function GetAllByClubAndName(club_id, name) {\n            return $http.get('/api/v1/members/club_and_name/'+club_id+'/'+name).then(handleSuccess, handleError2);\n        }\n\n        function GetById(membership_id, club_id) {\n            console.log(\"club_id \"+club_id);\n            console.log(\"membership_id \"+membership_id);\n            return $http.get('/api/v1/members/' + membership_id + '/club/' + club_id).then(handleSuccess, handleError2);\n        }\n\n        function GetOneForUser(id){\n            \n            return $http.get('/api/v1/members/' + id + '/for_user').then(handleSuccess, handleError2);\n        }\n\n        function UpdateOneByUser(id, obj){\n            return $http.put('/api/v1/members/' + id + '/for_user', obj).then(handleSuccess, handleError2);\n        }\n\n        function GetMemberPlanes(user_id, club_id){\n            return $http.get('/api/v1/members/user/'+user_id+'/club/'+club_id+'/planes').then(handleSuccess, handleError2);\n        }\n\n         function SaveMemberPlanes(user_id, club_id, planes){\n            return $http.post('/api/v1/members/user/'+user_id+'/club/'+club_id+'/planes', planes).then(handleSuccess, handleError2);\n        }\n\n        function GetByUrl(url){\n            return $http.post('/api/v1/members/get_by_url', url).then(handleSuccess, handleError2);\n        }\n\n        function Create(member) {\n            //this is actually where we invite the user to join\n            member.club_id = \"6\";\n            var url = '/api/v1/members/';\n            return $http.post(url, member).then(handleSuccess, handleError2);\n        }\n\n        function CreateMany(members){\n            var url = '/api/v1/members/many';\n            return $http.post(url, members).then(handleSuccess, handleError2);\n        }\n\n        function Update(membership) {\n            return $http.put('/api/v1/members/' + membership.id, membership).then(handleSuccess, handleError2);\n        }\n\n        function Verify(verify) {\n            return $http.put('/api/v1/member_checks', verify).then(handleSuccess, handleError2);\n        }\n\n        \n\n        function Delete(club_membership_id) {\n            //this should be a disabled function only available for people working for the software\n            return $http.delete('/api/v1/members/' + club_membership_id).then(handleSuccess, handleError2);\n        }\n\n        function handleError2(res) {\n            console.log(\"ERROR\", res);\n\n            if(res.status == 401){\n                $location.path('/login');\n            }    \n\n            return { success: false, message: res.data, status: res.status };\n        }\n\n        // private functions\n\n        function handleSuccess(res) {\n            return res.data;\n        }\n\n        function handleError(error) {\n            return function () {\n                return { success: false, message: error };\n            };\n        }\n    }\napp.factory('MembershipService', MembershipService);\n\n    MembershipService.$inject = ['$http', '$location'];\n    function MembershipService($http, $location) {\n\n        // console.log(\"CALLED\");\n       var service = {};\n\n        service.GetAll = GetAll;\n        service.GetAllByClub = GetAllByClub;\n        service.GetById = GetById;\n        service.Create = Create;\n        service.Update = Update;\n        service.Delete = Delete;\n        service.GetAllMembershipPlanes = GetAllMembershipPlanes;\n        service.AddMembershipPlanes = AddMembershipPlanes;\n        service.UpdateMembershipPlanes = UpdateMembershipPlanes;\n        service.GetAllMembershipPlanesNew = GetAllMembershipPlanesNew;\n        service.GetAllByClubAvailable = GetAllByClubAvailable;\n        service.SendRequest = SendRequest;\n        service.GetRequestsByUser = GetRequestsByUser;\n        service.GetRequestsByClub = GetRequestsByClub;\n        service.DeleteRequest = DeleteRequest;\n        service.GetRequestsById = GetRequestsById;\n        service.AcceptRequest = AcceptRequest;\n        service.ClubAcceptRequest = ClubAcceptRequest;\n\n        service.ResendRequest = ResendRequest;\n\n        return service; \n\n\n        function GetAll() {\n            return $http.get('/api/v1/memberships/').then(handleSuccess, handleError2);\n        }\n        \n        function GetAllByClub(club_id) {\n            return $http.get('/api/v1/memberships/club/'+club_id).then(handleSuccess, handleError2);\n        }\n        //http://local.arrow.com/api/v1/memberships/club_available/9\n        function GetAllByClubAvailable(club_id) {\n            return $http.get('/api/v1/memberships/club_available/'+club_id).then(handleSuccess, handleError2);\n        }\n\n        function GetById(membership_id, club_id) {\n            console.log(\"club_id \"+club_id);\n            console.log(\"membership_id \"+membership_id);\n            return $http.get('/api/v1/memberships/' + membership_id + '/club/' + club_id).then(handleSuccess, handleError2);\n        }\n\n        function GetByUrl(url){\n            return $http.post('/api/v1/memberships/get_by_url', url).then(handleSuccess, handleError2);\n        }\n\n        function Create(club) {\n            var url = '/api/v1/memberships/';\n            return $http.post(url, club).then(handleSuccess, handleError2);\n        }\n\n        function SendRequest(request) {\n            var url = '/api/v1/memberships/request';\n            return $http.post(url, request).then(handleSuccess, handleError2);\n        }\n\n        function ResendRequest(request) {\n            var url = '/api/v1/memberships/resend_request';\n            return $http.post(url, request).then(handleSuccess, handleError2);\n        }\n\n        function AcceptRequest(id, obj){\n            var url = '/api/v1/memberships/accept_request/'+id;\n            return $http.put(url, obj).then(handleSuccess, handleError2);\n        }\n\n        function ClubAcceptRequest(id, obj){\n            var url = '/api/v1/memberships/club_accepts_request/'+id;\n            return $http.put(url, obj).then(handleSuccess, handleError2);\n        }\n        \n        function GetRequestsByUser(user_id) {\n            return $http.get('/api/v1/memberships/requests_by_user/' + user_id).then(handleSuccess, handleError2);\n        }\n\n        function GetRequestsByClub(club_id){\n            return $http.get('/api/v1/memberships/requests_by_club/' + club_id).then(handleSuccess, handleError2);\n        }\n\n        function GetRequestsById(id) {\n            return $http.get('/api/v1/memberships/request_by_id/' + id).then(handleSuccess, handleError2);\n        }\n\n      \n        \n        function UpdateRequests(id, content) {\n            return $http.put('/api/v1/memberships/request/' + id, content).then(handleSuccess, handleError2);\n        }\n\n        function DeleteRequest(id) {\n            return $http.delete('/api/v1/memberships/request/' + id).then(handleSuccess, handleError2);\n        }\n\n        function Update(membership) {\n            return $http.put('/api/v1/memberships/' + membership.membership_id, membership).then(handleSuccess, handleError2);\n        }\n\n        function Delete(club_membership_id) {\n            //this should be a disabled function only available for people working for the software\n            return $http.delete('/api/v1/memberships/' + club_membership_id).then(handleSuccess, handleError2);\n        }\n\n        function GetAllMembershipPlanes(club_id, membership_id){\n            return $http.get('/api/v1/membership_planes/'+club_id+'/'+membership_id).then(handleSuccess, handleError2);\n        }\n\n        \n        function GetAllMembershipPlanesNew(club_id, membership_id){\n            return $http.get('/api/v1/planes/club/'+club_id).then(handleSuccess, handleError2);\n        }\n\n\n        function AddMembershipPlanes(club_id, membership_plane){\n            return $http.post('/api/v1/membership_planes/'+club_id, membership_plane).then(handleSuccess, handleError2);\n        }\n\n        function UpdateMembershipPlanes(membership_id, membership_planes){\n            return $http.put('/api/v1/membership_planes/'+membership_id, membership_planes).then(handleSuccess, handleError2);\n        }\n\n\n        function handleError2(res) {\n            console.log(\"ERROR\", res);\n\n            if(res.status == 401){\n                $location.path('/login');\n            }    \n\n            return { success: false, message: res.data, status: res.status };\n        }\n\n\n        // private functions\n\n        function handleSuccess(res) {\n            return res.data;\n        }\n\n        function handleError(error) {\n            return function () {\n                return { success: false, message: error };\n            };\n        }\n    }\napp.factory('NokService', NokService);\n\n    NokService.$inject = ['$http', '$location'];\n    function NokService($http, $location) {\n        var service = {};\n        \n        service.GetByUserId = GetByUserId;\n        service.GetById = GetById;\n        service.Create = Create;\n        service.Update = Update;\n        service.Delete = Delete;\n       \n\n        return service; \n\n        //settings for the licences... not sure they'll be required anywhere else - so keep em here now...\n\n        function GetByUserId(user_id) {\n            return $http.get('/api/v1/next_of_kins?user_id='+user_id).then(handleSuccess, handleError2);\n        }\n\n        function GetById(id) {\n            return $http.get('/api/v1/next_of_kins/' + id).then(handleSuccess, handleError2);\n        }\n\n        function Create(nok) {\n            return $http.post('/api/v1/next_of_kins', nok).then(handleSuccess, handleError2);\n        }\n\n        function Update(nok) {\n            return $http.put('/api/v1/next_of_kins/' + nok.id, nok).then(handleSuccess, handleError2);\n        }\n\n        function Delete(user_id, id) {\n            return $http.delete('/api/v1/next_of_kins/' + id+'?user_id='+user_id).then(handleSuccess, handleError2);\n        }\n\n\n        function handleError2(res) {\n            console.log(\"ERROR\", res);\n\n            if(res.status == 401){\n                $location.path('/login');\n            }    \n\n            return { success: false, message: res.data, status: res.status };\n        }\n\n        // private functions\n\n        function handleSuccess(res) {\n            return res.data;\n        }\n\n        function handleError(error) {\n            return function () {\n                return { success: false, message: error };\n            };\n        }\n    }\napp.factory('PackageService', PackageService);\n\n    PackageService.$inject = ['$http', '$location'];\n    function PackageService($http, $location) {\n        var service = {};\n        \n        service.GetPackageById = GetPackageById;\n        service.GetPackagesByClubId = GetPackagesByClubId;\n        service.CreatePackage = CreatePackage;\n        service.UpdatePackage = UpdatePackage;\n        service.DeletePackage = DeletePackage;\n\n        service.GetPackagePlanesById = GetPackagePlanesById;\n        service.GetPackagePlanesByPackageId = GetPackagePlanesByPackageId;\n        service.CreatePackagePlane = CreatePackagePlane;\n        service.UpdatePackagePlane = UpdatePackagePlane;\n        service.DeletePackagePlane = DeletePackagePlane;\n\n        service.GetPackagesByUserId = GetPackagesByUserId;\n        service.GetPackagesForBookout = GetPackagesForBookout;\n        service.GetPackagesByUserIdAndClubId = GetPackagesByUserIdAndClubId;\n\n        service.SwapPackageHours = SwapPackageHours;\n        service.RefundPackageToAccount = RefundPackageToAccount;\n\n        return service; \n\n        //packages \n\n        function GetPackageById(id) {\n            return $http.get('/api/v1/packages/' + id).then(handleSuccess, handleError2);\n        }\n\n        function GetPackagesByClubId(club_id) {\n            return $http.get('/api/v1/packages/club/'+club_id).then(handleSuccess, handleError2);\n        }\n\n        function CreatePackage(nok) {\n            return $http.post('/api/v1/packages', nok).then(handleSuccess, handleError2);\n        }\n\n        function UpdatePackage(nok) {\n            return $http.put('/api/v1/packages/' + nok.id, nok).then(handleSuccess, handleError2);\n        }\n\n        function DeletePackage(id) {\n            return $http.delete('/api/v1/packages/' + id).then(handleSuccess, handleError2);\n        }\n\n\n         //package_planes\n\n        function GetPackagePlanesById(id) {\n            return $http.get('/api/v1/package_planes/' + id).then(handleSuccess, handleError2);\n        }\n\n        function GetPackagePlanesByPackageId(package_id) {\n            return $http.get('/api/v1/package_planes/package/'+package_id).then(handleSuccess, handleError2);\n        }\n\n        function CreatePackagePlane(nok) {\n            return $http.post('/api/v1/package_planes', nok).then(handleSuccess, handleError2);\n        }\n\n        function UpdatePackagePlane(nok) {\n            return $http.put('/api/v1/package_planes/' + nok.id, nok).then(handleSuccess, handleError2);\n        }\n\n        function DeletePackagePlane(id) {\n            return $http.delete('/api/v1/package_planes/' + id).then(handleSuccess, handleError2);\n        }\n\n\n        //PACKAGE AND PACKAGE USE\n\n        function GetPackagesByUserId(user_id) {\n            return $http.get('/api/v1/member_packages/user/'+user_id).then(handleSuccess, handleError2);\n        }\n\n        function GetPackagesForBookout(plane_log_sheet_id) {\n            return $http.get('/api/v1/member_packages/bookout/'+plane_log_sheet_id).then(handleSuccess, handleError2);\n        }\n\n        function SwapPackageHours(id, content){\n            return $http.post('/api/v1/member_packages/swap_hours_packages/'+id, content).then(handleSuccess, handleError2);\n        }\n\n        function RefundPackageToAccount(id){\n            return $http.post('/api/v1/member_packages/refund_package_to_account/'+id).then(handleSuccess, handleError2);\n        }\n        \n        //refund_package_to_account\n\n        function GetPackagesByUserIdAndClubId(user_id, club_id){\n            return $http.get('/api/v1/member_packages/member/'+user_id+'/'+club_id).then(handleSuccess, handleError2);\n        }\n\n\n\n        function handleError2(res) {\n            console.log(\"ERROR\", res);\n\n            if(res.status == 401){\n                $location.path('/login');\n            }    \n\n            return { success: false, message: res.data, status: res.status };\n        }\n\n        // private functions\n\n        function handleSuccess(res) {\n            return res.data;\n        }\n\n        function handleError(error) {\n            return function () {\n                return { success: false, message: error };\n            };\n        }\n    }\napp.factory('PaymentService', PaymentService);\n\n    PaymentService.$inject = ['$http', '$location'];\n    function PaymentService($http, $location) {\n        var service = {};\n\n\n        service.GetAddresses = GetAddresses;\n\n        service.GetPaymentTypes = GetPaymentTypes;\n        service.GetByUserId = GetByUserId;\n        service.GetAuthority = GetAuthority;\n        service.Create = Create;\n        service.Delete = Delete;\n        \n        service.CreateCustom = CreateCustom;\n        service.CompleteCustom = CompleteCustom;\n\n        service.Create2 = Create2;\n        service.UpdateCard = UpdateCard;\n        service.GetUserForPayment = GetUserForPayment;\n        service.GetCardDetails = GetCardDetails;\n        service.ChangePrimary = ChangePrimary;\n\n        service.GenerateStripeLink = GenerateStripeLink;\n        service.SaveStripeLink = SaveStripeLink;\n        service.RefreshStripeLink = RefreshStripeLink;\n        service.CreateCardIntent = CreateCardIntent;\n        service.CreatePaymentIntent = CreatePaymentIntent;\n        service.CreateNewCustomer = CreateNewCustomer;\n        service.GetMemberCards = GetMemberCards;\n        service.UpdateDefaultCard = UpdateDefaultCard;\n\n\n        service.ProcessPayment = ProcessPayment;\n\n\n        //create_saved_card_intent\n        //create_payment_intent_new_card\n        //create_cardmachine_intent\n\n        service.CreatePaymentIntentNewCard = CreatePaymentIntentNewCard; //ok\n        service.CreateSavedPaymentIntent = CreateSavedPaymentIntent; //ok\n        service.CreateCardMachinePaymentIntent = CreateCardMachinePaymentIntent; //ok\n\n        service.DeleteMemberCard = DeleteMemberCard;\n\n        return service; \n\n        function ProcessPayment(send){\n            return $http.post('/api/v1/payments/process_payment', send).then(handleSuccess, handleError2);\n        }\n\n        function UpdateDefaultCard(send){\n            return $http.post('/api/v1/cards/update_default_card', send).then(handleSuccess, handleError2);\n        }\n\n        function DeleteMemberCard(send){\n            return $http.post('/api/v1/cards/delete_member_card', send).then(handleSuccess, handleError2);\n        }\n\n        //settings for the licences... not sure they'll be required anywhere else - so keep em here now...\n        function GetMemberCards(send){\n            return $http.post('/api/v1/cards/get_member_cards', send).then(handleSuccess, handleError2);\n        }\n        //create_new_customer\n        function CreateNewCustomer(send){\n            return $http.post('/api/v1/cards/create_new_customer', send).then(handleSuccess, handleError2);\n        }\n\n        //create_cardmachine_intent_booking\n        function CreateCardMachinePaymentIntent(send){\n            return $http.post('/api/v1/cards/create_cardmachine_intent', send).then(handleSuccess, handleError2);\n        }\n\n        function CreateSavedPaymentIntent(send){\n            return $http.post('/api/v1/cards/create_saved_card_intent', send).then(handleSuccess, handleError2);\n        }\n\n        function CreateCardIntent(send){\n            return $http.post('/api/v1/cards/create_card_intent', send).then(handleSuccess, handleError2);\n        }\n\n        function CreatePaymentIntent(send){\n            return $http.post('/api/v1/cards/create_payment_intent', send).then(handleSuccess, handleError2);\n        }\n\n        function CreatePaymentIntentNewCard(send){\n            return $http.post('/api/v1/cards/create_payment_intent_new_card', send).then(handleSuccess, handleError2);\n        }\n\n        //create_payment_intent_new_card\n\n        function SaveStripeLink(club_id, stripe_id){\n            var details = {\"club_id\": club_id, \"stripe_id\": stripe_id};\n            return $http.post('/api/v1/cards/save_stripe_id', details).then(handleSuccess, handleError2);\n        }\n\n        function RefreshStripeLink(club_id, stripe_id){\n            var details = {\"club_id\": club_id, \"stripe_id\": stripe_id};\n            return $http.post('/api/v1/cards/refresh_stripe_id', details).then(handleSuccess, handleError2);\n        }\n\n        function GenerateStripeLink(details){\n            return $http.post('/api/v1/cards/create_onboarding_link', details).then(handleSuccess, handleError2);\n        }\n\n\n        function GetAddresses(postcode){\n            return $http.get('/api/v1/addresses/'+postcode).then(handleSuccess, handleError2);\n        }\n\n        function GetPaymentTypes() {\n            return $http.get('/api/v1/poid_components').then(handleSuccess, handleError2);\n        }\n\n        function GetAuthority() {\n            return $http.get('/api/v1/authority').then(handleSuccess, handleError2);\n        }\n\n        function GetUserForPayment(user_id) {\n            return $http.get('/api/v1/cards/user/'+user_id).then(handleSuccess, handleError2);\n        }\n\n        function GetByUserId(user_id){\n            return $http.get('/api/v1/cards/'+user_id).then(handleSuccess, handleError2);\n        }\n\n        function Create(card) {\n            return $http.post('/api/v1/cards', card).then(handleSuccess, handleError2);\n        }\n\n        function UpdateCard(card_id, address){\n            return $http.put('/api/v1/cards/'+card_id, address).then(handleSuccess, handleError2);\n        }\n\n        function ChangePrimary(user_id, card_id){\n            return $http.put('/api/v1/cards/primary/'+card_id, {user_id: user_id}).then(handleSuccess, handleError2);\n        }\n        \n\n        function Create2(user_id, card_id){\n            var obj = {\n                user_id: user_id,\n                card_id: card_id\n            }\n            return $http.post('/api/v1/cards', obj).then(handleSuccess, handleError2);\n        }\n\n\n        function CreateCustom(payment){\n            return $http.post('/api/v1/payments/custom', payment).then(handleSuccess, handleError2);\n        }\n\n        function CompleteCustom(payment){\n            return $http.post('/api/v1/payments/complete_custom', payment).then(handleSuccess, handleError2);\n        }\n\n\n        function GetCardDetails(card_id){\n            return $http.post('/api/v1/cards/address', {\"card\": card_id}).then(handleSuccess, handleError2);\n        }\n\n        function Delete(id, user_id) {\n            return $http.delete('/api/v1/cards/' + id+'?user_id='+user_id).then(handleSuccess, handleError2);\n        }\n\n     \n        \n        function handleError2(res) {\n            console.log(\"ERROR\", res);\n\n            if(res.status == 401){\n                $location.path('/login');\n            }    \n\n            return { success: false, message: res.data, status: res.status };\n        }\n\n        // private functions\n\n        function handleSuccess(res) {\n            return res.data;\n        }\n\n        function handleError(error) {\n            return function () {\n                return { success: false, message: error };\n            };\n        }\n    }\napp.factory('PlaneDocumentService', PlaneDocumentService);\n\n    PlaneDocumentService.$inject = ['$http', '$location'];\n    function PlaneDocumentService($http, $location) {\n        var service = {};\n\n     \n        service.GetByPlaneId = GetByPlaneId;\n        service.GetById = GetById;\n        service.Create = Create;\n        service.Update = Update;\n        service.Delete = Delete;\n        service.DeleteTmp = DeleteTmp;\n       \n        return service; \n\n        //settings for the licences... not sure they'll be required anywhere else - so keep em here now...\n\n      \n\n\n\n        function GetById(id, user_id) {\n            return $http.get('/api/v1/plane_documents/' + id).then(handleSuccess, handleError2);\n        }\n\n        function GetByPlaneId(id) {\n            //TODO\n            //this is awful... needs to be sorted out...\n            return $http.get('/api/v1/plane_documents/' + id).then(handleSuccess, handleError2);\n        }\n\n     \n        function Create(poid) {\n            return $http.post('/api/v1/plane_documents', poid).then(handleSuccess, handleError2);\n        }\n\n        function Update(poid) {\n            return $http.put('/api/v1/plane_documents/' + poid.id, poid).then(handleSuccess, handleError2);\n        }\n\n        function Delete(user_id, id) {\n            return $http.delete('/api/v1/plane_documents/' + id+'?user_id='+user_id).then(handleSuccess, handleError2);\n        }\n\n        function DeleteTmp(file) {\n            return $http.post('tmp_rm.php', {tmp: file}).then(handleSuccess, handleError2);\n        }\n\n        \n        function handleError2(res) {\n            console.log(\"ERROR\", res);\n\n            if(res.status == 401){\n                $location.path('/login');\n            }    \n\n            return { success: false, message: res.data, status: res.status };\n        }\n\n        // private functions\n\n        function handleSuccess(res) {\n            return res.data;\n        }\n\n        function handleError(error) {\n            return function () {\n                return { success: false, message: error };\n            };\n        }\n    }\napp.factory('PlaneService', PlaneService);\n\n    PlaneService.$inject = ['$http', '$location'];\n    function PlaneService($http, $location) {\n\n        // console.log(\"CALLED\");\n       var service = {};\n\n        service.GetAll = GetAll;\n        service.GetAllByClub = GetAllByClub;\n        service.GetById = GetById;\n        service.Create = Create;\n        service.Update = Update;\n        service.Delete = Delete;\n        service.GetOpenIssues = GetOpenIssues;\n        service.GetAllIssues = GetAllIssues;\n        service.AddDefect = AddDefect;\n        service.DeleteDefect = DeleteDefect;\n        service.GetAllReceipts = GetAllReceipts;\n        service.AddReceipt = AddReceipt;\n        service.DeleteReceipt = DeleteReceipt;\n        service.DeleteDefect = DeleteDefect;\n        service.GetAllSheetReceipts = GetAllSheetReceipts;\n        service.GetAllByClubMaintenance = GetAllByClubMaintenance;\n        service.GetByIdMaintenance = GetByIdMaintenance;\n        service.AddMaintenance = AddMaintenance;\n        service.GetByUserMaintenance = GetByUserMaintenance;\n        service.GetByIdMaintenance2 = GetByIdMaintenance2;\n        service.GetAddAircraft = GetAddAircraft;\n        service.GetAircraftJourneyLogs = GetAircraftJourneyLogs;\n        service.GetReceiptsApproval = GetReceiptsApproval;\n        service.GetCurrencies = GetCurrencies;\n        service.CheckReimbursement = CheckReimbursement;\n        service.UpdateReceipt = UpdateReceipt;\n        service.ApproveReceipt = ApproveReceipt;\n        service.RejectReceipt = RejectReceipt;\n        service.GetMyJourneyLogs = GetMyJourneyLogs;\n        service.GetUserJourneyLogs = GetUserJourneyLogs;\n        service.GetReceiptsClub = GetReceiptsClub;\n        service.GetReceiptsAircraft = GetReceiptsAircraft;\n        service.GetEngineLogs = GetEngineLogs;\n        service.GetPropLogs = GetPropLogs;\n        service.GetAirframeLogs = GetAirframeLogs;\n\n        service.GetUpdatedCharges = GetUpdatedCharges;\n\n        service.UpdateAircraftBit = UpdateAircraftBit;\n\n        service.GetIncompleteClub = GetIncompleteClub;\n        // service.GetMaintenanceForUser = GetMaintenanceForUser;\n\n        service.UpdateAircraftLogbooks = UpdateAircraftLogbooks;\n\n        service.HypotheticalFlightSplit = HypotheticalFlightSplit;\n\n        service.GetAllFlightsByClub = GetAllFlightsByClub;\n\n        service.UpdateOrder = UpdateOrder;\n\n        service.GetMaintenanceEvents = GetMaintenanceEvents;\n        service.UpdateMaintenanceEvent = UpdateMaintenanceEvent;\n       \n        return service; \n\n        function UpdateOrder(planes){\n            return $http.post('/api/v1/planes/organise', planes).then(handleSuccess, handleError2);\n        }\n\n        function HypotheticalFlightSplit(pls_id, split){\n            return $http.post('/api/v1/plane_log_sheets/hypothetical_flight_split/'+pls_id, split).then(handleSuccess, handleError2);\n        }\n\n        function GetAllFlightsByClub(club_id, from_date, to_date, aircraft){\n            return $http.post('/api/v1/plane_log_sheets/get_all_for_club/' + club_id, {from_date: from_date, to_date: to_date, aircraft: aircraft}).then(handleSuccess, handleError2);\n        }\n        \n        function UpdateAircraftLogbooks(plane_id){\n            return $http.get('/api/v1/planes/update_all_logbooks/'+plane_id).then(handleSuccess, handleError2);\n        }\n\n        function GetUpdatedCharges(club_id, plane_id, user_id){\n            return $http.get('/api/v1/plane_log_sheets/updated_charges/'+club_id+'/'+plane_id+'/'+user_id+'/').then(handleSuccess, handleError2);\n        }\n\n        function UpdateAircraftBit(object){\n            return $http.post('/api/v1/planes/'+object.plane_id+'/update_aircraft_bit', object).then(handleSuccess, handleError2);\n        }\n\n        function GetAirframeLogs(plane_id, offset=0, max=5){\n            return $http.get('/api/v1/planes/airframe_logbook/'+plane_id+'?offset='+offset+'&max='+max).then(handleSuccess, handleError2);\n\n        }\n        function GetPropLogs(id, plane_id, offset=0, max=5){\n            return $http.get('/api/v1/planes/'+plane_id+'/propeller_logbook/'+id+'?offset='+offset+'&max='+max).then(handleSuccess, handleError2);\n\n        }\n        function GetEngineLogs(id, plane_id, offset=0, max=5){\n            return $http.get('/api/v1/planes/'+plane_id+'/engine_logbook/'+id+'?offset='+offset+'&max='+max).then(handleSuccess, handleError2);\n\n        }\n\n        function GetAircraftJourneyLogs(id, offset=0, max=5){\n            return $http.get('/api/v1/planes/get_journey_log/'+id+'?offset='+offset+'&max='+max).then(handleSuccess, handleError2);\n        }\n\n        function GetMyJourneyLogs(id, offset=0, max=5){\n            return $http.get('/api/v1/planes/get_my_journey_log?offset='+offset+'&max='+max).then(handleSuccess, handleError2);\n        }\n\n        function GetUserJourneyLogs(user_id, club_id, offset=0, max=5){\n            return $http.get('/api/v1/planes/get_user_journey_log/'+user_id+'/'+club_id+'?offset='+offset+'&max='+max).then(handleSuccess, handleError2);\n        }\n\n        function GetAddAircraft(reg){\n            return $http.get('/api/v1/planes/aircraft/'+reg).then(handleSuccess, handleError2);\n        }\n\n        function GetAll() {\n            return $http.get('/api/v1/planes/').then(handleSuccess, handleError2);\n        }\n\n        function GetOpenIssues(plane_id) {\n            return $http.get('/api/v1/plane_tech_log_sheets/open_issues/'+plane_id).then(handleSuccess, handleError2);\n        }\n\n        function GetAllIssues(plane_id) {\n            return $http.get('/api/v1/plane_tech_log_sheets/all_issues/'+plane_id).then(handleSuccess, handleError2);\n        }\n\n        function AddDefect(obj){\n            return $http.post('/api/v1/plane_tech_log_sheets', obj).then(handleSuccess, handleError2);\n        }\n\n        function DeleteDefect(id){\n            return $http.delete('/api/v1/plane_tech_log_sheets/' + id).then(handleSuccess, handleError2);\n        }\n\n\n        function GetReceiptsApproval(club_id){\n            return $http.get('/api/v1/lubricant_receipts/for_approval/'+club_id).then(handleSuccess, handleError2);\n\n        }\n\n        function GetReceiptsClub(club_id, offset=0, limit=10){\n            return $http.get('/api/v1/lubricant_receipts/for_club/'+club_id+'?offset='+offset+'&limit='+limit).then(handleSuccess, handleError2);\n\n        }\n\n        function GetReceiptsAircraft(aircraft_id, offset=0, limit=5){\n            return $http.get('/api/v1/lubricant_receipts/for_aircraft/'+aircraft_id+'?offset='+offset+'&limit='+limit).then(handleSuccess, handleError2);\n        }\n\n        function GetCurrencies(club_id){\n            return $http.get('/api/v1/lubricant_receipts/currencies/'+club_id).then(handleSuccess, handleError2);\n        }\n\n        function GetAllReceipts(plane_id) {\n            return $http.get('/api/v1/lubricant_receipts/'+plane_id).then(handleSuccess, handleError2);\n        }\n\n        function GetAllSheetReceipts(sheet_id){\n            return $http.get('/api/v1/lubricant_receipts/sheet/'+sheet_id).then(handleSuccess, handleError2);\n        }\n\n        function AddReceipt(obj){\n            return $http.post('/api/v1/lubricant_receipts', obj).then(handleSuccess, handleError2);\n        }\n\n        function UpdateReceipt(id, obj){\n            return $http.put('/api/v1/lubricant_receipts/'+id, obj).then(handleSuccess, handleError2);\n        }\n\n        function ApproveReceipt(id, obj){\n       \n            return $http.post('/api/v1/lubricant_receipts/approve_receipt/'+id, obj).then(handleSuccess, handleError2);\n\n        }\n\n        function RejectReceipt(id, obj){\n            return $http.post('/api/v1/lubricant_receipts/reject_receipt/'+id, obj).then(handleSuccess, handleError2);\n        }\n\n        function CheckReimbursement(obj){\n            return $http.post('/api/v1/lubricant_receipts/check_reimbursement', obj).then(handleSuccess, handleError2);\n        }\n\n        function DeleteReceipt(id){\n            return $http.delete('/api/v1/lubricant_receipts/' + id).then(handleSuccess, handleError2);\n        }\n \n\n        function GetAllByClub(club_id) {\n            return $http.get('/api/v1/planes/club/'+club_id).then(handleSuccess, handleError2);\n        }\n\n        function GetAllByClubMaintenance(club_id){\n            return $http.get('/api/v1/planes/club_maintenance/'+club_id).then(handleSuccess, handleError2);\n        }\n\n        // function GetMaintenanceForUser(user_id){\n        //     return $http.get('/api/v1/planes/all_issues/'+plane_id).then(handleSuccess, handleError2);\n        // }\n\n        function GetByIdMaintenance(plane_id, club_id){\n            return $http.get('/api/v1/planes/' + plane_id + '/club_maintenance/' + club_id).then(handleSuccess, handleError2);\n        }\n\n        function GetByIdMaintenance2(plane_id, club_id){\n            return $http.get('/api/v1/planes/' + plane_id + '/club_maintenance2/' + club_id).then(handleSuccess, handleError2);\n        }\n\n        function GetByUserMaintenance(user_id){\n            return $http.get('/api/v1/planes/' + user_id + '/user_maintenance').then(handleSuccess, handleError2);\n        }\n\n        function GetById(plane_id, club_id) {\n            console.log(\"club_id \"+club_id);\n            console.log(\"plane_id \"+plane_id);\n            return $http.get('/api/v1/planes/' + plane_id + '/club/' + club_id).then(handleSuccess, handleError2);\n        }\n\n        function GetByUrl(url){\n            return $http.post('/api/v1/planes/get_by_url', url).then(handleSuccess, handleError2);\n        }\n\n        function AddMaintenance(plane_id, content){\n            return $http.post('/api/v1/planes/'+plane_id+'/maintenance', content).then(handleSuccess, handleError2);\n        }\n\n        function GetMaintenanceEvents(plane_id){\n            return $http.get('/api/v1/planes/'+plane_id+'/maintenance_events').then(handleSuccess, handleError2);\n        }\n\n        function UpdateMaintenanceEvent(event_id, content){\n            return $http.put('/api/v1/maintenance_events/'+event_id, content).then(handleSuccess, handleError2);\n        }\n\n        function GetIncompleteClub(club_id){\n            return $http.get('/api/v1/plane_log_sheets/incomplete_club/'+club_id).then(handleSuccess, handleError2);\n        } //incomplete_club\n\n        function Create(club) {\n            var url = '/api/v1/planes/';\n            return $http.post(url, club).then(handleSuccess, handleError2);\n        }\n\n        function Update(plane) {\n            return $http.put('/api/v1/planes/' + plane.plane_id, plane).then(handleSuccess, handleError2);\n        }\n\n        function Delete(club_plane_id) {\n            //this should be a disabled function only available for people working for the software\n            return $http.delete('/api/v1/planes/' + club_plane_id).then(handleSuccess, handleError2);\n        }\n\n\n\n        function handleError2(res) {\n            console.log(\"ERROR\", res);\n\n            if(res.status == 401){\n                $location.path('/login');\n            }    \n\n            return { success: false, message: res.data, status: res.status };\n        }\n        // private functions\n\n        function handleSuccess(res) {\n            return res.data;\n        }\n\n        function handleError(error) {\n            return function () {\n                return { success: false, message: error };\n            };\n        }\n    }\napp.factory('PoidService', PoidService);\n\n    PoidService.$inject = ['$http', '$location'];\n    function PoidService($http, $location) {\n        var service = {};\n\n        service.GetAll = GetAll;\n        service.GetPoidTypes = GetPoidTypes;\n        service.GetComponents = GetComponents;\n        service.GetAuthority = GetAuthority;\n        service.GetByUserId = GetByUserId;\n        service.GetByUserIdClub = GetByUserIdClub;\n        service.GetById = GetById;\n        service.Create = Create;\n        service.Update = Update;\n        service.Delete = Delete;\n        service.DeleteTmp = DeleteTmp;\n       \n        return service; \n\n        //settings for the licences... not sure they'll be required anywhere else - so keep em here now...\n\n        function GetPoidTypes() {\n            return $http.get('/api/v1/poid_components').then(handleSuccess, handleError2);\n        }\n\n        function GetComponents() {\n            return $http.get('/api/v1/poid_components').then(handleSuccess, handleError2);\n        }\n\n        function GetAuthority() {\n            return $http.get('/api/v1/authority').then(handleSuccess, handleError2);\n        }\n\n\n\n\n        function GetAll() {\n            return $http.get('/api/v1/poids').then(handleSuccess, handleError2);\n        }\n\n        function GetById(id, thumbs=1, decrypted=0) {\n\n            var end = \"\";\n            if(thumbs == 1 || decrypted == 1){\n\n                end = \"?\";\n                end += (thumbs == 1) ? \"st=1&\" : \"\";\n                end += (decrypted == 1) ? \"sd=1\" : \"\";\n\n            }\n\n            return $http.get('/api/v1/poids/' + id + end).then(handleSuccess, handleError2);\n        }\n\n        function GetByUserId(id) {\n            //TODO\n            //this is awful... needs to be sorted out...\n            return $http.get('/api/v1/poids/?user_id=' + id).then(handleSuccess, handleError2);\n        }\n\n        function GetByUserIdClub(id, club_id) {\n            //TODO\n            //this is awful... needs to be sorted out...\n            return $http.get('/api/v1/poids/'+club_id+'?user_id=' + id).then(handleSuccess, handleError2);\n        }\n\n        function Create(poid) {\n            return $http.post('/api/v1/poids', poid).then(handleSuccess, handleError2);\n        }\n\n        function Update(poid) {\n            return $http.put('/api/v1/poids/' + poid.id, poid).then(handleSuccess, handleError2);\n        }\n\n        function Delete(user_id, id) {\n            return $http.delete('/api/v1/poids/' + id+'?user_id='+user_id).then(handleSuccess, handleError2);\n        }\n\n        function DeleteTmp(file) {\n            return $http.post('tmp_rm.php', {tmp: file}).then(handleSuccess, handleError2);\n        }\n\n        \n        function handleError2(res) {\n            console.log(\"ERROR\", res);\n\n            if(res.status == 401){\n                //THIS MIGHT NOT BE APPROPRIATE\n                $location.path('/login');\n            }    \n\n            return { success: false, message: res.data, status: res.status };\n        }\n\n        // private functions\n\n        function handleSuccess(res) {\n            return res.data;\n        }\n\n        function handleError(error) {\n            return function () {\n                return { success: false, message: error };\n            };\n        }\n    }\napp.factory('ShopItemService', ShopItemService);\n\n    ShopItemService.$inject = ['$http', '$location'];\n    function ShopItemService($http, $location) {\n        var service = {};\n        \n        service.GetByClubId = GetByClubId;\n        service.GetById = GetById;\n        service.Create = Create;\n        service.Update = Update;\n        service.Delete = Delete;\n       \n\n        return service; \n\n        //settings for the licences... not sure they'll be required anywhere else - so keep em here now...\n\n       \n        function GetByClubId(club_id) {\n            return $http.get('/api/v1/shop_items/club/' + club_id).then(handleSuccess, handleError2);\n        }\n\n        function GetById(id) {\n            return $http.get('/api/v1/shop_items/' + id).then(handleSuccess, handleError2);\n        }\n\n        function Create(item) {\n            return $http.post('/api/v1/shop_items', item).then(handleSuccess, handleError2);\n        }\n\n        function Update(item, user_id) {\n            return $http.put('/api/v1/shop_items/' + item.id +'?user_id='+user_id, item).then(handleSuccess, handleError2);\n        }\n\n        function Delete(user_id, id) {\n            return $http.delete('/api/v1/shop_items/' + id+'?user_id='+user_id).then(handleSuccess, handleError2);\n        }\n\n\n        function handleError2(res) {\n            console.log(\"ERROR\", res);\n\n            if(res.status == 401){\n                $location.path('/login');\n            }    \n\n            return { success: false, message: res.data, status: res.status };\n        }\n\n        // private functions\n\n        function handleSuccess(res) {\n            return res.data;\n        }\n\n        function handleError(error) {\n            return function () {\n                return { success: false, message: error };\n            };\n        }\n    }\n// ToastService  reusable success / error / warning toast notifications\n// Replaces native alert() calls with the same visual style as payment toasts.\napp.factory('ToastService', ToastService);\n\nToastService.$inject = ['$timeout'];\nfunction ToastService($timeout) {\n\n    var service = {};\n    service.success = showSuccess;\n    service.error   = showError;\n    service.warning = showWarning;\n    service.validateForm = validateForm;\n    service.clearFieldError = clearFieldError;\n    service.highlightField = highlightField;\n    return service;\n\n    //  Form validation helper \n    // checks: array of { ok: <truthy condition>, field: 'element-id', label: 'Field Name' }\n    // Returns true if all checks pass, false and shows toast + highlight if any fail.\n    function validateForm(checks) {\n        // Clear any previous highlights\n        var highlighted = document.querySelectorAll('.field-error-highlight');\n        for (var i = 0; i < highlighted.length; i++) {\n            highlighted[i].classList.remove('field-error-highlight');\n        }\n\n        for (var j = 0; j < checks.length; j++) {\n            if (!checks[j].ok) {\n                var field = document.getElementById(checks[j].field);\n                if (field) {\n                    field.classList.add('field-error-highlight');\n                    field.scrollIntoView({ behavior: 'smooth', block: 'center' });\n                    try { field.focus(); } catch(e) {}\n                }\n                showError('Missing: ' + checks[j].label,\n                    'Please fill in the highlighted field before submitting.');\n                return false;\n            }\n        }\n        return true;\n    }\n\n    //  Clear field error on focus \n    function clearFieldError(event) {\n        if (event && event.target) {\n            event.target.classList.remove('field-error-highlight');\n        }\n        if (event && event.target) {\n            var parent = event.target.closest('.field-error-highlight');\n            if (parent) {\n                parent.classList.remove('field-error-highlight');\n            }\n        }\n    }\n\n    //  Highlight a single field by id or CSS selector + scroll into view \n    // Returns the element (or null) for chaining.\n    function highlightField(selector) {\n        // Clear any previous highlights first\n        var prev = document.querySelectorAll('.field-error-highlight');\n        for (var i = 0; i < prev.length; i++) {\n            prev[i].classList.remove('field-error-highlight');\n        }\n        // Try by id first, then by CSS selector\n        var el = document.getElementById(selector) || document.querySelector(selector);\n        if (el) {\n            el.classList.add('field-error-highlight');\n            el.scrollIntoView({ behavior: 'smooth', block: 'center' });\n            try { el.focus(); } catch(e) {}\n        }\n        return el;\n    }\n\n    //  Success toast (green tick + optional confetti) \n    function showSuccess(title, subtitle, opts) {\n        opts = opts || {};\n        var duration = opts.duration || 3000;\n        var confetti = opts.confetti !== false; // default true\n\n        var wrapper = document.createElement('div');\n        wrapper.className = 'payok-root';\n        wrapper.setAttribute('role', 'status');\n        wrapper.setAttribute('aria-live', 'polite');\n\n        if (confetti) {\n            var confettiEl = document.createElement('div');\n            confettiEl.className = 'payok-confetti';\n            for (var i = 0; i < 24; i++) {\n                var piece = document.createElement('div');\n                piece.className = 'payok-piece';\n                piece.style.left = (Math.random() * 100) + 'vw';\n                piece.style.animationDelay = (Math.random() * 150) + 'ms';\n                piece.style.animationDuration = (900 + Math.random() * 600) + 'ms';\n                confettiEl.appendChild(piece);\n            }\n            wrapper.appendChild(confettiEl);\n        }\n\n        var toast = buildToast('payok-toast', buildCheckIcon(), title, subtitle);\n        wrapper.appendChild(toast);\n        document.body.appendChild(wrapper);\n\n        scheduleRemoval(wrapper, toast, 'payok-hide', duration);\n    }\n\n    //  Error toast (red X + shake) \n    function showError(title, subtitle, opts) {\n        opts = opts || {};\n        var duration = opts.duration || 5000;\n\n        var wrapper = document.createElement('div');\n        wrapper.className = 'payfail-root';\n        wrapper.setAttribute('role', 'alert');\n        wrapper.setAttribute('aria-live', 'assertive');\n\n        var toast = buildToast('payfail-toast', buildXIcon(), title, subtitle);\n        wrapper.appendChild(toast);\n        document.body.appendChild(wrapper);\n\n        scheduleRemoval(wrapper, toast, 'payfail-hide', duration);\n    }\n\n    //  Warning toast (amber  icon) \n    function showWarning(title, subtitle, opts) {\n        opts = opts || {};\n        var duration = opts.duration || 4000;\n\n        var wrapper = document.createElement('div');\n        wrapper.className = 'ta-warn-root';\n        wrapper.setAttribute('role', 'alert');\n        wrapper.setAttribute('aria-live', 'polite');\n\n        var toast = buildToast('ta-warn-toast', buildWarnIcon(), title, subtitle);\n        wrapper.appendChild(toast);\n        document.body.appendChild(wrapper);\n\n        scheduleRemoval(wrapper, toast, 'ta-warn-hide', duration);\n    }\n\n    //  Helpers \n    function buildToast(className, iconEl, title, subtitle) {\n        var toast = document.createElement('div');\n        toast.className = className;\n        toast.appendChild(iconEl);\n\n        var text = document.createElement('div');\n        text.className = className.replace('-toast', '-text');\n\n        var titleEl = document.createElement('div');\n        titleEl.className = className.replace('-toast', '-title');\n        titleEl.textContent = title || '';\n        text.appendChild(titleEl);\n\n        if (subtitle) {\n            var subEl = document.createElement('div');\n            subEl.className = className.replace('-toast', '-sub');\n            subEl.textContent = subtitle;\n            text.appendChild(subEl);\n        }\n\n        toast.appendChild(text);\n        return toast;\n    }\n\n    function buildCheckIcon() {\n        var ico = document.createElement('div');\n        ico.className = 'payok-ico';\n        var svg = document.createElementNS('http://www.w3.org/2000/svg', 'svg');\n        svg.setAttribute('class', 'payok-check');\n        svg.setAttribute('viewBox', '0 0 24 24');\n        var path = document.createElementNS('http://www.w3.org/2000/svg', 'path');\n        path.setAttribute('d', 'M5 13l4 4L19 7');\n        svg.appendChild(path);\n        ico.appendChild(svg);\n        return ico;\n    }\n\n    function buildXIcon() {\n        var ico = document.createElement('div');\n        ico.className = 'payfail-ico';\n        var svg = document.createElementNS('http://www.w3.org/2000/svg', 'svg');\n        svg.setAttribute('class', 'payfail-x');\n        svg.setAttribute('viewBox', '0 0 24 24');\n        var p1 = document.createElementNS('http://www.w3.org/2000/svg', 'path');\n        p1.setAttribute('d', 'M6 6L18 18');\n        var p2 = document.createElementNS('http://www.w3.org/2000/svg', 'path');\n        p2.setAttribute('d', 'M18 6L6 18');\n        svg.appendChild(p1);\n        svg.appendChild(p2);\n        ico.appendChild(svg);\n        return ico;\n    }\n\n    function buildWarnIcon() {\n        var ico = document.createElement('div');\n        ico.className = 'ta-warn-ico';\n        var svg = document.createElementNS('http://www.w3.org/2000/svg', 'svg');\n        svg.setAttribute('class', 'ta-warn-tri');\n        svg.setAttribute('viewBox', '0 0 24 24');\n        // triangle outline\n        var p1 = document.createElementNS('http://www.w3.org/2000/svg', 'path');\n        p1.setAttribute('d', 'M12 2L1 21h22L12 2z');\n        p1.setAttribute('fill', 'none');\n        p1.setAttribute('stroke', '#fff');\n        p1.setAttribute('stroke-width', '2');\n        p1.setAttribute('stroke-linejoin', 'round');\n        // exclamation line\n        var p2 = document.createElementNS('http://www.w3.org/2000/svg', 'line');\n        p2.setAttribute('x1', '12'); p2.setAttribute('y1', '9');\n        p2.setAttribute('x2', '12'); p2.setAttribute('y2', '15');\n        p2.setAttribute('stroke', '#fff'); p2.setAttribute('stroke-width', '2');\n        p2.setAttribute('stroke-linecap', 'round');\n        // dot\n        var p3 = document.createElementNS('http://www.w3.org/2000/svg', 'circle');\n        p3.setAttribute('cx', '12'); p3.setAttribute('cy', '18');\n        p3.setAttribute('r', '1'); p3.setAttribute('fill', '#fff');\n        svg.appendChild(p1); svg.appendChild(p2); svg.appendChild(p3);\n        ico.appendChild(svg);\n        return ico;\n    }\n\n    function scheduleRemoval(wrapper, toast, hideClass, duration) {\n        $timeout(function() {\n            toast.classList.add(hideClass);\n            $timeout(function() {\n                if (wrapper.parentNode) {\n                    wrapper.parentNode.removeChild(wrapper);\n                }\n            }, 400);\n        }, duration);\n    }\n}\n\napp.factory('UserService', UserService);\n\n    UserService.$inject = ['$http', '$location'];\n    function UserService($http, $location) {\n        var service = {};\n\n        service.GetAll = GetAll;\n        service.GetById = GetById;\n        service.GetByUsername = GetByUsername;\n        service.Create = Create;\n        service.Update = Update;\n        service.Delete = Delete;\n        service.Verify = Verify;\n        service.InvitePassenger = InvitePassenger;\n        service.GetInvite = GetInvite;\n        service.GetPaxSecureInvite = GetPaxSecureInvite;\n        service.InviteSignup = InviteSignup;\n        service.GetAccess = GetAccess;\n        service.DeleteInvitation = DeleteInvitation;\n        service.ChangeInvitation = ChangeInvitation;\n        service.GetInvoices = GetInvoices;\n        service.GetAdminClubs = GetAdminClubs;\n        service.GetUpcoming = GetUpcoming;\n        service.GetPayments = GetPayments;\n        service.ConfirmPaxInvite = ConfirmPaxInvite;\n        service.GetPaxSecureInvite2 = GetPaxSecureInvite2;\n        service.SignupUserFromPassenger = SignupUserFromPassenger;\n        service.GetInvoicesUserClub = GetInvoicesUserClub;\n\n\n        return service;\n\n        function GetPayments(user_id){\n            return $http.get('/api/v1/payments/get_for_user/'+user_id).then(handleSuccess, handleError2);\n        }\n\n        function GetAll() {\n            return $http.get('/api/v1/users').then(handleSuccess, handleError2);\n        }\n\n        function GetAdminClubs(user_id){\n            return $http.get('/api/v1/clubs/get_all_admin_for_user/'+user_id).then(handleSuccess, handleError2);\n        }\n\n        function GetInvoices(user_id){\n            return $http.get('/api/v1/invoices/get_all_for_user/'+user_id).then(handleSuccess, handleError2);\n        }\n\n        function GetInvoicesUserClub(user_id, club_id, offset=0, batch=5, all=0){\n                                   // invoices/get_all_upcoming_for_user_by_club/:user_id/:club_id\n            return $http.get('/api/v1/invoices/get_all_upcoming_for_user_by_club/'+user_id+'/'+club_id+'?offset='+offset+\"&batch=\"+batch+\"&all=\"+all).then(handleSuccess, handleError2);\n\n        }\n\n        function GetUpcoming(user_id){\n            return $http.get('/api/v1/invoices/get_all_upcoming_for_user/'+user_id).then(handleSuccess, handleError2);\n        }\n\n        function GetById(id) {\n            return $http.get('/api/v1/users/' + id).then(handleSuccess, handleError2);\n        }\n\n        function GetByUsername(username) {\n            return $http.get('/api/v1/users/' + username).then(handleSuccess, handleError2);\n        }\n\n        function Create(user) {\n            $http.defaults.headers.common['Api-Key'] = \"eW91a25vd25vdGhpbmdqb25zbm93\";\n            return $http.post('/api/v1/users', user).then(handleSuccess, handleError2);\n        }\n\n        function Update(user) {\n            return $http.put('/api/v1/users/' + user.id, user).then(handleSuccess, handleError2);\n        }\n\n        function Delete(id) {\n            return $http.delete('/api/v1/users/' + id).then(handleSuccess, handleError2);\n        }\n\n        function Verify(id, verify_token) {\n            $http.defaults.headers.common['Api-Key'] = \"eW91a25vd25vdGhpbmdqb25zbm93\";\n            return $http.post('/api/v1/users/' + id + '/verify', {\"verify_token\": verify_token}).then(handleSuccess, handleError2);\n        }\n\n        function GetAccess(id) {\n            return $http.get('/api/v1/users/' + id + '/access').then(handleSuccess, handleError2);\n        }\n\n\n        \n\n        function InvitePassenger(email, invited_by, club_id, membership_id, booking_id){\n            var obj = {\n                email: email,\n                invited_by: invited_by,\n                club_id: club_id,\n                membership_id: membership_id,\n                booking_id: booking_id\n            };\n            return $http.post('/api/v1/invitations', obj).then(handleSuccess, handleError2);\n        }\n\n        function GetInvite(token){\n            $http.defaults.headers.common['Api-Key'] = \"eW91a25vd25vdGhpbmdqb25zbm93\";\n            if(token){\n                return $http.get('/api/v1/invitations/' + token).then(handleSuccess, handleError2);\n            } else {\n                return false;\n            }\n\n        }\n\n        function GetPaxInvite(token){\n            $http.defaults.headers.common['Api-Key'] = \"eW91a25vd25vdGhpbmdqb25zbm93\";\n            if(token){\n                return $http.get('/api/v1/invitations/' + token).then(handleSuccess, handleError2);\n            } else {\n                return false;\n            }\n        }\n\n        function ConfirmPaxInvite(token, data){\n            $http.defaults.headers.common['Api-Key'] = \"eW91a25vd25vdGhpbmdqb25zbm93\";\n            if(token && data){\n                return $http.post('/api/v1/invitations/signup_pax', data).then(handleSuccess, handleError2);\n            } else {\n                return false;\n            }\n        }\n\n        function GetPaxSecureInvite(token, code){\n            $http.defaults.headers.common['Api-Key'] = \"eW91a25vd25vdGhpbmdqb25zbm93\";\n            if(token){\n                return $http.get('/api/v1/invitations/' + token + '/' + code).then(handleSuccess, handleError2);\n            } else {\n                return false;\n            }\n        }\n\n        function GetPaxSecureInvite2(token, code){\n            $http.defaults.headers.common['Api-Key'] = \"eW91a25vd25vdGhpbmdqb25zbm93\";\n            if(token){\n                return $http.post('/api/v1/invitations/verify_invitation_for_user', {\"token\": token, \"code\": code}).then(handleSuccess, handleError2);\n            } else {\n                return false;\n            }\n        }\n\n        function InviteSignup(data){\n            $http.defaults.headers.common['Api-Key'] = \"eW91a25vd25vdGhpbmdqb25zbm93\";\n            return $http.post('/api/v1/invitations/signup', data).then(handleSuccess, handleError2);\n        }\n\n        function SignupUserFromPassenger(token, data){\n            $http.defaults.headers.common['Api-Key'] = \"eW91a25vd25vdGhpbmdqb25zbm93\";\n            return $http.post('/api/v1/invitations/create_user', data).then(handleSuccess, handleError2);\n        }\n\n        function ChangeInvitation(data, booking_id){\n            return $http.post('/api/v1/invitations/change_invitation/'+booking_id, data).then(handleSuccess, handleError2);\n        }\n\n        function DeleteInvitation(id){\n            return $http.delete('/api/v1/invitations/'+ id).then(handleSuccess, handleError2);\n        }\n\n        // private functions\n\n        function handleSuccess(res) {\n            //console.log(\"SUCCESS\");\n            return res.data;\n        }\n\n        function handleError2(res) {\n            console.log(\"ERROR\", res);\n\n            if(res.status == 401){\n                $location.path('/login');\n            }    \n\n            return { success: false, message: res.data, status: res.status };\n        }\n\n        function handleError(error) {\n            console.log(\"HANDLE ERROR ONE\", error);\n            return function () {\n                return { success: false, message: error };\n            };\n        }\n    }\napp.factory('VoucherService', VoucherService);\n\n    VoucherService.$inject = ['$http', '$location'];\n    function VoucherService($http, $location) {\n        var service = {};\n        \n        service.GetByClubId = GetByClubId;\n        service.GetById = GetById;\n        service.Create = Create;\n        service.Update = Update;\n        // service.Delete = Delete;\n\n        service.GetUniqueCode = GetUniqueCode;\n        service.CancelVoucher = CancelVoucher;\n       \n\n        // service.GetUpdatedCharges = GetUpdatedCharges;\n\n        return service; \n\n        //settings for the licences... not sure they'll be required anywhere else - so keep em here now...\n\n        // function GetUpdatedCharges(id){\n        //     return $http.get('/api/v1/plane_log_sheets/update_tuition_book_in/' + id).then(handleSuccess, handleError2);\n        // }\n       \n\n        //function for discounts\n\n\n        function GetUniqueCode(club_id) {\n            return $http.get('/api/v1/vouchers/unique_voucher/' + club_id).then(handleSuccess, handleError2);\n        }\n\n\n        function GetByClubId(club_id) {\n            return $http.get('/api/v1/vouchers/club/' + club_id).then(handleSuccess, handleError2);\n        }\n\n        function GetById(id) {\n            return $http.get('/api/v1/vouchers/' + id).then(handleSuccess, handleError2);\n        }\n\n        function Create(item) {\n            return $http.post('/api/v1/vouchers', item).then(handleSuccess, handleError2);\n        }\n\n        function Update(item, user_id) {\n            return $http.put('/api/v1/vouchers/' + item.id +'?user_id='+user_id, item).then(handleSuccess, handleError2);\n        }\n\n        function CancelVoucher(user_id, id) {\n            return $http.delete('/api/v1/vouchers/' + id+'?user_id='+user_id).then(handleSuccess, handleError2);\n        }\n\n\n\n        function handleError2(res) {\n            console.log(\"ERROR\", res);\n\n            if(res.status == 401){\n                $location.path('/login');\n            }    \n\n            return { success: false, message: res.data, status: res.status };\n        }\n        // private functions\n\n        function handleSuccess(res) {\n            return res.data;\n        }\n\n        function handleError(error) {\n            return function () {\n                return { success: false, message: error };\n            };\n        }\n    }\n    app.factory('WorkpackService', WorkpackService);\n\n    WorkpackService.$inject = ['$http', '$location'];\n    function WorkpackService($http, $location) {\n\n        var service = {};\n\n        // CRUD\n        service.Create = Create;\n        service.GetById = GetById;\n        service.GetByPlane = GetByPlane;\n        service.GetByClub = GetByClub;\n        service.GetOpenByPlane = GetOpenByPlane;\n        service.Update = Update;\n        service.Delete = Delete;\n\n        // Linking defects\n        service.LinkDefect = LinkDefect;\n        service.UnlinkDefect = UnlinkDefect;\n\n        // Linking maintenance events\n        service.LinkMaintenance = LinkMaintenance;\n        service.UnlinkMaintenance = UnlinkMaintenance;\n\n        // Standalone defect workpack info\n        service.UpdateDefectWorkpack = UpdateDefectWorkpack;\n\n        // Document download\n        service.DownloadDocument = DownloadDocument;\n\n        return service;\n\n        //  CRUD \n\n        function Create(workpack) {\n            return $http.post('/api/v1/maintenance_workpacks', workpack).then(handleSuccess, handleError);\n        }\n\n        function GetById(id) {\n            return $http.get('/api/v1/maintenance_workpacks/' + id).then(handleSuccess, handleError);\n        }\n\n        function GetByPlane(plane_id) {\n            return $http.get('/api/v1/maintenance_workpacks/plane/' + plane_id).then(handleSuccess, handleError);\n        }\n\n        function GetByClub(club_id) {\n            return $http.get('/api/v1/maintenance_workpacks/club/' + club_id).then(handleSuccess, handleError);\n        }\n\n        function GetOpenByPlane(plane_id) {\n            return $http.get('/api/v1/maintenance_workpacks/open/' + plane_id).then(handleSuccess, handleError);\n        }\n\n        function Update(id, workpack) {\n            return $http.put('/api/v1/maintenance_workpacks/' + id, workpack).then(handleSuccess, handleError);\n        }\n\n        function Delete(id) {\n            return $http.delete('/api/v1/maintenance_workpacks/' + id).then(handleSuccess, handleError);\n        }\n\n        //  Linking \n\n        function LinkDefect(workpack_id, defect_id) {\n            return $http.put('/api/v1/maintenance_workpacks/link_defect/' + workpack_id, { defect_id: defect_id }).then(handleSuccess, handleError);\n        }\n\n        function UnlinkDefect(defect_id) {\n            return $http.put('/api/v1/maintenance_workpacks/unlink_defect/' + defect_id).then(handleSuccess, handleError);\n        }\n\n        function LinkMaintenance(workpack_id, maintenance_check_id) {\n            return $http.put('/api/v1/maintenance_workpacks/link_maintenance/' + workpack_id, { maintenance_check_id: maintenance_check_id }).then(handleSuccess, handleError);\n        }\n\n        function UnlinkMaintenance(maintenance_check_id) {\n            return $http.put('/api/v1/maintenance_workpacks/unlink_maintenance/' + maintenance_check_id).then(handleSuccess, handleError);\n        }\n\n        //  Standalone defect workpack \n\n        function UpdateDefectWorkpack(defect_id, data) {\n            return $http.put('/api/v1/maintenance_workpacks/defect_workpack/' + defect_id, data).then(handleSuccess, handleError);\n        }\n\n        //  Document download \n\n        function DownloadDocument(filename) {\n            return $http.get('/api/v1/maintenance_workpacks/file/' + filename, {\n                responseType: 'arraybuffer'\n            }).then(handleSuccess, handleError);\n        }\n\n        //  Handlers \n\n        function handleError(res) {\n            console.log(\"WorkpackService ERROR\", res);\n            if (res.status == 401) {\n                $location.path('/login');\n            }\n            return { success: false, message: res.data, status: res.status };\n        }\n\n        function handleSuccess(res) {\n            return res.data;\n        }\n    }\n"],"file":"services.ann.js"}