{"version":3,"sources":["services.js"],"names":["app","factory","ArtpiecesService","$inject","$http","service","GetAll","GetById","Create","Update","Delete","AddCategory","DeleteCategory","get","then","handleSuccess","handleError","id","artpiece","post","put","linker","artpiece_id","category_id","res","data","error","success","message","AuthenticationService","$cookieStore","$rootScope","$timeout","UserService","Login","Login0","Login1","Login2","Login3","Logout","ResetPassword","ResetPassword2","SetCredentials","SetCredentials2","ClearCredentials","GetCredentials","CheckLoggedIn","defaults","headers","common","callback","response","username","session","user","Base64","encode","a","password","email","token","globals","currentUser","alert","getAdminClubs","user_id","getManagerClubs","GetAdminClubs","clubs","getCurrentAdminClub","vm","processAccess","access","obj","manager","pilot","instructor","items","show_manager","show_instructor","show_booking","show_approval_warning","i","length","approved","push","club_id","membership_id","is_manager","authdata","GetAccess","first_name","last_name","current_club_instructor","remove","Authorization","keyStr","input","output","chr1","chr2","chr3","enc1","enc2","enc3","enc4","charCodeAt","isNaN","charAt","decode","base64test","exec","window","replace","indexOf","String","fromCharCode","BookingService","$location","GetEdit","DeleteBooking","GetInstructors","GetAllPlanes","GetPlaneInstructors","GetRentalItems","updateBooking","GetAllUserClub","GetPlaneInstructorsEdit","GetIfCurrent","GetTodayBookingsUser","GetForBookout","GetForBookIn","GetBookingsToReview","GetAllInstructor","AcceptBooking","DeclineBooking","ResendInvitation","DeleteInvitation","GetBookingsToBrief","GetBookingsToDebrief","SetBookingToBriefed","GetForForDebrief","GetForForDebriefPls","handleError2","start","end","booking_id","update","person_editing","content","plane_id","end_date","show_all","rented_id","console","log","booking","url","delete_id","instructor_id","pls_id","status","path","filter","myValueFunction","card","values","opt1","opt2","getDistance","airfield","default_lat","default_long","R","dLat","deg2rad","wgs_n","dLon","wgs_e","Math","sin","cos","c","atan2","sqrt","d","deg","PI","array","Object","keys","forEach","key","name","sort","b","n","Date","setSeconds","toTimeString","slice","number","BookoutService","GetAirfields","GetAirfieldsByCode","SendBookout","GetBookoutsToComplete","BookInFlight","PayBooking","AddPassenger","GetPassengers","CancelBookout","CheckPayment","RetryPaymentMachine","ClearMachine","ConfirmPayment","payment_id","paymentID","start_with","code","GetBookout","bookout","UpdateBookout","amended_bookout","DeleteBookout","complete_bookin","complete_payment","CategoryService","category","ClubDocumentService","GetByClubId","GetByUserId","DeleteTmp","poid","file","tmp","ClubPaymentService","GetPaymentsByClub","GetPaymentTypes","GetAuthority","Refund","GetUserForPayment","refund","ClubService","CheckLink","GetByUrl","DownloadZip","GetClubInvoices","GetClubTotals","GetAllForUser","club","link","gallery_link","zip","from_date","to_date","from","to","CourseService","GetCourseById","GetCoursesByUserId","GetCoursesByClubId","CreateCourse","UpdateCourse","DeleteCourse","GetLessonById","GetLessonsByCourseId","CreateLesson","UpdateLesson","DeleteLesson","UpdateLessonOrder","GetTemByLessonId","CreateTem","UpdateTem","DeleteTem","UpdateTemOrder","GetBulletsByLessonId","CreateBullet","UpdateBullet","DeleteBullet","UpdateBulletOrder","GetItemsByLessonId","CreateItem","UpdateItem","DeleteItem","UpdateItemsOrder","GetExamsByCourseId","CreateExam","UpdateExam","DeleteExam","GetChargesByCourseId","CreateCharge","UpdateCharge","DeleteCharge","CreateTrainingRecord","GetStudentTrainingRecords","CreateExamRecord","UpdateTrainingRecord","GetTagsByCourseId","CreateTags","UpdateTags","DeleteTags","GetStudentTrainingRecordsForFlight","nok","course_id","bullets","lesson_id","GetCourseForDebrief","flight_id","DifferencesService","GetDifferences","GetByUserIdClub","differences","ExperiencesService","GetDiscountsByClubId","GetDiscountById","CreateDiscount","UpdateDiscount","DeleteDiscount","GetDiscountsByClubIdAndExperienceId","experience_id","item","FlashService","Success","Error","initService","$on","clearFlashMessage","flash","keepAfterLocationChange","type","FoxService","GetFoxEntries","GetFoxEntriesByPlane","ResetAllClubPlanes","FixUncombinedLogs","ResetOneClubPlane","GalleryService","gallery_id","gallery","GoCardService","SetupGoCard","SetupMandate","GenerateLink","GenerateUpdateLink","UpdateMandate","detail","details","HolidayService","holiday","send","title","allDay","ImagesService","GetOne","images","image","ImageUploadService","image_id","InstructorCharges","GetByCourseId","GetUpdatedCharges","InstructorService","SetAvailability","GetAvailability","GetAllByClub","UpdateOrder","UpdateInstructor","users","availability","InvoicesService","GetAllByBooking","GetOpenIssues","GetAllIssues","AddDefect","DeleteDefect","GetAllSheetReceipts","sheet_id","AddReceipt","DeleteReceipt","plane","club_plane_id","ItemService","KeywordsService","keywords","LicenceService","GetLicenceTypes","GetRatings","thumbs","decrypted","licence","LocalDataService","selected_images","all_galleries","selecting_for","SetSelectedImages","SetAllGalleries","SetSelectingFor","MedicalService","GetMedicalTypes","GetComponents","medical","MemberService","CreateMany","Verify","SendInvite","send_invite_by_club","GetMemberPlanes","SaveMemberPlanes","GetUserMemberships","GetAllByClubInstructor","GetAllByClubAndName","GetOneForUser","UpdateOneByUser","GetUserClubs","GetAllByPics","GetAllActiveByClub","GetAllByPicsBookinout","GetCompany","GetCompanyDetail","VerifyPhone","VerifyPhoneInvite","VerifyInvitedUser","GetMandate","GetAllByClubStudents","verification","invitation","supervised","planes","member","members","membership","verify","club_membership_id","MembershipService","GetAllMembershipPlanes","AddMembershipPlanes","UpdateMembershipPlanes","GetAllMembershipPlanesNew","GetAllByClubAvailable","SendRequest","GetRequestsByUser","GetRequestsByClub","DeleteRequest","GetRequestsById","AcceptRequest","ClubAcceptRequest","ResendRequest","request","UpdateRequests","membership_plane","membership_planes","NokService","PackageService","GetPackageById","GetPackagesByClubId","CreatePackage","UpdatePackage","DeletePackage","GetPackagePlanesById","GetPackagePlanesByPackageId","CreatePackagePlane","UpdatePackagePlane","DeletePackagePlane","GetPackagesByUserId","GetPackagesForBookout","GetPackagesByUserIdAndClubId","SwapPackageHours","RefundPackageToAccount","package_id","plane_log_sheet_id","PaymentService","GetAddresses","CreateCustom","CompleteCustom","Create2","UpdateCard","GetCardDetails","ChangePrimary","GenerateStripeLink","SaveStripeLink","RefreshStripeLink","CreateCardIntent","CreatePaymentIntent","CreateNewCustomer","GetMemberCards","UpdateDefaultCard","ProcessPayment","CreatePaymentIntentNewCard","CreateSavedPaymentIntent","CreateCardMachinePaymentIntent","DeleteMemberCard","stripe_id","postcode","card_id","address","payment","PlaneDocumentService","GetByPlaneId","PlaneService","GetAllReceipts","GetAllByClubMaintenance","GetByIdMaintenance","AddMaintenance","GetByUserMaintenance","GetByIdMaintenance2","GetAddAircraft","GetAircraftJourneyLogs","GetReceiptsApproval","GetCurrencies","CheckReimbursement","UpdateReceipt","ApproveReceipt","RejectReceipt","GetMyJourneyLogs","GetUserJourneyLogs","GetReceiptsClub","GetReceiptsAircraft","GetEngineLogs","GetPropLogs","GetAirframeLogs","UpdateAircraftBit","GetIncompleteClub","UpdateAircraftLogbooks","HypotheticalFlightSplit","GetAllFlightsByClub","split","aircraft","object","offset","max","reg","limit","aircraft_id","PoidService","GetPoidTypes","ShopItemService","GetByUsername","InvitePassenger","GetInvite","GetPaxSecureInvite","InviteSignup","ChangeInvitation","GetInvoices","GetUpcoming","GetPayments","ConfirmPaxInvite","GetPaxSecureInvite2","SignupUserFromPassenger","GetInvoicesUserClub","batch","all","verify_token","invited_by","GetPaxInvite","VoucherService","GetUniqueCode","CancelVoucher"],"mappings":"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","sourcesContent":["/*! ToAviate - v4.0.1 - 2026-02-06 */app.factory('ArtpiecesService', ArtpiecesService);\n\n    ArtpiecesService.$inject = ['$http'];\n    function ArtpiecesService($http) {\n        var service = {};\n\n        service.GetAll = GetAll;\n        service.GetById = GetById;\n        service.Create = Create;\n        service.Update = Update;\n        service.Delete = Delete;\n        service.AddCategory = AddCategory;\n        service.DeleteCategory = DeleteCategory;\n\n        return service;\n\n        function GetAll() {\n            return $http.get('/api/v1/artpieces').then(handleSuccess, handleError('Error getting all artpieces'));\n        }\n\n        function GetById(id) {\n            return $http.get('/api/v1/artpieces/' + id).then(handleSuccess, handleError('Error getting artpiece by id'));\n        }\n\n        function Create(artpiece) {\n            return $http.post('/api/v1/artpieces', artpiece).then(handleSuccess, handleError('Error creating artpiece'));\n        }\n\n        function Update(artpiece) {\n            return $http.put('/api/v1/artpieces/' + artpiece.id, artpiece).then(handleSuccess, handleError('Error updating artpiece'));\n        }\n\n        function AddCategory(linker){\n            return $http.post('/api/v1/artpieces/' + linker.artpiece_id + '/categories', linker).then(handleSuccess, handleError('Error adding category'));\n        }\n\n        function DeleteCategory(linker){\n            return $http.delete('/api/v1/artpieces/' + linker.artpiece_id + '/categories/' + linker.category_id).then(handleSuccess, handleError('Error deleting artpiece'));\n        }\n\n        function Delete(id) {\n            return $http.delete('/api/v1/artpieces/' + id).then(handleSuccess, handleError('Error deleting artpiece'));\n        }\n\n        // private functions\n\n        function handleSuccess(res) {\n            return res.data;\n        }\n\n        function handleError(error) {\n            return function () {\n                return { success: false, message: error };\n            };\n        }\n    }\n    app.factory('AuthenticationService', AuthenticationService);\n \n    AuthenticationService.$inject = ['$http', '$cookieStore', '$rootScope', '$timeout', 'UserService'];\n    function AuthenticationService($http, $cookieStore, $rootScope, $timeout, UserService) {\n        var service = {};\n \n        service.Login = Login;\n        \n        service.Login0 = Login0;\n        service.Login1 = Login1;\n        service.Login2 = Login2;\n        service.Login3 = Login3;\n        service.Logout = Logout;\n\n        service.ResetPassword = ResetPassword;\n        service.ResetPassword2 = ResetPassword2;\n\n        service.SetCredentials = SetCredentials;\n        service.SetCredentials2 = SetCredentials2;\n\n        service.ClearCredentials = ClearCredentials;\n        service.GetCredentials = GetCredentials;\n        service.CheckLoggedIn = CheckLoggedIn;\n        \n        $http.defaults.headers.common['Api-Key'] = \"eW91a25vd25vdGhpbmdqb25zbm93\";\n\n        return service;\n\n\n        function Logout(callback){\n\n            $http.post('/api/v1/users/logout', {})\n               .success(function (response) {\n                   callback(response);\n            });\n\n        }\n\n\n        function Login0(callback){\n\n\n            $http.post('/api/v1/users/login0', {})\n               .success(function (response) {\n                   callback(response);\n            });\n\n\n        }\n\n\n        function Login1(username, session, callback){\n            //var user = Base64.encode(username);\n            var user = Base64.encode(session + \",\" + username);\n\n            $http.post('/api/v1/users/login1', { a: user })\n               .success(function (response) {\n                   callback(response);\n            });\n\n        }\n\n\n        function Login2(password, session, callback){\n\n\n            var user = Base64.encode(session + \",\" + password);\n\n            $http.post('/api/v1/users/login2', { a: user })\n               .success(function (response) {\n                   callback(response);\n            });\n\n\n        }\n\n\n        function Login3(password, session, callback){\n\n\n            var user = Base64.encode(session + \",\" + password);\n\n            $http.post('/api/v1/users/login3', { a: user })\n               .success(function (response) {\n                   callback(response);\n            });\n\n\n        }\n\n        function ResetPassword(email, callback){\n\n\n            $http.post('/api/v1/users/reset_password', { email: email })\n               .success(function (response) {\n                   callback(response);\n            });\n\n\n        }\n\n        function ResetPassword2(password, token, callback){\n\n            var user = Base64.encode(token + \",\" + password);\n\n            $http.post('/api/v1/users/reset_password2', { a: user })\n               .success(function (response) {\n                   callback(response);\n            });\n\n\n        }\n\n\n\n \n        function Login(email, password, callback) {\n \n            /* Dummy authentication for testing, uses $timeout to simulate api call\n             ----------------------------------------------*/\n            // $timeout(function () {\n            //     var response;\n            //     UserService.GetByUsername(username)\n            //         .then(function (user) {\n            //             if (user !== null && user.password === password) {\n            //                 response = { success: true };\n            //             } else {\n            //                 response = { success: false, message: 'Username or password is incorrect' };\n            //             }\n            //             callback(response);\n            //         });\n            // }, 1000);\n \n            /* Use this for real authentication\n             ----------------------------------------------*/\n            $http.post('/api/v1/users/login', { email: email, password: password })\n               .success(function (response) {\n                   callback(response);\n            });\n \n        }\n\n        function GetCredentials(){\n            return $cookieStore.get('globals');\n        }\n\n\n        function CheckLoggedIn(){\n            if($cookieStore.get(\"globals\") !== \"\" || $rootScope.globals !== \"\"){\n                // console.log(\"root\", $rootScope.globals);\n                if($rootScope.globals == $cookieStore.get(\"globals\")){\n                    // console.log(\"OK ITS THE SAME\");\n                    return true;\n                } else if($rootScope.globals && $rootScope.globals.currentUser && $rootScope.globals.currentUser.id) {\n                    alert(\"It looks like you've been logged out due to inactivity - please login again.\");\n                    // console.log(\"its been tempered with / something went wrong - so lets override it all...\");\n                    // --> I think we should offer the redirect?\n                    return false;\n                  \n                } else {\n                    // console.log(\"You are not logged in?\");\n                    return false;\n                }\n\n\n            } else {\n                // console.log(\"cookie not set\");\n                return false;\n            }\n        }\n\n        function getAdminClubs(user_id){\n           \n        }\n\n        function getManagerClubs(user_id){\n            UserService.GetAdminClubs(user_id)\n            .then(function(data){\n                // console.log(\"GETTING CLUBS HERE \", data.clubs);\n                return data.clubs;   \n                \n            });\n        }\n\n        function getCurrentAdminClub(){\n                //think about preferences and setting the \"most favoured\" one.\n                return vm.clubs[0];\n                //console.log(\"vm.clubs[0]\", vm.clubs[0]);\n        }\n\n        function processAccess(access){\n\n            var obj = {\n                manager: [],\n                pilot: [],\n                instructor: [],\n                items: access,\n                show_manager: false,\n                show_instructor: false,\n                show_booking: false,\n                show_approval_warning: false\n            };\n\n\n\n            for(var i=0;i<access.length;i++){\n\n                if(access[i].approved == 1){\n                    obj.pilot.push(access[i].club_id);\n                } else if(access[i].approved == 0 && access[i].membership_id > 0){\n                    obj.pilot.push(access[i].club_id);\n                }\n\n                if(access[i].instructor == 1){\n                    obj.instructor.push(access[i].club_id);\n                }\n\n                if(access[i].is_manager == 1){\n                    obj.manager.push(access[i].club_id);\n\n                }\n\n\n            }\n\n\n            if(obj.manager.length > 0){\n                obj.show_manager = true;\n            }\n            if(obj.instructor.length > 0){\n                obj.show_instructor = true;\n               // obj.instruct_clubs = getInstructorClubs(user_id);\n            }\n            if(obj.pilot.length > 0){\n                obj.show_booking = true;\n            }\n\n            return obj;\n\n        }\n \n        function SetCredentials(email, password, user, session) {\n\n            // console.log(\"SET SET SET ME\");\n\n            ClearCredentials();\n\n            var authdata = Base64.encode(user.id + ':' + session);\n                \n            $http.defaults.headers.common['Authorization'] = 'Basic ' + authdata; // jshint ignore:line\n            $http.defaults.headers.common['Session'] = session;\n\n            // console.log(\"USER\", user);\n            //$rootScope.globals.currentUser.id\n            // console.log(\"SESSION IS \", session);\n\n            UserService.GetAccess(user.id)\n                .then(function (data) {\n                    // console.log(\"SENT access check\");\n                    // console.log(data);\n                    if(data.success){\n\n                        \n                        $rootScope.globals = {\n                            currentUser: {\n                                email: email,\n                                authdata: authdata,\n                                id: user.id,\n                                first_name: user.first_name,\n                                last_name: user.last_name,\n                                access: processAccess(data.access)\n                            }\n                        };\n\n                        //console.log(\"HEYA\");\n                        // $rootScope.globals.currentUser.current_club_instructor = vm.clubs[0];\n                        //$rootScope.globals.currentUser.current_club_instructor\n                        // set the default instructor --> \n                        if($rootScope.globals.currentUser.access.instructor.length > 0){\n                            // console.log(\"we are an instructor SOMEWHERE, setting: \", $rootScope.globals.currentUser.access.instructor[0]);\n                            $rootScope.globals.currentUser.current_club_instructor = $rootScope.globals.currentUser.access.instructor[0];\n                        } else {\n                            // console.log(\"ELSE ERROR: \", $rootScope.globals.currentUser.access);\n                        }\n\n\n                        $http.defaults.headers.common['Authorization'] = 'Basic ' + authdata; // jshint ignore:line\n\n                        $cookieStore.put('globals', $rootScope.globals);\n                        $cookieStore.put('session', session);\n\n                        // console.log(\"access is \", $rootScope.globals.currentUser.access);\n\n                    } else {\n                       \n\n                    }\n                });\n\n            \n \n            \n        }\n\n\n        function SetCredentials2(email, password, user, session, callback) {\n            // console.log(\"SET SET SET ME\");\n\n            ClearCredentials();\n\n            var authdata = Base64.encode(user.id + ':' + session);\n                \n            $http.defaults.headers.common['Authorization'] = 'Basic ' + authdata; // jshint ignore:line\n            $http.defaults.headers.common['Session'] = session;\n\n            // console.log(\"USER\", user);\n            //$rootScope.globals.currentUser.id\n            // console.log(\"SESSION IS \", session);\n\n            UserService.GetAccess(user.id)\n                .then(function (data) {\n                    // console.log(\"SENT access check\");\n                    // console.log(data);\n                    if(data.success){\n\n                        \n                        $rootScope.globals = {\n                            currentUser: {\n                                email: email,\n                                authdata: authdata,\n                                id: user.id,\n                                first_name: user.first_name,\n                                last_name: user.last_name,\n                                access: processAccess(data.access)\n                            }\n                        };\n\n                        if($rootScope.globals.currentUser.access.instructor.length > 0){\n                             // console.log(\"we are an instructor SOMEWHERE, setting: \", $rootScope.globals.currentUser.access.instructor[0]);\n                            $rootScope.globals.currentUser.current_club_instructor = $rootScope.globals.currentUser.access.instructor[0];\n                        } else {\n                             // console.log(\"ELSE ERROR: \", $rootScope.globals.currentUser.access);\n                        }\n\n                        $http.defaults.headers.common['Authorization'] = 'Basic ' + authdata; // jshint ignore:line\n\n                        $cookieStore.put('globals', $rootScope.globals);\n                        $cookieStore.put('session', session);\n\n                        // console.log(\"access is\", $rootScope.globals.currentUser.access);\n\n                        callback($rootScope.globals.currentUser) ;\n                    } else {\n                       \n                        callback(false) ;\n                    }\n                });\n\n            \n \n            \n        }\n \n        function ClearCredentials() {\n            $rootScope.globals = {};\n            $cookieStore.remove('globals');\n            $cookieStore.remove('session');\n            $http.defaults.headers.common.Authorization = 'Basic 123';\n            $http.defaults.headers.common['Session'] = \"ABC123\";\n        }\n    }\n \n    // Base64 encoding service used by AuthenticationService\n    var Base64 = {\n \n        keyStr: 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=',\n \n        encode: function (input) {\n            var output = \"\";\n            var chr1, chr2, chr3 = \"\";\n            var enc1, enc2, enc3, enc4 = \"\";\n            var i = 0;\n \n            do {\n                chr1 = input.charCodeAt(i++);\n                chr2 = input.charCodeAt(i++);\n                chr3 = input.charCodeAt(i++);\n \n                enc1 = chr1 >> 2;\n                enc2 = ((chr1 & 3) << 4) | (chr2 >> 4);\n                enc3 = ((chr2 & 15) << 2) | (chr3 >> 6);\n                enc4 = chr3 & 63;\n \n                if (isNaN(chr2)) {\n                    enc3 = enc4 = 64;\n                } else if (isNaN(chr3)) {\n                    enc4 = 64;\n                }\n \n                output = output +\n                    this.keyStr.charAt(enc1) +\n                    this.keyStr.charAt(enc2) +\n                    this.keyStr.charAt(enc3) +\n                    this.keyStr.charAt(enc4);\n                chr1 = chr2 = chr3 = \"\";\n                enc1 = enc2 = enc3 = enc4 = \"\";\n            } while (i < input.length);\n \n            return output;\n        },\n \n        decode: function (input) {\n            var output = \"\";\n            var chr1, chr2, chr3 = \"\";\n            var enc1, enc2, enc3, enc4 = \"\";\n            var i = 0;\n \n            // remove all characters that are not A-Z, a-z, 0-9, +, /, or =\n            var base64test = /[^A-Za-z0-9\\+\\/\\=]/g;\n            if (base64test.exec(input)) {\n                window.alert(\"There were invalid base64 characters in the input text.\\n\" +\n                    \"Valid base64 characters are A-Z, a-z, 0-9, '+', '/',and '='\\n\" +\n                    \"Expect errors in decoding.\");\n            }\n            input = input.replace(/[^A-Za-z0-9\\+\\/\\=]/g, \"\");\n \n            do {\n                enc1 = this.keyStr.indexOf(input.charAt(i++));\n                enc2 = this.keyStr.indexOf(input.charAt(i++));\n                enc3 = this.keyStr.indexOf(input.charAt(i++));\n                enc4 = this.keyStr.indexOf(input.charAt(i++));\n \n                chr1 = (enc1 << 2) | (enc2 >> 4);\n                chr2 = ((enc2 & 15) << 4) | (enc3 >> 2);\n                chr3 = ((enc3 & 3) << 6) | enc4;\n \n                output = output + String.fromCharCode(chr1);\n \n                if (enc3 != 64) {\n                    output = output + String.fromCharCode(chr2);\n                }\n                if (enc4 != 64) {\n                    output = output + String.fromCharCode(chr3);\n                }\n \n                chr1 = chr2 = chr3 = \"\";\n                enc1 = enc2 = enc3 = enc4 = \"\";\n \n            } while (i < input.length);\n \n            return output;\n        }\n    };\napp.factory('BookingService', BookingService);\n\n    BookingService.$inject = ['$http', '$location'];\n    function BookingService($http, $location) {\n\n        // console.log(\"CALLED\");\n       var service = {};\n\n        service.GetAll = GetAll;\n        service.GetEdit = GetEdit;\n        service.Create = Create;\n        // service.Update = Update;\n        service.DeleteBooking = DeleteBooking;\n        service.GetInstructors = GetInstructors;\n        service.GetAllPlanes = GetAllPlanes;\n        service.GetPlaneInstructors = GetPlaneInstructors;\n        service.GetRentalItems = GetRentalItems;\n        service.updateBooking = updateBooking;\n        service.GetAllUserClub = GetAllUserClub;\n        service.GetPlaneInstructorsEdit = GetPlaneInstructorsEdit;\n        service.GetIfCurrent = GetIfCurrent;\n        service.GetTodayBookingsUser = GetTodayBookingsUser;\n        service.GetForBookout = GetForBookout;\n        service.GetForBookIn = GetForBookIn;\n        service.GetBookingsToReview = GetBookingsToReview;\n        service.GetAllInstructor = GetAllInstructor;\n        service.AcceptBooking = AcceptBooking;\n        service.DeclineBooking = DeclineBooking;\n        service.ResendInvitation = ResendInvitation;\n        service.DeleteInvitation = DeleteInvitation;\n\n        service.GetBookingsToBrief = GetBookingsToBrief;\n        service.GetBookingsToDebrief = GetBookingsToDebrief;\n        service.SetBookingToBriefed = SetBookingToBriefed;\n        \n        service.GetForForDebrief = GetForForDebrief;\n        service.GetBookingsToDebrief = GetBookingsToDebrief;\n\n        service.GetForForDebriefPls = GetForForDebriefPls;\n\n        return service;\n\n        function GetBookingsToReview(user_id){\n            return $http.get('/api/v1/bookings/to_approve/'+user_id).then(handleSuccess, handleError2);\n        }\n\n        function GetForBookIn(id){\n            return $http.get('/api/v1/plane_log_sheets/'+id).then(handleSuccess, handleError2);\n        }\n\n        function GetAllUserClub(user_id,club_id,start,end){\n            // /bookings/user_club/USER_ID/CLUB_ID/START/END\n            return $http.get('/api/v1/bookings/user_club/'+user_id+'/'+club_id+'/'+start+'/'+end).then(handleSuccess, handleError2);\n        }\n\n        function GetAll(user_id, start, end) {\n            return $http.get('/api/v1/bookings/'+user_id+'/'+start+'/'+end).then(handleSuccess, handleError2);\n        }\n\n        function GetAllInstructor(user_id, start, end) {\n            return $http.get('/api/v1/bookings/instructor_schedule/'+user_id+'/'+start+'/'+end).then(handleSuccess, handleError2);\n        }\n\n        function GetTodayBookingsUser(user_id) {\n            return $http.get('/api/v1/bookings/user_bookings_today/'+user_id).then(handleSuccess, handleError2);\n        }\n        \n        function GetForBookout(user_id, booking_id) {\n            return $http.get('/api/v1/bookings/for_bookout/'+user_id+'/'+booking_id).then(handleSuccess, handleError2);\n        }\n\n        function GetEdit(user_id, booking_id) {\n            return $http.get('/api/v1/bookings/edit/'+user_id+'/'+booking_id).then(handleSuccess, handleError2);\n        }\n\n        function updateBooking(update, user_id){\n            update.person_editing = user_id;\n            //console.log(\"UPDATE CONTENT\", update);\n            //start and end need to be defined...\n            return $http.put('/api/v1/bookings/'+update.id+'/'+user_id, update).then(handleSuccess, handleError2);\n        }\n\n        function AcceptBooking(id, user_id){\n            return $http.put('/api/v1/bookings/accept_booking/'+id+'/'+user_id, {}).then(handleSuccess, handleError2);\n        }\n        function DeclineBooking(id, user_id, content){\n            return $http.put('/api/v1/bookings/decline_booking/'+id+'/'+user_id, content).then(handleSuccess, handleError2);\n        }\n\n        function GetIfCurrent(user_id, plane_id, end_date){\n            return $http.get('/api/v1/bookings/pilot_currency/'+user_id+'/'+plane_id+'/'+end_date).then(handleSuccess, handleError2);\n        }\n\n        function GetAllPlanes(user_id, start, end, show_all, rented_id = 0) {\n            console.log(\"GET ALL PLANES? \");\n            return $http.get('/api/v1/bookings/planes/'+user_id+'/'+start+'/'+end+\"?show_all=\"+show_all+\"&rented_id=\"+rented_id).then(handleSuccess, handleError2);\n        }\n\n        function GetInstructors(user_id, start, end, show_all){\n            return $http.get('/api/v1/bookings/instructors/'+user_id+'/'+start+'/'+end).then(handleSuccess, handleError2);\n        }\n\n        function GetPlaneInstructors(user_id, plane_id, start, end, show_all){\n            return $http.get('/api/v1/bookings/plane_instructors/'+user_id+'/'+plane_id+'/'+start+'/'+end+\"?show_all=\"+show_all).then(handleSuccess, handleError2);\n        }\n\n        // function GetPlaneInstructors2(user_id, plane_id, start, end, show_all){\n        //     //this is for the all instructors not presently booked elsewhere...\n        //     return $http.get('/api/v1/bookings/plane_instructors3/'+user_id+'/'+plane_id+'/'+start+'/'+end+\"?show_all=\"+show_all).then(handleSuccess, handleError('Error getting all Image'));\n        // }\n\n        function GetPlaneInstructorsEdit(user_id, plane_id, start, end, show_all, booking_id){\n            return $http.get('/api/v1/bookings/plane_instructors2/'+user_id+'/'+plane_id+'/'+start+'/'+end+\"/\"+booking_id+\"?show_all=\"+show_all).then(handleSuccess, handleError2);\n        }\n\n        function GetRentalItems(club_id, start, end, show_all){\n            return $http.get('/api/v1/bookings/rental_items/'+club_id+'/'+start+'/'+end+\"?show_all=\"+show_all).then(handleSuccess, handleError2);\n        }\n\n        function Create(user_id, booking) {\n            var url = '/api/v1/bookings/';\n            return $http.post(url, booking).then(handleSuccess, handleError2);\n        }\n\n        \n        function ResendInvitation(content, id){\n               // /resend_invitation\n            return $http.post('/api/v1/invitations/resend_invitation/'+id, content).then(handleSuccess, handleError2);\n        }\n\n        function DeleteInvitation(content, id){\n            //DeleteInvitation\n            return $http.delete('/api/v1/invitations/'+id).then(handleSuccess, handleError2);\n        }\n\n        // function Update(user_id, holiday) {\n        //     //maybe some sanitation required here? especially for the user_id bit...\n        //      var send = {\n        //         id: holiday.id,\n        //         user_id: user_id,\n        //         title: holiday.title,\n        //         from_date: holiday.start,\n        //         to_date: holiday.end,\n        //         allDay: holiday.allDay\n        //     }\n        //     return $http.put('/api/v1/instructor_holiday/' + holiday.id, send).then(handleSuccess, handleError('Error updating Image'));\n        // }\n\n        function DeleteBooking(user_id, delete_id) {\n            //this should be a disabled function only available for people working for the software\n            return $http.delete('/api/v1/bookings/' + delete_id + '?user_id=' + user_id).then(handleSuccess, handleError2);\n        }\n\n\n\n\n        //instructor briefing tools::\n        function GetBookingsToBrief(instructor_id){\n\n            return $http.get('/api/v1/bookings/instructor_brief').then(handleSuccess, handleError2);\n\n        }\n\n        function GetBookingsToDebrief(instructor_id){\n\n            return $http.get('/api/v1/bookings/instructor_debrief').then(handleSuccess, handleError2);\n\n        }\n\n        function SetBookingToBriefed(booking_id){\n            return $http.put('/api/v1/bookings/set_briefed/'+booking_id, {}).then(handleSuccess, handleError2);\n\n        }\n\n\n\n        function GetForForDebrief(booking_id){\n            return $http.get('/api/v1/bookings/for_debrief/'+booking_id, {}).then(handleSuccess, handleError2);\n\n        }\n\n        function GetForForDebriefPls(pls_id){\n            //GetForForDebriefPls\n            return $http.get('/api/v1/bookings/for_debrief_pls/'+pls_id, {}).then(handleSuccess, handleError2);\n        }\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n        // private functions\n\n        function handleSuccess(res) {\n            return res.data;\n        }\n\n        function handleError2(res) {\n            console.log(\"ERROR\", res);\n\n            if(res.status == 401){\n                $location.path('/login');\n            }    \n\n            return { success: false, message: res.data, status: res.status };\n        }\n\n        function handleError(error) {\n            return function () {\n                return { success: false, message: error };\n            };\n        }\n    }\napp.filter('orderAirfields', function () {\n  // custom value function for sorting\n  function myValueFunction(card) {\n    return card.values.opt1 + card.values.opt2;\n  }\n\n  function getDistance(airfield, default_lat, default_long) {\n      var R = 6371; // Radius of the earth in km\n      var dLat = deg2rad(airfield.wgs_n-default_lat);  // deg2rad below\n      var dLon = deg2rad(airfield.wgs_e-default_long); \n      var a = \n        Math.sin(dLat/2) * Math.sin(dLat/2) +\n        Math.cos(deg2rad(default_lat)) * Math.cos(deg2rad(airfield.wgs_n)) * \n        Math.sin(dLon/2) * Math.sin(dLon/2)\n        ; \n      var c = 2 * Math.atan2(Math.sqrt(a), Math.sqrt(1-a)); \n      var d = R * c; // Distance in km\n      return d;\n    }\n\n    function deg2rad(deg) {\n      return deg * (Math.PI/180)\n    }\n\n  return function (obj, default_lat, default_long) {\n    var array = [];\n    if(default_lat && default_long && obj){\n\n        Object.keys(obj).forEach(function (key) {\n          // inject key into each object so we can refer to it from the template\n          obj[key].name = key;\n          array.push(obj[key]);\n        });\n        // apply a custom sorting function\n       array.sort(function (a, b) {\n          return getDistance(a, default_lat, default_long) - getDistance(b, default_lat, default_long);\n        }); \n    }\n    \n    return array;\n  };\n});\n\napp.filter('formatHours', function(){\n\n    return function(input) {\n\n        var n = new Date(0,0);\n        n.setSeconds(+input * 60 * 60);\n\n        return n.toTimeString().slice(0, 5);\n\n    }\n   \n});\n\n\napp.filter('addS', function(){\n\n    return function(input, number) {\n\n        if(number > 1){\n            input = input+ \"s\";\n        }\n\n        return input;\n    }\n   \n});\napp.factory('BookoutService', BookoutService);\n\n    BookoutService.$inject = ['$http', '$location'];\n    function BookoutService($http, $location) {\n\n        // console.log(\"CALLED\");\n       var service = {};\n\n        service.GetAll = GetAll;\n        service.GetEdit = GetEdit;\n        service.Create = Create;\n        // service.Update = Update;\n        service.DeleteBooking = DeleteBooking;\n        service.GetInstructors = GetInstructors;\n        service.GetAllPlanes = GetAllPlanes;\n        service.GetPlaneInstructors = GetPlaneInstructors;\n        service.GetRentalItems = GetRentalItems;\n        service.updateBooking = updateBooking;\n        service.GetAirfields = GetAirfields;\n        service.GetAirfieldsByCode = GetAirfieldsByCode;\n        service.SendBookout = SendBookout;\n        service.GetBookoutsToComplete = GetBookoutsToComplete;\n        service.BookInFlight = BookInFlight;\n        service.PayBooking = PayBooking;\n        service.AddPassenger = AddPassenger;\n        service.GetPassengers = GetPassengers;\n        service.CancelBookout = CancelBookout;\n        service.CheckPayment = CheckPayment;\n        service.RetryPaymentMachine = RetryPaymentMachine;\n        service.ClearMachine = ClearMachine;\n        service.ConfirmPayment = ConfirmPayment;\n       \n        return service;\n        //ConfirmPayment\n\n        function ConfirmPayment(payment_id, club_id){\n            return $http.post('/api/v1/cards/confirm_payment', {payment_id: payment_id, club_id: club_id}).then(handleSuccess, handleError2);\n        }\n        function ClearMachine(payment_id, club_id){\n            return $http.post('/api/v1/cards/clear_machine', {paymentID: payment_id, club_id: club_id}).then(handleSuccess, handleError2);\n        }\n        function RetryPaymentMachine(payment_id, club_id){\n            return $http.post('/api/v1/cards/retry_payment_machine', {paymentID: payment_id, club_id: club_id}).then(handleSuccess, handleError2);\n        }\n\n        function CheckPayment(id){\n            return $http.post('/api/v1/cards/check_payment', {paymentID: id}).then(handleSuccess, handleError2);\n        }\n\n        function GetAirfields(start_with){\n            return $http.get('/api/v1/airfields/all/'+start_with).then(handleSuccess, handleError2);\n        }\n\n        function GetAirfieldsByCode(code){\n            return $http.get('/api/v1/airfields/code/'+code).then(handleSuccess, handleError2);\n        }\n\n        function GetAll(user_id, start, end) {\n            return $http.get('/api/v1/bookings/'+user_id+'/'+start+'/'+end).then(handleSuccess, handleError2);\n        }\n\n        \n        function AddPassenger(data, id){\n            return $http.post(\"/api/v1/invitations/new_passenger/\"+id, data).then(handleSuccess, handleError2);\n        }\n\n        function GetPassengers(id){\n            return $http.get(\"/api/v1/invitations/\"+id+\"/passengers\").then(handleSuccess, handleError2);\n        }\n        \n\n        function GetEdit(user_id, booking_id) {\n            return $http.get('/api/v1/bookings/edit/'+user_id+'/'+booking_id).then(handleSuccess, handleError2);\n        }\n\n        function updateBooking(update, user_id){\n            update.person_editing = user_id;\n            //console.log(\"UPDATE CONTENT\", update);\n            //start and end need to be defined...\n            return $http.put('/api/v1/bookings/'+update.id+'/'+user_id, update).then(handleSuccess, handleError2);\n        }\n\n        function GetAllPlanes(user_id, start, end, show_all, rented_id = 0) {\n            return $http.get('/api/v1/bookings/planes/'+user_id+'/'+start+'/'+end+\"?show_all=\"+show_all+\"&rented_id=\"+rented_id).then(handleSuccess, handleError2);\n        }\n\n        function GetInstructors(user_id, start, end, show_all){\n            return $http.get('/api/v1/bookings/instructors/'+user_id+'/'+start+'/'+end).then(handleSuccess, handleError2);\n        }\n\n        function GetPlaneInstructors(user_id, plane_id, start, end, show_all){\n            return $http.get('/api/v1/bookings/plane_instructors/'+user_id+'/'+plane_id+'/'+start+'/'+end+\"?show_all=\"+show_all).then(handleSuccess, handleError2);\n        }\n\n        function GetRentalItems(club_id, start, end, show_all){\n            return $http.get('/api/v1/bookings/rental_items/'+club_id+'/'+start+'/'+end+\"?show_all=\"+show_all).then(handleSuccess, handleError2);\n        }\n\n        function Create(user_id, booking) {\n            var url = '/api/v1/bookings/';\n            return $http.post(url, booking).then(handleSuccess, handleError2);\n        }\n\n        // function Update(user_id, holiday) {\n        //     //maybe some sanitation required here? especially for the user_id bit...\n        //      var send = {\n        //         id: holiday.id,\n        //         user_id: user_id,\n        //         title: holiday.title,\n        //         from_date: holiday.start,\n        //         to_date: holiday.end,\n        //         allDay: holiday.allDay\n        //     }\n        //     return $http.put('/api/v1/instructor_holiday/' + holiday.id, send).then(handleSuccess, handleError2);\n        // }\n\n        function DeleteBooking(user_id, delete_id) {\n            //this should be a disabled function only available for people working for the software\n            return $http.delete('/api/v1/bookings/' + delete_id + '?user_id=' + user_id).then(handleSuccess, handleError2);\n        }\n\n\n\n\n        //NOWNOWNOW\n\n        function GetBookoutsToComplete(user_id) {\n            return $http.get('/api/v1/plane_log_sheets/incomplete/'+user_id).then(handleSuccess, handleError2);\n        }\n\n        function GetBookout(user_id, plane_id, id){\n            return $http.get('/api/v1/plane_log_sheets/plane_instructors/'+user_id+'/'+plane_id+'/'+start+'/'+end+\"?show_all=\"+show_all).then(handleSuccess, handleError2);\n        }\n\n        function SendBookout(user_id, bookout) {\n            return $http.post('/api/v1/plane_log_sheets', bookout).then(handleSuccess, handleError2);\n        }\n\n        function UpdateBookout(id, amended_bookout) {\n            //maybe some sanitation required here? especially for the user_id bit...\n            return $http.put('/api/v1/plane_log_sheets/' + id, amended_bookout).then(handleSuccess, handleError2);\n        }\n\n        function DeleteBookout(user_id, delete_id) {\n            //this should be a disabled function only available for people working for the software\n            return $http.delete('/api/v1/plane_log_sheets/' + delete_id + '?user_id=' + user_id).then(handleSuccess, handleError2);\n        }\n\n        function BookInFlight(id, complete_bookin) {\n            //maybe some sanitation required here? especially for the user_id bit...\n            return $http.put('/api/v1/plane_log_sheets/booking_in/' + id, complete_bookin).then(handleSuccess, handleError2);\n        }\n\n        function PayBooking(id, complete_payment){\n            return $http.put('/api/v1/plane_log_sheets/payment_for/' + id, complete_payment).then(handleSuccess, handleError2);\n        }\n\n        function CancelBookout(id){\n            return $http.delete('/api/v1/plane_log_sheets/' + id).then(handleSuccess, handleError2);\n        }\n\n\n\n        function handleError2(res) {\n            console.log(\"ERROR\", res);\n\n            if(res.status == 401){\n                $location.path('/login');\n            }    \n\n            return { success: false, message: res.data, status: res.status };\n        }\n\n\n        // private functions\n\n        function handleSuccess(res) {\n            return res.data;\n        }\n\n        function handleError(error) {\n            return function () {\n                return { success: false, message: error };\n            };\n        }\n    }\napp.factory('CategoryService', CategoryService);\n\n    CategoryService.$inject = ['$http'];\n    function CategoryService($http) {\n        var service = {};\n\n        service.GetAll = GetAll;\n        service.GetById = GetById;\n        service.Create = Create;\n        service.Update = Update;\n        service.Delete = Delete;\n\n        return service;\n\n        function GetAll() {\n            return $http.get('/api/v1/categories').then(handleSuccess, handleError('Error getting all users'));\n        }\n\n        function GetById(id) {\n            return $http.get('/api/v1/categories/' + id).then(handleSuccess, handleError('Error getting user by id'));\n        }\n\n        function Create(category) {\n            return $http.post('/api/v1/categories', category).then(handleSuccess, handleError('Error creating user'));\n        }\n\n        function Update(category) {\n            return $http.put('/api/v1/categories/' + category.id, category).then(handleSuccess, handleError('Error updating user'));\n        }\n\n        function Delete(id) {\n            return $http.delete('/api/v1/categories/' + id).then(handleSuccess, handleError('Error deleting user'));\n        }\n\n        // private functions\n\n        function handleSuccess(res) {\n            return res.data;\n        }\n\n        function handleError(error) {\n            return function () {\n                return { success: false, message: error };\n            };\n        }\n    }\napp.factory('ClubDocumentService', ClubDocumentService);\n\n    ClubDocumentService.$inject = ['$http', '$location'];\n    function ClubDocumentService($http, $location) {\n        var service = {};\n\n     \n        service.GetByClubId = GetByClubId;\n        service.GetById = GetById;\n        service.GetByUserId = GetByUserId;\n        service.Create = Create;\n        service.Update = Update;\n        service.Delete = Delete;\n        service.DeleteTmp = DeleteTmp;\n       \n        return service; \n\n        //settings for the licences... not sure they'll be required anywhere else - so keep em here now...\n\n      \n\n        function GetById(id, user_id) {\n            return $http.get('/api/v1/club_documents/' + id).then(handleSuccess, handleError2);\n        }\n\n        function GetByUserId(user_id) {\n            return $http.get('/api/v1/plane_documents/get_all_from_user/' + user_id).then(handleSuccess, handleError2);\n        }\n\n        \n\n        function GetByClubId(id) {\n            //TODO\n            //this is awful... needs to be sorted out...\n            return $http.get('/api/v1/club_documents/all/' + id).then(handleSuccess, handleError2);\n        }\n\n     \n        function Create(poid) {\n            return $http.post('/api/v1/club_documents', poid).then(handleSuccess, handleError2);\n        }\n\n        function Update(poid) {\n            return $http.put('/api/v1/club_documents/' + poid.id, poid).then(handleSuccess, handleError2);\n        }\n\n        function Delete(user_id, id) {\n            return $http.delete('/api/v1/club_documents/' + id+'?user_id='+user_id).then(handleSuccess, handleError2);\n        }\n\n        function DeleteTmp(file) {\n            return $http.post('tmp_rm.php', {tmp: file}).then(handleSuccess, handleError2);\n        }\n\n        \n        function handleError2(res) {\n            console.log(\"ERROR\", res);\n\n            if(res.status == 401){\n                $location.path('/login');\n            }    \n\n            return { success: false, message: res.data, status: res.status };\n        }\n\n        // private functions\n\n        function handleSuccess(res) {\n            return res.data;\n        }\n\n        function handleError(error) {3\n            return function () {\n                return { success: false, message: error };\n            };\n        }\n    }\napp.factory('ClubPaymentService', ClubPaymentService);\n\n    ClubPaymentService.$inject = ['$http', '$location'];\n    function ClubPaymentService($http, $location) {\n        var service = {};\n\n\n        service.GetPaymentsByClub = GetPaymentsByClub;\n\n        service.GetPaymentTypes = GetPaymentTypes;\n        service.GetByUserId = GetByUserId;\n        service.GetAuthority = GetAuthority;\n        service.Create = Create;\n        service.Delete = Delete;\n        service.Refund = Refund;\n       \n        service.GetUserForPayment = GetUserForPayment;\n\n        return service; \n\n        //settings for the licences... not sure they'll be required anywhere else - so keep em here now...\n\n        function GetPaymentsByClub(club_id){\n            return $http.get('/api/v1/payments/by_club/'+club_id).then(handleSuccess, handleError2);\n        }\n\n        function Refund(refund) {\n            return $http.post('/api/v1/payments/refund', refund).then(handleSuccess, handleError2);\n        }\n\n\n        \n        \n\n        function GetPaymentTypes() {\n            return $http.get('/api/v1/poid_components').then(handleSuccess, handleError2);\n        }\n\n        function GetAuthority() {\n            return $http.get('/api/v1/authority').then(handleSuccess, handleError2);\n        }\n\n        function GetUserForPayment() {\n            return $http.get('/api/v1/cards/user').then(handleSuccess, handleError2);\n        }\n\n        function GetByUserId(user_id){\n            return $http.get('/api/v1/cards/'+user_id).then(handleSuccess, handleError2);\n        }\n\n        function Create(card) {\n            return $http.post('/api/v1/cards', card).then(handleSuccess, handleError2);\n        }\n\n        \n\n        function Delete(id, user_id) {\n            return $http.delete('/api/v1/cards/' + id+'?user_id='+user_id).then(handleSuccess, handleError2);\n        }\n\n     \n        \n        function handleError2(res) {\n            console.log(\"ERROR\", res);\n\n            if(res.status == 401){\n                $location.path('/login');\n            }    \n\n            return { success: false, message: res.data, status: res.status };\n        }\n\n        // private functions\n\n        function handleSuccess(res) {\n            return res.data;\n        }\n\n        function handleError(error) {\n            return function () {\n                return { success: false, message: error };\n            };\n        }\n    }\napp.factory('ClubService', ClubService);\n\n    ClubService.$inject = ['$http', '$location'];\n    function ClubService($http, $location) {\n\n        // console.log(\"CALLED\");\n       var service = {};\n\n        service.GetAll = GetAll;\n        service.GetById = GetById;\n        service.Create = Create;\n        service.Update = Update;\n        service.Delete = Delete;\n        service.CheckLink = CheckLink;\n        service.GetByUrl = GetByUrl;\n        service.DownloadZip = DownloadZip;\n\n        service.GetClubInvoices = GetClubInvoices;\n        service.GetClubTotals = GetClubTotals;\n\n        service.GetAllForUser = GetAllForUser;\n\n        //get_all_for_user\n       \n        return service; \n\n        function GetAllForUser(user_id){\n            return $http.get('/api/v1/clubs/get_all_for_user/'+user_id).then(handleSuccess, handleError2);\n        }\n\n        function GetAll() {\n            return $http.get('/api/v1/clubs/').then(handleSuccess, handleError2);\n        }\n\n        function GetById(club_id) {\n            return $http.get('/api/v1/clubs/' + club_id).then(handleSuccess, handleError2);\n        }\n\n        function GetByUrl(url){\n            return $http.post('/api/v1/clubs/get_by_url', url).then(handleSuccess, handleError2);\n        }\n\n        function Create(club) {\n            $http.defaults.headers.common['Api-Key'] = \"eW91a25vd25vdGhpbmdqb25zbm93\";\n            var url = '/api/v1/clubs/';\n            return $http.post(url, club).then(handleSuccess, handleError2);\n        }\n\n        function Update(club) {\n            return $http.put('/api/v1/clubs/' + club.id, club).then(handleSuccess, handleError2);\n        }\n\n        function Delete(club_id) {\n            //this should be a disabled function only available for people working for the software\n            return $http.delete('/api/v1/clubs/' + club_id).then(handleSuccess, handleError2);\n        }\n\n        function CheckLink(link){\n            $http.defaults.headers.common['Api-Key'] = \"eW91a25vd25vdGhpbmdqb25zbm93\";\n            return $http.post('/api/v1/clubs/check_link', {gallery_link: link}).then(handleSuccess, handleError2);\n        }\n        //download_zip\n        function DownloadZip(zip){\n            $http.defaults.headers.common['Api-Key'] = \"eW91a25vd25vdGhpbmdqb25zbm93\";\n            return $http.post('/api/v1/clubs/download_zip', zip).then(handleSuccess, handleError2);\n        }\n\n        function GetClubInvoices(club_id, from_date, to_date){\n            \n            return $http.post('/api/v1/invoices/get_all_for_club/' + club_id, {from_date: from_date, to_date: to_date}).then(handleSuccess, handleError2);\n\n        }\n\n        function GetClubTotals(club_id, from_date, to_date){\n            \n            return $http.post('/api/v1/invoices/get_totals_for_club/' + club_id, {from: from_date, to: to_date}).then(handleSuccess, handleError2);\n\n        }\n        \n\n\n        function handleError2(res) {\n            console.log(\"ERROR\", res);\n\n            if(res.status == 401){\n                $location.path('/login');\n            }    \n\n            return { success: false, message: res.data, status: res.status };\n        }\n\n        // private functions\n\n        function handleSuccess(res) {\n            return res.data;\n        }\n\n        function handleError(error) {\n            return function () {\n                return { success: false, message: error };\n            };\n        }\n    }\napp.factory('CourseService', CourseService);\n\n    CourseService.$inject = ['$http', '$location'];\n    function CourseService($http, $location) {\n        var service = {};\n        \n        service.GetCourseById = GetCourseById;\n        service.GetCoursesByUserId = GetCoursesByUserId;\n        service.GetCoursesByClubId = GetCoursesByClubId;\n        service.CreateCourse = CreateCourse;\n        service.UpdateCourse = UpdateCourse;\n        service.DeleteCourse = DeleteCourse;\n\n        service.GetLessonById = GetLessonById;\n        service.GetLessonsByCourseId = GetLessonsByCourseId;\n        service.CreateLesson = CreateLesson;\n        service.UpdateLesson = UpdateLesson;\n        service.DeleteLesson = DeleteLesson;\n        service.UpdateLessonOrder = UpdateLessonOrder;\n\n        service.GetTemByLessonId = GetTemByLessonId;\n        service.CreateTem = CreateTem;\n        service.UpdateTem = UpdateTem;\n        service.DeleteTem = DeleteTem;\n        service.UpdateTemOrder = UpdateTemOrder;\n\n        service.GetBulletsByLessonId = GetBulletsByLessonId;\n        service.CreateBullet = CreateBullet;\n        service.UpdateBullet = UpdateBullet;\n        service.DeleteBullet = DeleteBullet;\n        service.UpdateBulletOrder = UpdateBulletOrder;\n\n        service.GetItemsByLessonId = GetItemsByLessonId;\n        service.CreateItem = CreateItem;\n        service.UpdateItem = UpdateItem;\n        service.DeleteItem = DeleteItem;\n        service.UpdateItemsOrder = UpdateItemsOrder;\n       \n        service.GetExamsByCourseId = GetExamsByCourseId;\n        service.CreateExam = CreateExam;\n        service.UpdateExam = UpdateExam;\n        service.DeleteExam = DeleteExam;\n\n        service.GetChargesByCourseId = GetChargesByCourseId;\n        service.CreateCharge = CreateCharge;\n        service.UpdateCharge = UpdateCharge;\n        service.DeleteCharge = DeleteCharge;\n\n        service.CreateTrainingRecord = CreateTrainingRecord;\n        service.GetStudentTrainingRecords = GetStudentTrainingRecords;\n        service.CreateExamRecord = CreateExamRecord;\n        service.UpdateTrainingRecord = UpdateTrainingRecord;\n\n\n        service.GetTagsByCourseId = GetTagsByCourseId;\n        service.CreateTags = CreateTags;\n        service.UpdateTags = UpdateTags;\n        service.DeleteTags = DeleteTags;\n\n        service.GetStudentTrainingRecordsForFlight = GetStudentTrainingRecordsForFlight;\n\n\n\n\n        return service; \n\n        //settings for the licences... not sure they'll be required anywhere else - so keep em here now...\n\n        function GetCourseById(id) {\n            return $http.get('/api/v1/courses/' + id).then(handleSuccess, handleError2);\n        }\n\n        function GetCoursesByClubId(club_id) {\n            return $http.get('/api/v1/courses/club/'+club_id).then(handleSuccess, handleError2);\n        }\n\n        function GetCoursesByUserId(user_id){\n            return $http.get('/api/v1/courses/user/'+user_id).then(handleSuccess, handleError2);\n        }\n\n        function CreateCourse(nok) {\n            return $http.post('/api/v1/courses', nok).then(handleSuccess, handleError2);\n        }\n\n        function UpdateCourse(nok) {\n            return $http.put('/api/v1/courses/' + nok.id, nok).then(handleSuccess, handleError2);\n        }\n\n        function DeleteCourse(id) {\n            return $http.delete('/api/v1/courses/' + id).then(handleSuccess, handleError2);\n        }\n\n\n        //LESSONS\n\n\n        function GetLessonById(id) {\n            return $http.get('/api/v1/lessons/' + id).then(handleSuccess, handleError2);\n        }\n\n        function GetLessonsByCourseId(course_id) {\n            return $http.get('/api/v1/lessons/course/'+course_id).then(handleSuccess, handleError2);\n        }\n\n        function CreateLesson(nok) {\n            return $http.post('/api/v1/lessons', nok).then(handleSuccess, handleError2);\n        }\n\n        function UpdateLesson(nok) {\n            return $http.put('/api/v1/lessons/' + nok.id, nok).then(handleSuccess, handleError2);\n        }\n\n        function DeleteLesson(id) {\n            return $http.delete('/api/v1/lessons/' + id).then(handleSuccess, handleError2);\n        }\n\n        function UpdateLessonOrder(bullets){\n            return $http.post('/api/v1/lessons/organise', bullets).then(handleSuccess, handleError2);\n\n        }\n\n\n        //TEM\n        function GetTemByLessonId(lesson_id) {\n            return $http.get('/api/v1/lesson_tem/lesson/'+lesson_id).then(handleSuccess, handleError2);\n        }\n\n        function CreateTem(obj) {\n            return $http.post('/api/v1/lesson_tem', obj).then(handleSuccess, handleError2);\n        }\n\n        function UpdateTem(obj) {\n            return $http.put('/api/v1/lesson_tem/' + obj.id, obj).then(handleSuccess, handleError2);\n        }\n\n        function DeleteTem(id) {\n            return $http.delete('/api/v1/lesson_tem/' + id).then(handleSuccess, handleError2);\n        }\n\n        function UpdateTemOrder(bullets){\n            return $http.post('/api/v1/lesson_tem/organise', bullets).then(handleSuccess, handleError2);\n\n        }\n\n\n        //BULLETS\n        function GetBulletsByLessonId(lesson_id) {\n            return $http.get('/api/v1/lesson_bullets/lesson/'+lesson_id).then(handleSuccess, handleError2);\n        }\n\n        function CreateBullet(obj) {\n            return $http.post('/api/v1/lesson_bullets', obj).then(handleSuccess, handleError2);\n        }\n\n        function UpdateBullet(obj) {\n            return $http.put('/api/v1/lesson_bullets/' + obj.id, obj).then(handleSuccess, handleError2);\n        }\n\n        function DeleteBullet(id) {\n            return $http.delete('/api/v1/lesson_bullets/' + id).then(handleSuccess, handleError2);\n        }\n\n        function UpdateBulletOrder(bullets){\n            return $http.post('/api/v1/lesson_bullets/organise', bullets).then(handleSuccess, handleError2);\n\n        }\n\n\n        //MARKING ITEMS --> ITEMS\n        function GetItemsByLessonId(lesson_id) {\n            return $http.get('/api/v1/lesson_items/lesson/'+lesson_id).then(handleSuccess, handleError2);\n        }\n\n        function CreateItem(obj) {\n            return $http.post('/api/v1/lesson_items', obj).then(handleSuccess, handleError2);\n        }\n\n        function UpdateItem(obj) {\n            return $http.put('/api/v1/lesson_items/' + obj.id, obj).then(handleSuccess, handleError2);\n        }\n\n        function DeleteItem(id) {\n            return $http.delete('/api/v1/lesson_items/' + id).then(handleSuccess, handleError2);\n        }\n        function UpdateItemsOrder(items){\n            return $http.post('/api/v1/lesson_items/organise', items).then(handleSuccess, handleError2);\n\n        }\n\n\n        //EXAMS \n        function GetExamsByCourseId(lesson_id) {\n            return $http.get('/api/v1/exams/course/'+lesson_id).then(handleSuccess, handleError2);\n        }\n\n        function CreateExam(obj) {\n            return $http.post('/api/v1/exams', obj).then(handleSuccess, handleError2);\n        }\n\n        function UpdateExam(obj) {\n            return $http.put('/api/v1/exams/' + obj.id, obj).then(handleSuccess, handleError2);\n        }\n\n        function DeleteExam(id) {\n            return $http.delete('/api/v1/exams/' + id).then(handleSuccess, handleError2);\n        }\n        // function UpdateItemsOrder(items){\n        //     return $http.post('/api/v1/exams/organise', items).then(handleSuccess, handleError2);\n\n        // }\n\n\n        //FLIGHT TAGS\n\n        function GetTagsByCourseId(lesson_id) {\n            return $http.get('/api/v1/tags/course/'+lesson_id).then(handleSuccess, handleError2);\n        }\n\n        function CreateTags(obj) {\n            return $http.post('/api/v1/tags', obj).then(handleSuccess, handleError2);\n        }\n\n        function UpdateTags(obj) {\n            return $http.put('/api/v1/tags/' + obj.id, obj).then(handleSuccess, handleError2);\n        }\n\n        function DeleteTags(id) {\n            return $http.delete('/api/v1/tags/' + id).then(handleSuccess, handleError2);\n        }\n\n\n\n        //INSTRUCTOR CHARGES \n        function GetChargesByCourseId(course_id) {\n            return $http.get('/api/v1/instructor_charges/course/'+course_id).then(handleSuccess, handleError2);\n        }\n\n        function CreateCharge(obj) {\n            return $http.post('/api/v1/instructor_charges', obj).then(handleSuccess, handleError2);\n        }\n\n        function UpdateCharge(obj) {\n            return $http.put('/api/v1/instructor_charges/' + obj.id, obj).then(handleSuccess, handleError2);\n        }\n\n        function DeleteCharge(id) {\n            return $http.delete('/api/v1/instructor_charges/' + id).then(handleSuccess, handleError2);\n        }\n\n\n\n        //DEBRIEF\n        function GetCourseForDebrief(booking_id){\n            return $http.get('/api/v1/courses/debrief/'+booking_id).then(handleSuccess, handleError2);\n        }\n\n        function CreateTrainingRecord(obj){\n            return $http.post('/api/v1/training_records', obj).then(handleSuccess, handleError2);\n        }\n\n        function UpdateTrainingRecord(obj, id){\n            return $http.put('/api/v1/training_records/'+id, obj).then(handleSuccess, handleError2);\n        }\n\n        function GetStudentTrainingRecords(user_id, course_id){\n            return $http.get('/api/v1/training_records/student/'+course_id+'/'+user_id).then(handleSuccess, handleError2);\n        }\n\n        function CreateExamRecord(obj){\n            return $http.post('/api/v1/exam_records', obj).then(handleSuccess, handleError2);\n        }\n\n        function GetStudentTrainingRecordsForFlight(user_id, course_id, flight_id){\n            return $http.get('/api/v1/training_records/student/'+course_id+'/'+user_id+'/'+flight_id).then(handleSuccess, handleError2);\n        }\n\n\n\n\n\n        function handleError2(res) {\n            console.log(\"ERROR\", res);\n\n            if(res.status == 401){\n                $location.path('/login');\n            }    \n\n            return { success: false, message: res.data, status: res.status };\n        }\n\n        // private functions\n\n        function handleSuccess(res) {\n            return res.data;\n        }\n\n        function handleError(error) {\n            return function () {\n                return { success: false, message: error };\n            };\n        }\n    }\napp.factory('DifferencesService', DifferencesService);\n\n    DifferencesService.$inject = ['$http', '$location'];\n    function DifferencesService($http, $location) {\n        var service = {};\n\n        service.GetDifferences = GetDifferences;\n        service.GetByUserId = GetByUserId;\n        service.GetByUserIdClub = GetByUserIdClub;\n\n        service.Update = Update;\n        \n       \n        return service; \n\n        //settings for the licences... not sure they'll be required anywhere else - so keep em here now...\n\n        function GetDifferences() {\n            return $http.get('/api/v1/differences').then(handleSuccess, handleError2);\n        }\n\n       \n      \n\n        function GetByUserId(id) {\n            //TODO\n            //this is awful... needs to be sorted out...\n            return $http.get('/api/v1/user_differences/' + id).then(handleSuccess, handleError2);\n        }\n\n        function GetByUserIdClub(id, club_id) {\n            //TODO\n            //this is awful... needs to be sorted out...\n            return $http.get('/api/v1/user_differences/' + id +\"/\"+club_id).then(handleSuccess, handleError2);\n        }\n\n        //  function GetByUserId(id, club_id) {\n        //     //TODO\n        //     //this is awful... needs to be sorted out...\n        //     return $http.get('/api/v1/user_differences/' + id +\"/\"+club_id).then(handleSuccess, handleError2);\n        // }\n\n\n\n        // function Create(licence) {\n        //     return $http.post('/api/v1/licences', licence).then(handleSuccess, handleError2);\n        // }\n\n        function Update(differences) {\n            return $http.put('/api/v1/user_differences/' + differences.user_id, differences).then(handleSuccess, handleError2);\n        }\n\n        // function Delete(user_id, id) {\n        //     return $http.delete('/api/v1/licences/' + id+'?user_id='+user_id).then(handleSuccess, handleError2);\n        // }\n\n        // function DeleteTmp(file) {\n        //     return $http.post('tmp_rm.php', {tmp: file}).then(handleSuccess, handleError2);\n        // }\n\n        \n        function handleError2(res) {\n            console.log(\"ERROR\", res);\n\n            if(res.status == 401){\n                $location.path('/login');\n            }    \n\n            return { success: false, message: res.data, status: res.status };\n        }\n\n\n        // private functions\n\n        function handleSuccess(res) {\n            return res.data;\n        }\n\n        function handleError(error) {\n            return function () {\n                return { success: false, message: error };\n            };\n        }\n    }\napp.factory('ExperiencesService', ExperiencesService);\n\n    ExperiencesService.$inject = ['$http', '$location'];\n    function ExperiencesService($http, $location) {\n        var service = {};\n        \n        service.GetByClubId = GetByClubId;\n        service.GetById = GetById;\n        service.Create = Create;\n        service.Update = Update;\n        service.Delete = Delete;\n        service.GetDiscountsByClubId = GetDiscountsByClubId;\n        service.GetDiscountById = GetDiscountById;\n        service.CreateDiscount = CreateDiscount;\n        service.UpdateDiscount = UpdateDiscount;\n        service.DeleteDiscount = DeleteDiscount;\n        service.GetDiscountsByClubIdAndExperienceId = GetDiscountsByClubIdAndExperienceId;\n        // service.GetUpdatedCharges = GetUpdatedCharges;\n\n        return service; \n\n        //settings for the licences... not sure they'll be required anywhere else - so keep em here now...\n\n        // function GetUpdatedCharges(id){\n        //     return $http.get('/api/v1/plane_log_sheets/update_tuition_book_in/' + id).then(handleSuccess, handleError2);\n        // }\n       \n\n        //function for discounts\n\n        function GetDiscountsByClubId(club_id) {\n            return $http.get('/api/v1/experience_discounts/club/' + club_id).then(handleSuccess, handleError2);\n        }\n\n        function GetDiscountsByClubIdAndExperienceId(club_id, experience_id) {\n            return $http.get('/api/v1/experience_discounts/club_experience/'+ club_id+'/'+experience_id).then(handleSuccess, handleError2);\n        }\n\n        function GetDiscountById(id) {\n            return $http.get('/api/v1/experience_discounts/' + id).then(handleSuccess, handleError2);\n        }\n\n        function CreateDiscount(item) {\n            return $http.post('/api/v1/experience_discounts', item).then(handleSuccess, handleError2);\n        }\n\n        function UpdateDiscount(item, user_id) {\n            return $http.put('/api/v1/experience_discounts/' + item.id +'?user_id='+user_id, item).then(handleSuccess, handleError2);\n        }\n\n        function DeleteDiscount(user_id, id) {\n            return $http.delete('/api/v1/experience_discounts/' + id+'?user_id='+user_id).then(handleSuccess, handleError2);\n        }\n\n\n\n\n        function GetByClubId(club_id) {\n            return $http.get('/api/v1/experiences/club/' + club_id).then(handleSuccess, handleError2);\n        }\n\n        function GetById(id) {\n            return $http.get('/api/v1/experiences/' + id).then(handleSuccess, handleError2);\n        }\n\n        function Create(item) {\n            return $http.post('/api/v1/experiences', item).then(handleSuccess, handleError2);\n        }\n\n        function Update(item, user_id) {\n            return $http.put('/api/v1/experiences/' + item.id +'?user_id='+user_id, item).then(handleSuccess, handleError2);\n        }\n\n        function Delete(user_id, id) {\n            return $http.delete('/api/v1/experiences/' + id+'?user_id='+user_id).then(handleSuccess, handleError2);\n        }\n\n\n\n        function handleError2(res) {\n            console.log(\"ERROR\", res);\n\n            if(res.status == 401){\n                $location.path('/login');\n            }    \n\n            return { success: false, message: res.data, status: res.status };\n        }\n\n        // private functions\n\n        function handleSuccess(res) {\n            return res.data;\n        }\n\n        function handleError(error) {\n            return function () {\n                return { success: false, message: error };\n            };\n        }\n    }\n\n    app.factory('FlashService', FlashService);\n\n    FlashService.$inject = ['$rootScope'];\n    function FlashService($rootScope) {\n        var service = {};\n\n        service.Success = Success;\n        service.Error = Error;\n\n        initService();\n\n        return service;\n\n        function initService() {\n            $rootScope.$on('$locationChangeStart', function () {\n                clearFlashMessage();\n            });\n\n            function clearFlashMessage() {\n                var flash = $rootScope.flash;\n                if (flash) {\n                    if (!flash.keepAfterLocationChange) {\n                        delete $rootScope.flash;\n                    } else {\n                        // only keep for a single location change\n                        flash.keepAfterLocationChange = false;\n                    }\n                }\n            }\n        }\n\n        function Success(message, keepAfterLocationChange) {\n            $rootScope.flash = {\n                message: message,\n                type: 'success', \n                keepAfterLocationChange: keepAfterLocationChange\n            };\n        }\n\n        function Error(message, keepAfterLocationChange) {\n            $rootScope.flash = {\n                message: message,\n                type: 'error',\n                keepAfterLocationChange: keepAfterLocationChange\n            };\n        }\n    }\napp.factory('FoxService', FoxService);\n\n    FoxService.$inject = ['$http', '$location'];\n    function FoxService($http, $location) {\n        var service = {};\n        \n        service.GetFoxEntries = GetFoxEntries;\n        service.GetFoxEntriesByPlane = GetFoxEntriesByPlane;\n        service.GetById = GetById;\n        service.Create = Create;\n        service.Update = Update;\n        service.Delete = Delete;\n        service.ResetAllClubPlanes = ResetAllClubPlanes;\n        service.FixUncombinedLogs = FixUncombinedLogs;\n        service.ResetOneClubPlane = ResetOneClubPlane;\n\n        return service; \n\n        \n        function FixUncombinedLogs(club_id){\n            // console.log(\"we're in the foxService here\");\n            //v1/fox/reset_aeroplane\n            return $http.get('/api/v1/fox/fix_uncombined').then(handleSuccess, handleError2);\n        \n        }\n\n        //settings for the licences... not sure they'll be required anywhere else - so keep em here now...\n        function ResetOneClubPlane(plane_id){\n            // console.log(\"we're in the foxService here\");\n            //v1/fox/reset_aeroplane\n            return $http.get('/api/v1/fox/reset_aeroplane/'+plane_id).then(handleSuccess, handleError2);\n        \n        }\n\n        //settings for the licences... not sure they'll be required anywhere else - so keep em here now...\n        function ResetAllClubPlanes(club_id){\n            // console.log(\"we're in the foxService here\");\n            //v1/fox/reset_aeroplane\n            return $http.get('/api/v1/fox/reset_all_aeroplanes/'+club_id).then(handleSuccess, handleError2);\n        \n        }\n\n        function GetFoxEntries(user_id) {\n            // console.log(\"we're in the foxService here\");\n            return $http.get('/api/v1/fox/user/'+user_id).then(handleSuccess, handleError2);\n        }\n\n        function GetFoxEntriesByPlane(plane_id) {\n            // console.log(\"we're in the foxService here\");\n            return $http.get('/api/v1/fox/plane/'+plane_id).then(handleSuccess, handleError2);\n        }\n\n        function GetById(id) {\n            return $http.get('/api/v1/next_of_kins/' + id).then(handleSuccess, handleError2);\n        }\n\n        function Create(nok) {\n            return $http.post('/api/v1/next_of_kins', nok).then(handleSuccess, handleError2);\n        }\n\n        function Update(nok) {\n            return $http.put('/api/v1/next_of_kins/' + nok.id, nok).then(handleSuccess, handleError2);\n        }\n\n        function Delete(user_id, id) {\n            return $http.delete('/api/v1/next_of_kins/' + id+'?user_id='+user_id).then(handleSuccess, handleError2);\n        }\n\n\n        function handleError2(res) {\n            console.log(\"ERROR\", res);\n\n            if(res.status == 401){\n                $location.path('/login');\n            }    \n\n            return { success: false, message: res.data, status: res.status };\n        }\n\n        // private functions\n\n        function handleSuccess(res) {\n            return res.data;\n        }\n\n        function handleError(error) {\n            return function () {\n                return { success: false, message: error };\n            };\n        }\n    }\napp.factory('GalleryService', GalleryService);\n\n    GalleryService.$inject = ['$http'];\n    function GalleryService($http) {\n\n        // console.log(\"CALLED\");\n       var service = {};\n\n        service.GetAll = GetAll;\n        service.GetById = GetById;\n        service.Create = Create;\n        service.Update = Update;\n        service.Delete = Delete;\n        service.CheckLink = CheckLink;\n        service.GetByUrl = GetByUrl;\n        service.DownloadZip = DownloadZip;\n       \n        return service; \n\n        function GetAll() {\n            return $http.get('/api/v1/gallery/').then(handleSuccess, handleError('Error getting all Image'));\n        }\n\n        function GetById(gallery_id) {\n            return $http.get('/api/v1/gallery/' + gallery_id).then(handleSuccess, handleError('Error getting Image by id'));\n        }\n\n        function GetByUrl(url){\n            return $http.post('/api/v1/gallery/get_by_url', url).then(handleSuccess, handleError('Error getting Image by id'));\n        }\n\n        function Create(gallery) {\n            var url = '/api/v1/gallery/';\n            return $http.post(url, gallery).then(handleSuccess, handleError('Error creating Image'));\n        }\n\n        function Update(gallery) {\n            return $http.put('/api/v1/gallery/' + gallery.id, gallery).then(handleSuccess, handleError('Error updating Image'));\n        }\n\n        function Delete(gallery_id) {\n            return $http.delete('/api/v1/gallery/' + gallery_id).then(handleSuccess, handleError('Error deleting Image'));\n        }\n\n        function CheckLink(link){\n            return $http.post('/api/v1/gallery/check_link', {gallery_link: link}).then(handleSuccess, handleError('Error creating Image'));\n        }\n        //download_zip\n        function DownloadZip(zip){\n            return $http.post('/api/v1/gallery/download_zip', zip).then(handleSuccess, handleError('Error creating Image'));\n        }\n\n\n        // private functions\n\n        function handleSuccess(res) {\n            return res.data;\n        }\n\n        function handleError(error) {\n            return function () {\n                return { success: false, message: error };\n            };\n        }\n    }\napp.factory('GoCardService', GoCardService);\n\n    GoCardService.$inject = ['$http', '$location'];\n    function GoCardService($http, $location) {\n        var service = {};\n\n\n\n        service.SetupGoCard = SetupGoCard;\n        service.SetupMandate = SetupMandate;\n        service.GenerateLink = GenerateLink;\n        service.GenerateUpdateLink = GenerateUpdateLink;\n        service.UpdateMandate = UpdateMandate;\n\n\n\n        return service;\n        \n        function GenerateUpdateLink(detail){\n            $http.defaults.headers.common['Api-Key'] = \"eW91a25vd25vdGhpbmdqb25zbm93\";\n            return $http.post('/api/v1/go_card/generate_update_link', detail).then(handleSuccess, handleError2);\n        }\n\n        function UpdateMandate(detail){\n            $http.defaults.headers.common['Api-Key'] = \"eW91a25vd25vdGhpbmdqb25zbm93\";\n            return $http.post('/api/v1/go_card/update_mandate', detail).then(handleSuccess, handleError2);\n        }\n\n        function SetupMandate(detail){\n            $http.defaults.headers.common['Api-Key'] = \"eW91a25vd25vdGhpbmdqb25zbm93\";\n            return $http.post('/api/v1/go_card/create_mandate', detail).then(handleSuccess, handleError2);\n        }\n\n        function SetupGoCard(details){\n            $http.defaults.headers.common['Api-Key'] = \"eW91a25vd25vdGhpbmdqb25zbm93\";\n            return $http.post('/api/v1/go_card/setup', details).then(handleSuccess, handleError2);\n        }\n\n        function GenerateLink(details){\n            $http.defaults.headers.common['Api-Key'] = \"eW91a25vd25vdGhpbmdqb25zbm93\";\n            return $http.post('/api/v1/go_card/generate_link', details).then(handleSuccess, handleError2);\n        }\n\n        function GetAll() {\n            return $http.get('/api/v1/users').then(handleSuccess, handleError2);\n        }\n      \n        function Create(user) {\n            return $http.post('/api/v1/users', user).then(handleSuccess, handleError2);\n        }\n\n        function Update(user) {\n            return $http.put('/api/v1/users/' + user.id, user).then(handleSuccess, handleError2);\n        }\n\n        function Delete(id) {\n            return $http.delete('/api/v1/users/' + id).then(handleSuccess, handleError2);\n        }\n\n         \n         function handleError2(res) {\n            console.log(\"ERROR\", res);\n\n            if(res.status == 401){\n                $location.path('/login');\n            }    \n\n            return { success: false, message: res.data, status: res.status };\n        }\n\n        // private functions\n\n        function handleSuccess(res) {\n            return res.data;\n        }\n\n        function handleError(error) {\n            return function () {\n                return { success: false, message: error };\n            };\n        }\n    }\napp.factory('HolidayService', HolidayService);\n\n    HolidayService.$inject = ['$http', '$location'];\n    function HolidayService($http, $location) {\n\n        // console.log(\"CALLED\");\n       var service = {};\n\n        service.GetAll = GetAll;\n        service.Create = Create;\n        service.Update = Update;\n        service.Delete = Delete;\n       \n        return service; \n\n        function GetAll(user_id) {\n            return $http.get('/api/v1/instructor_holiday/'+user_id).then(handleSuccess, handleError2);\n        }\n\n        function Create(user_id, holiday) {\n            holiday.user_id = user_id;\n            var send = {\n                user_id: user_id,\n                title: holiday.title,\n                from_date: holiday.start,\n                to_date: holiday.end,\n                allDay: holiday.allDay\n            }\n            var url = '/api/v1/instructor_holiday/';\n            return $http.post(url, send).then(handleSuccess, handleError2);\n        }\n\n        function Update(user_id, holiday) {\n            //maybe some sanitation required here? especially for the user_id bit...\n             var send = {\n                id: holiday.id,\n                user_id: user_id,\n                title: holiday.title,\n                from_date: holiday.start,\n                to_date: holiday.end,\n                allDay: holiday.allDay\n            }\n            return $http.put('/api/v1/instructor_holiday/' + holiday.id, send).then(handleSuccess, handleError2);\n        }\n\n        function Delete(user_id, delete_id) {\n            //this should be a disabled function only available for people working for the software\n            return $http.delete('/api/v1/instructor_holiday/' + delete_id).then(handleSuccess, handleError2);\n        }\n\n\n        function handleError2(res) {\n            console.log(\"ERROR\", res);\n\n            if(res.status == 401){\n                $location.path('/login');\n            }    \n\n            return { success: false, message: res.data, status: res.status };\n        }\n\n        // private functions\n\n        function handleSuccess(res) {\n            return res.data;\n        }\n\n        function handleError(error) {\n            return function () {\n                return { success: false, message: error };\n            };\n        }\n    }\napp.factory('ImagesService', ImagesService);\n\n    ImagesService.$inject = ['$http', '$location'];\n    function ImagesService($http, $location) {\n        var service = {};\n\n        service.GetAll = GetAll;\n        service.GetById = GetById;\n        service.Create = Create;\n        service.Update = Update;\n        service.Delete = Delete;\n        service.GetOne = GetOne;\n       \n        return service; \n\n        function GetAll() {\n            return $http.get('/api/v1/images').then(handleSuccess, handleError2);\n        }\n\n        function GetOne(id){\n            return $http.get('/api/v1/images/' + id).then(handleSuccess, handleError2);\n        }\n\n        function GetById(id) {\n            return $http.get('/api/v1/images/' + id).then(handleSuccess, handleError2);\n        }\n\n        function Create(images) {\n            return $http.post('/api/v1/images', images).then(handleSuccess, handleError2);\n        }\n\n        function Update(image) {\n            return $http.put('/api/v1/images/' + image.id, image).then(handleSuccess, handleError2);\n        }\n\n        function Delete(id) {\n            return $http.delete('/api/v1/images/' + id).then(handleSuccess, handleError2);\n        }\n\n\n        function handleError2(res) {\n            console.log(\"ERROR\", res);\n\n            if(res.status == 401){\n                $location.path('/login');\n            }    \n\n            return { success: false, message: res.data, status: res.status };\n        }\n\n        \n\n        // private functions\n\n        function handleSuccess(res) {\n            return res.data;\n        }\n\n        function handleError(error) {\n            return function () {\n                return { success: false, message: error };\n            };\n        }\n    }\napp.factory('ImageUploadService', ImageUploadService);\n\n    ImageUploadService.$inject = ['$http'];\n    function ImageUploadService($http) {\n\n        // console.log(\"CALLED\");\n       var service = {};\n\n        service.GetAll = GetAll;\n        service.GetById = GetById;\n        service.Create = Create;\n        service.Update = Update;\n        service.Delete = Delete;\n       \n        return service; \n\n        function GetAll(id) {\n            return $http.get('/api/v1/artpieces/'+id+'/images').then(handleSuccess, handleError('Error getting all Image'));\n        }\n\n        function GetById(artpiece_id, image_id) {\n            return $http.get('/api/v1/artpieces/' + artpiece_id + '/images/'+ image_id).then(handleSuccess, handleError('Error getting Image by id'));\n        }\n\n        function Create(images) {\n            var url = '/api/v1/artpieces/' + images.artpiece_id + '/images';\n            return $http.post(url, images).then(handleSuccess, handleError('Error creating Image'));\n        }\n\n        function Update(images) {\n            return $http.put('/api/v1/artpieces/' + images.artpiece_id + '/images', images).then(handleSuccess, handleError('Error updating Image'));\n        }\n\n        function Delete(artpiece_id, image_id) {\n            return $http.delete('/api/v1/artpieces/' + artpiece_id + '/images/' + image_id).then(handleSuccess, handleError('Error deleting Image'));\n        }\n\n\n        // private functions\n\n        function handleSuccess(res) {\n            return res.data;\n        }\n\n        function handleError(error) {\n            return function () {\n                return { success: false, message: error };\n            };\n        }\n    }\napp.factory('InstructorCharges', InstructorCharges);\n\n    InstructorCharges.$inject = ['$http', '$location'];\n    function InstructorCharges($http, $location) {\n        var service = {};\n        \n        service.GetByClubId = GetByClubId;\n        service.GetByCourseId = GetByCourseId;\n        service.GetById = GetById;\n        service.Create = Create;\n        service.Update = Update;\n        service.Delete = Delete;\n        service.GetUpdatedCharges = GetUpdatedCharges;\n\n        return service; \n\n        //settings for the licences... not sure they'll be required anywhere else - so keep em here now...\n        function GetByCourseId(id){\n            return $http.get('/api/v1/instructor_charges/course/' + id).then(handleSuccess, handleError2);\n        }\n\n        function GetUpdatedCharges(id){\n            return $http.get('/api/v1/plane_log_sheets/update_tuition_book_in/' + id).then(handleSuccess, handleError2);\n        }\n       \n        function GetByClubId(club_id) {\n            return $http.get('/api/v1/instructor_charges/club/' + club_id).then(handleSuccess, handleError2);\n        }\n\n        function GetById(id) {\n            return $http.get('/api/v1/instructor_charges/' + id).then(handleSuccess, handleError2);\n        }\n\n        function Create(item) {\n            return $http.post('/api/v1/instructor_charges', item).then(handleSuccess, handleError2);\n        }\n\n        function Update(item, user_id) {\n            return $http.put('/api/v1/instructor_charges/' + item.id +'?user_id='+user_id, item).then(handleSuccess, handleError2);\n        }\n\n        function Delete(user_id, id) {\n            return $http.delete('/api/v1/instructor_charges/' + id+'?user_id='+user_id).then(handleSuccess, handleError2);\n        }\n\n\n        function handleError2(res) {\n            console.log(\"ERROR\", res);\n\n            if(res.status == 401){\n                $location.path('/login');\n            }    \n\n            return { success: false, message: res.data, status: res.status };\n        }\n\n        // private functions\n\n        function handleSuccess(res) {\n            return res.data;\n        }\n\n        function handleError(error) {\n            return function () {\n                return { success: false, message: error };\n            };\n        }\n    }\napp.factory('InstructorService', InstructorService);\n\n    InstructorService.$inject = ['$http', '$location'];\n    function InstructorService($http, $location) {\n        var service = {};\n\n       \n        service.Create = Create;\n        service.SetAvailability = SetAvailability;\n        service.GetAvailability = GetAvailability;\n        service.Delete = Delete;\n\n        service.GetAllByClub = GetAllByClub;\n        service.UpdateOrder = UpdateOrder;\n        service.UpdateInstructor = UpdateInstructor;\n\n        return service;\n\n\n\n        function GetAllByClub(club_id, user_id){\n            return $http.get('/api/v1/members/get_instructors/'+club_id+'/'+user_id).then(handleSuccess, handleError2);\n        }\n\n        function UpdateOrder(users, club_id){\n            return $http.put('/api/v1/members/instructor_order', users).then(handleSuccess, handleError2);\n        }\n\n        function UpdateInstructor(instructor, club_id){\n            return $http.put('/api/v1/members/instructor_update', instructor).then(handleSuccess, handleError2);\n        }\n\n        function Create(user) {\n            return $http.post('/api/v1/users', user).then(handleSuccess, handleError2);\n        }\n\n        function GetAvailability(user_id) {\n            return $http.get('/api/v1/instructor_availability/' + user_id).then(handleSuccess, handleError2);\n        }\n\n        function SetAvailability(availability) {\n            if(!availability.id){\n                availability.id = 0;\n            }\n            return $http.put('/api/v1/instructor_availability/' + availability.id, availability).then(handleSuccess, handleError2);\n        }\n\n        function Delete(id) {\n            return $http.delete('/api/v1/users/' + id).then(handleSuccess, handleError2);\n        }\n\n\n\n        function handleError2(res) {\n            console.log(\"ERROR\", res);\n\n            if(res.status == 401){\n                $location.path('/login');\n            }    \n\n            return { success: false, message: res.data, status: res.status };\n        }\n        \n        // private functions\n\n        function handleSuccess(res) {\n            return res.data;\n        }\n\n        function handleError(error) {\n            return function () {\n                return { success: false, message: error };\n            };\n        }\n    }\napp.factory('InvoicesService', InvoicesService);\n\n    InvoicesService.$inject = ['$http', '$location'];\n    function InvoicesService($http, $location) {\n\n        // console.log(\"CALLED\");\n       var service = {};\n\n        service.GetAll = GetAll;\n        service.GetAllByClub = GetAllByClub;\n        service.GetAllByBooking = GetAllByBooking;\n        service.GetById = GetById;\n        service.Create = Create;\n        service.Update = Update;\n        service.Delete = Delete;\n       \n       \n        return service; \n\n        function GetAll() {\n            return $http.get('/api/v1/planes/').then(handleSuccess, handleError2);\n        }\n\n        function GetOpenIssues(plane_id) {\n            return $http.get('/api/v1/plane_tech_log_sheets/open_issues/'+plane_id).then(handleSuccess, handleError2);\n        }\n\n        function GetAllIssues(plane_id) {\n            return $http.get('/api/v1/plane_tech_log_sheets/all_issues/'+plane_id).then(handleSuccess, handleError2);\n        }\n\n        function AddDefect(obj){\n            return $http.post('/api/v1/plane_tech_log_sheets', obj).then(handleSuccess, handleError2);\n        }\n\n        function DeleteDefect(id){\n            return $http.delete('/api/v1/plane_tech_log_sheets/' + id).then(handleSuccess, handleError2);\n        }\n\n\n        function GetAllByBooking(booking_id) {\n            return $http.get('/api/v1/invoices/get_all_from_booking/'+booking_id).then(handleSuccess, handleError2);\n        }\n\n        function GetAllSheetReceipts(sheet_id){\n            return $http.get('/api/v1/lubricant_receipts/sheet/'+sheet_id).then(handleSuccess, handleError2);\n        }\n\n        function AddReceipt(obj){\n            return $http.post('/api/v1/lubricant_receipts', obj).then(handleSuccess, handleError2);\n        }\n\n        function DeleteReceipt(id){\n            return $http.delete('/api/v1/lubricant_receipts/' + id).then(handleSuccess, handleError2);\n        }\n \n\n        function GetAllByClub(club_id) {\n            return $http.get('/api/v1/planes/club/'+club_id).then(handleSuccess, handleError2);\n        }\n\n        function GetById(plane_id, club_id) {\n            console.log(\"club_id \"+club_id);\n            console.log(\"plane_id \"+plane_id);\n            return $http.get('/api/v1/planes/' + plane_id + '/club/' + club_id).then(handleSuccess, handleError2);\n        }\n\n        function GetByUrl(url){\n            return $http.post('/api/v1/planes/get_by_url', url).then(handleSuccess, handleError2);\n        }\n\n        function Create(club) {\n            var url = '/api/v1/planes/';\n            return $http.post(url, club).then(handleSuccess, handleError2);\n        }\n\n        function Update(plane) {\n            return $http.put('/api/v1/planes/' + plane.plane_id, plane).then(handleSuccess, handleError2);\n        }\n\n        function Delete(club_plane_id) {\n            //this should be a disabled function only available for people working for the software\n            return $http.delete('/api/v1/planes/' + club_plane_id).then(handleSuccess, handleError2);\n        }\n\n        function handleError2(res) {\n            console.log(\"ERROR\", res);\n\n            if(res.status == 401){\n                //THIS MIGHT NOT BE APPROPRIATE?\n                $location.path('/login');\n            }    \n\n            return { success: false, message: res.data, status: res.status };\n        }\n\n        // private functions\n\n        function handleSuccess(res) {\n            return res.data;\n        }\n\n        function handleError(error) {\n            return function () {\n                return { success: false, message: error };\n            };\n        }\n    }\napp.factory('ItemService', ItemService);\n\n    ItemService.$inject = ['$http', '$location'];\n    function ItemService($http, $location) {\n        var service = {};\n        \n        service.GetByClubId = GetByClubId;\n        service.GetById = GetById;\n        service.Create = Create;\n        service.Update = Update;\n        service.Delete = Delete;\n       \n\n        return service; \n\n        //settings for the licences... not sure they'll be required anywhere else - so keep em here now...\n\n       \n        function GetByClubId(club_id) {\n            return $http.get('/api/v1/rental_items/club/' + club_id).then(handleSuccess, handleError2);\n        }\n\n        function GetById(id) {\n            return $http.get('/api/v1/rental_items/' + id).then(handleSuccess, handleError2);\n        }\n\n        function Create(item) {\n            return $http.post('/api/v1/rental_items', item).then(handleSuccess, handleError2);\n        }\n\n        function Update(item, user_id) {\n            return $http.put('/api/v1/rental_items/' + item.id +'?user_id='+user_id, item).then(handleSuccess, handleError2);\n        }\n\n        function Delete(user_id, id) {\n            return $http.delete('/api/v1/rental_items/' + id+'?user_id='+user_id).then(handleSuccess, handleError2);\n        }\n\n\n        function handleError2(res) {\n            console.log(\"ERROR\", res);\n\n            if(res.status == 401){\n                $location.path('/login');\n            }    \n\n            return { success: false, message: res.data, status: res.status };\n        }\n\n        // private functions\n\n        function handleSuccess(res) {\n            return res.data;\n        }\n\n        function handleError(error) {\n            return function () {\n                return { success: false, message: error };\n            };\n        }\n    }\napp.factory('KeywordsService', KeywordsService);\n\n    KeywordsService.$inject = ['$http', '$location'];\n    function KeywordsService($http, $location) {\n        var service = {};\n\n        service.GetAll = GetAll;\n        service.GetById = GetById;\n        service.Create = Create;\n        service.Update = Update;\n        service.Delete = Delete;\n       \n        return service; \n\n        function GetAll() {\n            return $http.get('/api/v1/keywords').then(handleSuccess, handleError2);\n        }\n\n        function GetById(id) {\n            return $http.get('/api/v1/keywords/' + id).then(handleSuccess, handleError2);\n        }\n\n        function Create(keywords) {\n            return $http.post('/api/v1/keywords', keywords).then(handleSuccess, handleError2);\n        }\n\n        function Update(keywords) {\n            return $http.put('/api/v1/keywords/' + keywords.id, keywords).then(handleSuccess, handleError2);\n        }\n\n        function Delete(id) {\n            return $http.delete('/api/v1/keywords/' + id).then(handleSuccess, handleError2);\n        }\n\n        function handleError2(res) {\n            console.log(\"ERROR\", res);\n\n            if(res.status == 401){\n                $location.path('/login');\n            }    \n\n            return { success: false, message: res.data, status: res.status };\n        }\n        \n        // private functions\n\n        function handleSuccess(res) {\n            return res.data;\n        }\n\n        function handleError(error) {\n            return function () {\n                return { success: false, message: error };\n            };\n        }\n    }\napp.factory('LicenceService', LicenceService);\n\n    LicenceService.$inject = ['$http', '$location'];\n    function LicenceService($http, $location) {\n        var service = {};\n\n        service.GetAll = GetAll;\n        service.GetLicenceTypes = GetLicenceTypes;\n        service.GetRatings = GetRatings;\n        service.GetAuthority = GetAuthority;\n        service.GetByUserId = GetByUserId;\n        service.GetById = GetById;\n        service.GetByUserIdClub = GetByUserIdClub;\n        service.Create = Create;\n        service.Update = Update;\n        service.Delete = Delete;\n        service.DeleteTmp = DeleteTmp;\n       \n        return service; \n\n        //settings for the licences... not sure they'll be required anywhere else - so keep em here now...\n\n        function GetLicenceTypes() {\n            return $http.get('/api/v1/licence_types').then(handleSuccess, handleError2);\n        }\n\n        function GetRatings() {\n            return $http.get('/api/v1/ratings').then(handleSuccess, handleError2);\n        }\n\n        function GetAuthority() {\n            return $http.get('/api/v1/authority').then(handleSuccess, handleError2);\n        }\n\n\n\n\n        function GetAll() {\n            return $http.get('/api/v1/licences').then(handleSuccess, handleError2);\n        }\n\n        function GetById(id, thumbs=1, decrypted=0) {\n\n            var end = \"\";\n            if(thumbs == 1 || decrypted == 1){\n\n                end = \"?\";\n                end += (thumbs == 1) ? \"st=1&\" : \"\";\n                end += (decrypted == 1) ? \"sd=1\" : \"\";\n\n            }\n            return $http.get('/api/v1/licences/' + id + end).then(handleSuccess, handleError2);\n        }\n\n        function GetByUserId(id) {\n            //TODO\n            //this is awful... needs to be sorted out...\n            return $http.get('/api/v1/licences/?user_id=' + id).then(handleSuccess, handleError2);\n        }\n\n        function GetByUserIdClub(id, club_id) {\n            //TODO\n            //this is awful... needs to be sorted out...\n            return $http.get('/api/v1/licences/'+club_id+'?user_id=' + id).then(handleSuccess, handleError2);\n        }\n\n        function Create(licence) {\n            return $http.post('/api/v1/licences', licence).then(handleSuccess, handleError2);\n        }\n\n        function Update(licence) {\n            return $http.put('/api/v1/licences/' + licence.id, licence).then(handleSuccess, handleError2);\n        }\n\n        function Delete(user_id, id) {\n            return $http.delete('/api/v1/licences/' + id+'?user_id='+user_id).then(handleSuccess, handleError2);\n        }\n\n        function DeleteTmp(file) {\n            return $http.post('tmp_rm.php', {tmp: file}).then(handleSuccess, handleError2);\n        }\n\n        \n        function handleError2(res) {\n            console.log(\"ERROR\", res);\n\n            if(res.status == 401){\n                $location.path('/login');\n            }    \n\n            return { success: false, message: res.data, status: res.status };\n        }\n\n\n        // private functions\n\n        function handleSuccess(res) {\n            return res.data;\n        }\n\n        function handleError(error) {\n            return function () {\n                return { success: false, message: error };\n            };\n        }\n    }\n//ATHENTICATION SERVICES\n\napp.factory('LocalDataService', LocalDataService);\n\n    LocalDataService.$inject = [];\n    function LocalDataService() {\n        // this is my local data service to keep things happy\n        // use this to keep all data accessible from anywhere without calling the server every 10 seconds\n       return {\n            data: {\n              selected_images: [],\n              all_galleries: [],\n              selecting_for: 0\n            },\n            SetSelectedImages: function(selected_images) {\n                this.data.selected_images = selected_images;\n            },\n            SetAllGalleries: function(data){\n                this.data.all_galleries = data;\n            },\n            SetSelectingFor: function(data){\n                this.data.selecting_for = data;\n            }\n        };\n\n    }\napp.factory('MedicalService', MedicalService);\n\n    MedicalService.$inject = ['$http', '$location'];\n    function MedicalService($http, $location) {\n        var service = {};\n\n        service.GetAll = GetAll;\n        service.GetMedicalTypes = GetMedicalTypes;\n        service.GetComponents = GetComponents;\n        service.GetAuthority = GetAuthority;\n        service.GetByUserId = GetByUserId;\n        service.GetByUserIdClub = GetByUserIdClub;\n        service.GetById = GetById;\n        service.Create = Create;\n        service.Update = Update;\n        service.Delete = Delete;\n        service.DeleteTmp = DeleteTmp;\n       \n        return service; \n\n        //settings for the licences... not sure they'll be required anywhere else - so keep em here now...\n\n        function GetMedicalTypes() {\n            return $http.get('/api/v1/medical_components').then(handleSuccess, handleError2);\n        }\n\n        function GetComponents() {\n            return $http.get('/api/v1/medical_components').then(handleSuccess, handleError2);\n        }\n\n        function GetAuthority() {\n            return $http.get('/api/v1/authority').then(handleSuccess, handleError2);\n        }\n\n\n\n\n        function GetAll() {\n            return $http.get('/api/v1/medicals').then(handleSuccess, handleError2);\n        }\n\n        function GetById(id, thumbs=1, decrypted=0) {\n\n            var end = \"\";\n            if(thumbs == 1 || decrypted == 1){\n\n                end = \"?\";\n                end += (thumbs == 1) ? \"st=1&\" : \"\";\n                end += (decrypted == 1) ? \"sd=1\" : \"\";\n\n            }\n\n            // console.log(\"ADDITIONAL BIT: \", end);\n\n            return $http.get('/api/v1/medicals/' + id + end).then(handleSuccess, handleError2);\n        }\n\n        function GetByUserId(id) {\n            //TODO\n            //this is awful... needs to be sorted out...\n            return $http.get('/api/v1/medicals/?user_id=' + id).then(handleSuccess, handleError2);\n        }\n\n        function GetByUserIdClub(id, club_id) {\n            //TODO\n            //this is awful... needs to be sorted out...\n            return $http.get('/api/v1/medicals/'+club_id+'?user_id=' + id).then(handleSuccess, handleError2);\n        }\n\n        function Create(medical) {\n            return $http.post('/api/v1/medicals', medical).then(handleSuccess, handleError2);\n        }\n\n        function Update(medical) {\n            return $http.put('/api/v1/medicals/' + medical.id, medical).then(handleSuccess, handleError2);\n        }\n\n        function Delete(user_id, id) {\n            return $http.delete('/api/v1/medicals/' + id+'?user_id='+user_id).then(handleSuccess, handleError2);\n        }\n\n        function DeleteTmp(file) {\n            return $http.post('tmp_rm.php', {tmp: file}).then(handleSuccess, handleError2);\n        }\n\n        \n        function handleError2(res) {\n            console.log(\"ERROR\", res);\n\n            if(res.status == 401){\n                $location.path('/login');\n            }    \n\n            return { success: false, message: res.data, status: res.status };\n        }\n\n        // private functions\n\n        function handleSuccess(res) {\n            return res.data;\n        }\n\n        function handleError(error) {\n            return function () {\n                return { success: false, message: error };\n            };\n        }\n    }\napp.factory('MemberService', MemberService);\n\n    MemberService.$inject = ['$http', '$location'];\n    function MemberService($http, $location) {\n\n        // console.log(\"CALLED\");\n       var service = {};\n\n        service.GetAll = GetAll;\n        service.GetAllByClub = GetAllByClub;\n        service.GetById = GetById;\n        service.Create = Create;\n        service.CreateMany = CreateMany;\n        service.Verify = Verify;\n\n        service.SendInvite = SendInvite;\n        service.send_invite_by_club = send_invite_by_club;\n\n        service.Update = Update;\n        service.Delete = Delete;\n        service.GetMemberPlanes = GetMemberPlanes;\n        service.SaveMemberPlanes = SaveMemberPlanes;\n\n        service.GetUserMemberships = GetUserMemberships;\n\n        service.GetAllByClubInstructor = GetAllByClubInstructor;\n\n        service.GetAllByClubAndName = GetAllByClubAndName;\n        service.GetOneForUser = GetOneForUser;\n        service.UpdateOneByUser = UpdateOneByUser;\n        service.GetUserClubs = GetUserClubs;\n        service.GetAllByPics = GetAllByPics;\n        service.GetAllActiveByClub = GetAllActiveByClub;\n        service.GetAllByPics = GetAllByPics;\n        service.GetAllByPicsBookinout = GetAllByPicsBookinout;\n        service.GetCompany = GetCompany;\n        service.GetCompanyDetail = GetCompanyDetail;\n        service.VerifyPhone = VerifyPhone;\n        service.VerifyPhoneInvite = VerifyPhoneInvite;\n        service.VerifyInvitedUser = VerifyInvitedUser;\n        service.GetMandate = GetMandate;\n\n\n        service.GetAllByClubStudents = GetAllByClubStudents;\n       \n        return service; \n\n        function GetMandate(user_id, club_id){\n                \n            return $http.get('/api/v1/members/'+user_id+'/info/'+club_id).then(handleSuccess, handleError2);\n        }\n        \n        function VerifyInvitedUser(id){\n                \n            return $http.post('/api/v1/users/verify_invited_user', {\"id\": id}).then(handleSuccess, handleError2);\n        }\n\n        function VerifyPhoneInvite(verification, id){\n\n            return $http.post('/api/v1/users/verify_phone_invite', {\"id\": id, \"verification\": verification}).then(handleSuccess, handleError2);\n\n\n        }\n\n        function VerifyPhone(verification, id){\n\n            return $http.post('/api/v1/users/verify_phone', {\"id\": id, \"verification\": verification}).then(handleSuccess, handleError2);\n\n        }\n\n        function SendInvite(invitation){\n            return $http.post('/api/v1/members/send_invite', invitation).then(handleSuccess, handleError2);\n        }\n\n        function send_invite_by_club(invitation){\n            return $http.post('/api/v1/members/send_invite_by_club', invitation).then(handleSuccess, handleError2);\n        }\n\n        function GetCompany(name){\n            $http.defaults.headers.common['Api-Key'] = \"eW91a25vd25vdGhpbmdqb25zbm93\";\n\n            return $http.post('/api/v1/users/company', {\"name\": name}).then(handleSuccess, handleError2);\n        }\n\n        function GetCompanyDetail(number){\n            return $http.post('/api/v1/users/company_detail', {\"number\": number}).then(handleSuccess, handleError2);\n        }\n\n        function GetUserMemberships(user_id){\n            return $http.get('/api/v1/users/'+user_id+'/memberships').then(handleSuccess, handleError2);\n        }\n\n        function GetUserClubs(user_id){\n            return $http.get('/api/v1/users/'+user_id+'/clubs').then(handleSuccess, handleError2);\n        }\n\n        function GetAllActiveByClub(club_id, end){\n            return $http.get('/api/v1/members/active_club/'+club_id+'/'+end).then(handleSuccess, handleError2);\n        }\n\n        function GetAll() {\n            return $http.get('/api/v1/members/').then(handleSuccess, handleError2);\n        }\n\n        function GetAllByClub(club_id) {\n            return $http.get('/api/v1/members/club/'+club_id).then(handleSuccess, handleError2);\n        }\n\n        function GetAllByClubStudents(club_id) {\n            return $http.get('/api/v1/members/club_student/'+club_id).then(handleSuccess, handleError2);\n        }\n\n        function GetAllByPics(club_id, user_id) {\n            return $http.get('/api/v1/members/get_pics/'+club_id+'/'+user_id).then(handleSuccess, handleError2);\n        }\n\n        function GetAllByClubInstructor(club_id, user_id){\n            return $http.get('/api/v1/members/get_instructors/'+club_id+'/'+user_id).then(handleSuccess, handleError2);\n        }\n\n        function GetAllByPicsBookinout(booking_id, club_id, user_id, supervised=0){\n            return $http.get('/api/v1/members/pics_book_in_out/'+booking_id+'/'+club_id+'/'+user_id+'/'+supervised).then(handleSuccess, handleError2);\n        }\n\n        //  function GetAllByClubCurrent(club_id) {\n        //     return $http.get('/api/v1/members/club2/'+club_id).then(handleSuccess, handleError2);\n        // }\n\n        function GetAllByClubAndName(club_id, name) {\n            return $http.get('/api/v1/members/club_and_name/'+club_id+'/'+name).then(handleSuccess, handleError2);\n        }\n\n        function GetById(membership_id, club_id) {\n            console.log(\"club_id \"+club_id);\n            console.log(\"membership_id \"+membership_id);\n            return $http.get('/api/v1/members/' + membership_id + '/club/' + club_id).then(handleSuccess, handleError2);\n        }\n\n        function GetOneForUser(id){\n            \n            return $http.get('/api/v1/members/' + id + '/for_user').then(handleSuccess, handleError2);\n        }\n\n        function UpdateOneByUser(id, obj){\n            return $http.put('/api/v1/members/' + id + '/for_user', obj).then(handleSuccess, handleError2);\n        }\n\n        function GetMemberPlanes(user_id, club_id){\n            return $http.get('/api/v1/members/user/'+user_id+'/club/'+club_id+'/planes').then(handleSuccess, handleError2);\n        }\n\n         function SaveMemberPlanes(user_id, club_id, planes){\n            return $http.post('/api/v1/members/user/'+user_id+'/club/'+club_id+'/planes', planes).then(handleSuccess, handleError2);\n        }\n\n        function GetByUrl(url){\n            return $http.post('/api/v1/members/get_by_url', url).then(handleSuccess, handleError2);\n        }\n\n        function Create(member) {\n            //this is actually where we invite the user to join\n            member.club_id = \"6\";\n            var url = '/api/v1/members/';\n            return $http.post(url, member).then(handleSuccess, handleError2);\n        }\n\n        function CreateMany(members){\n            var url = '/api/v1/members/many';\n            return $http.post(url, members).then(handleSuccess, handleError2);\n        }\n\n        function Update(membership) {\n            return $http.put('/api/v1/members/' + membership.id, membership).then(handleSuccess, handleError2);\n        }\n\n        function Verify(verify) {\n            return $http.put('/api/v1/member_checks', verify).then(handleSuccess, handleError2);\n        }\n\n        \n\n        function Delete(club_membership_id) {\n            //this should be a disabled function only available for people working for the software\n            return $http.delete('/api/v1/members/' + club_membership_id).then(handleSuccess, handleError2);\n        }\n\n        function handleError2(res) {\n            console.log(\"ERROR\", res);\n\n            if(res.status == 401){\n                $location.path('/login');\n            }    \n\n            return { success: false, message: res.data, status: res.status };\n        }\n\n        // private functions\n\n        function handleSuccess(res) {\n            return res.data;\n        }\n\n        function handleError(error) {\n            return function () {\n                return { success: false, message: error };\n            };\n        }\n    }\napp.factory('MembershipService', MembershipService);\n\n    MembershipService.$inject = ['$http', '$location'];\n    function MembershipService($http, $location) {\n\n        // console.log(\"CALLED\");\n       var service = {};\n\n        service.GetAll = GetAll;\n        service.GetAllByClub = GetAllByClub;\n        service.GetById = GetById;\n        service.Create = Create;\n        service.Update = Update;\n        service.Delete = Delete;\n        service.GetAllMembershipPlanes = GetAllMembershipPlanes;\n        service.AddMembershipPlanes = AddMembershipPlanes;\n        service.UpdateMembershipPlanes = UpdateMembershipPlanes;\n        service.GetAllMembershipPlanesNew = GetAllMembershipPlanesNew;\n        service.GetAllByClubAvailable = GetAllByClubAvailable;\n        service.SendRequest = SendRequest;\n        service.GetRequestsByUser = GetRequestsByUser;\n        service.GetRequestsByClub = GetRequestsByClub;\n        service.DeleteRequest = DeleteRequest;\n        service.GetRequestsById = GetRequestsById;\n        service.AcceptRequest = AcceptRequest;\n        service.ClubAcceptRequest = ClubAcceptRequest;\n\n        service.ResendRequest = ResendRequest;\n\n        return service; \n\n\n        function GetAll() {\n            return $http.get('/api/v1/memberships/').then(handleSuccess, handleError2);\n        }\n        \n        function GetAllByClub(club_id) {\n            return $http.get('/api/v1/memberships/club/'+club_id).then(handleSuccess, handleError2);\n        }\n        //http://local.arrow.com/api/v1/memberships/club_available/9\n        function GetAllByClubAvailable(club_id) {\n            return $http.get('/api/v1/memberships/club_available/'+club_id).then(handleSuccess, handleError2);\n        }\n\n        function GetById(membership_id, club_id) {\n            console.log(\"club_id \"+club_id);\n            console.log(\"membership_id \"+membership_id);\n            return $http.get('/api/v1/memberships/' + membership_id + '/club/' + club_id).then(handleSuccess, handleError2);\n        }\n\n        function GetByUrl(url){\n            return $http.post('/api/v1/memberships/get_by_url', url).then(handleSuccess, handleError2);\n        }\n\n        function Create(club) {\n            var url = '/api/v1/memberships/';\n            return $http.post(url, club).then(handleSuccess, handleError2);\n        }\n\n        function SendRequest(request) {\n            var url = '/api/v1/memberships/request';\n            return $http.post(url, request).then(handleSuccess, handleError2);\n        }\n\n        function ResendRequest(request) {\n            var url = '/api/v1/memberships/resend_request';\n            return $http.post(url, request).then(handleSuccess, handleError2);\n        }\n\n        function AcceptRequest(id, obj){\n            var url = '/api/v1/memberships/accept_request/'+id;\n            return $http.put(url, obj).then(handleSuccess, handleError2);\n        }\n\n        function ClubAcceptRequest(id, obj){\n            var url = '/api/v1/memberships/club_accepts_request/'+id;\n            return $http.put(url, obj).then(handleSuccess, handleError2);\n        }\n        \n        function GetRequestsByUser(user_id) {\n            return $http.get('/api/v1/memberships/requests_by_user/' + user_id).then(handleSuccess, handleError2);\n        }\n\n        function GetRequestsByClub(club_id){\n            return $http.get('/api/v1/memberships/requests_by_club/' + club_id).then(handleSuccess, handleError2);\n        }\n\n        function GetRequestsById(id) {\n            return $http.get('/api/v1/memberships/request_by_id/' + id).then(handleSuccess, handleError2);\n        }\n\n      \n        \n        function UpdateRequests(id, content) {\n            return $http.put('/api/v1/memberships/request/' + id, content).then(handleSuccess, handleError2);\n        }\n\n        function DeleteRequest(id) {\n            return $http.delete('/api/v1/memberships/request/' + id).then(handleSuccess, handleError2);\n        }\n\n        function Update(membership) {\n            return $http.put('/api/v1/memberships/' + membership.membership_id, membership).then(handleSuccess, handleError2);\n        }\n\n        function Delete(club_membership_id) {\n            //this should be a disabled function only available for people working for the software\n            return $http.delete('/api/v1/memberships/' + club_membership_id).then(handleSuccess, handleError2);\n        }\n\n        function GetAllMembershipPlanes(club_id, membership_id){\n            return $http.get('/api/v1/membership_planes/'+club_id+'/'+membership_id).then(handleSuccess, handleError2);\n        }\n\n        \n        function GetAllMembershipPlanesNew(club_id, membership_id){\n            return $http.get('/api/v1/planes/club/'+club_id).then(handleSuccess, handleError2);\n        }\n\n\n        function AddMembershipPlanes(club_id, membership_plane){\n            return $http.post('/api/v1/membership_planes/'+club_id, membership_plane).then(handleSuccess, handleError2);\n        }\n\n        function UpdateMembershipPlanes(membership_id, membership_planes){\n            return $http.put('/api/v1/membership_planes/'+membership_id, membership_planes).then(handleSuccess, handleError2);\n        }\n\n\n        function handleError2(res) {\n            console.log(\"ERROR\", res);\n\n            if(res.status == 401){\n                $location.path('/login');\n            }    \n\n            return { success: false, message: res.data, status: res.status };\n        }\n\n\n        // private functions\n\n        function handleSuccess(res) {\n            return res.data;\n        }\n\n        function handleError(error) {\n            return function () {\n                return { success: false, message: error };\n            };\n        }\n    }\napp.factory('NokService', NokService);\n\n    NokService.$inject = ['$http', '$location'];\n    function NokService($http, $location) {\n        var service = {};\n        \n        service.GetByUserId = GetByUserId;\n        service.GetById = GetById;\n        service.Create = Create;\n        service.Update = Update;\n        service.Delete = Delete;\n       \n\n        return service; \n\n        //settings for the licences... not sure they'll be required anywhere else - so keep em here now...\n\n        function GetByUserId(user_id) {\n            return $http.get('/api/v1/next_of_kins?user_id='+user_id).then(handleSuccess, handleError2);\n        }\n\n        function GetById(id) {\n            return $http.get('/api/v1/next_of_kins/' + id).then(handleSuccess, handleError2);\n        }\n\n        function Create(nok) {\n            return $http.post('/api/v1/next_of_kins', nok).then(handleSuccess, handleError2);\n        }\n\n        function Update(nok) {\n            return $http.put('/api/v1/next_of_kins/' + nok.id, nok).then(handleSuccess, handleError2);\n        }\n\n        function Delete(user_id, id) {\n            return $http.delete('/api/v1/next_of_kins/' + id+'?user_id='+user_id).then(handleSuccess, handleError2);\n        }\n\n\n        function handleError2(res) {\n            console.log(\"ERROR\", res);\n\n            if(res.status == 401){\n                $location.path('/login');\n            }    \n\n            return { success: false, message: res.data, status: res.status };\n        }\n\n        // private functions\n\n        function handleSuccess(res) {\n            return res.data;\n        }\n\n        function handleError(error) {\n            return function () {\n                return { success: false, message: error };\n            };\n        }\n    }\napp.factory('PackageService', PackageService);\n\n    PackageService.$inject = ['$http', '$location'];\n    function PackageService($http, $location) {\n        var service = {};\n        \n        service.GetPackageById = GetPackageById;\n        service.GetPackagesByClubId = GetPackagesByClubId;\n        service.CreatePackage = CreatePackage;\n        service.UpdatePackage = UpdatePackage;\n        service.DeletePackage = DeletePackage;\n\n        service.GetPackagePlanesById = GetPackagePlanesById;\n        service.GetPackagePlanesByPackageId = GetPackagePlanesByPackageId;\n        service.CreatePackagePlane = CreatePackagePlane;\n        service.UpdatePackagePlane = UpdatePackagePlane;\n        service.DeletePackagePlane = DeletePackagePlane;\n\n        service.GetPackagesByUserId = GetPackagesByUserId;\n        service.GetPackagesForBookout = GetPackagesForBookout;\n        service.GetPackagesByUserIdAndClubId = GetPackagesByUserIdAndClubId;\n\n        service.SwapPackageHours = SwapPackageHours;\n        service.RefundPackageToAccount = RefundPackageToAccount;\n\n        return service; \n\n        //packages \n\n        function GetPackageById(id) {\n            return $http.get('/api/v1/packages/' + id).then(handleSuccess, handleError2);\n        }\n\n        function GetPackagesByClubId(club_id) {\n            return $http.get('/api/v1/packages/club/'+club_id).then(handleSuccess, handleError2);\n        }\n\n        function CreatePackage(nok) {\n            return $http.post('/api/v1/packages', nok).then(handleSuccess, handleError2);\n        }\n\n        function UpdatePackage(nok) {\n            return $http.put('/api/v1/packages/' + nok.id, nok).then(handleSuccess, handleError2);\n        }\n\n        function DeletePackage(id) {\n            return $http.delete('/api/v1/packages/' + id).then(handleSuccess, handleError2);\n        }\n\n\n         //package_planes\n\n        function GetPackagePlanesById(id) {\n            return $http.get('/api/v1/package_planes/' + id).then(handleSuccess, handleError2);\n        }\n\n        function GetPackagePlanesByPackageId(package_id) {\n            return $http.get('/api/v1/package_planes/package/'+package_id).then(handleSuccess, handleError2);\n        }\n\n        function CreatePackagePlane(nok) {\n            return $http.post('/api/v1/package_planes', nok).then(handleSuccess, handleError2);\n        }\n\n        function UpdatePackagePlane(nok) {\n            return $http.put('/api/v1/package_planes/' + nok.id, nok).then(handleSuccess, handleError2);\n        }\n\n        function DeletePackagePlane(id) {\n            return $http.delete('/api/v1/package_planes/' + id).then(handleSuccess, handleError2);\n        }\n\n\n        //PACKAGE AND PACKAGE USE\n\n        function GetPackagesByUserId(user_id) {\n            return $http.get('/api/v1/member_packages/user/'+user_id).then(handleSuccess, handleError2);\n        }\n\n        function GetPackagesForBookout(plane_log_sheet_id) {\n            return $http.get('/api/v1/member_packages/bookout/'+plane_log_sheet_id).then(handleSuccess, handleError2);\n        }\n\n        function SwapPackageHours(id, content){\n            return $http.post('/api/v1/member_packages/swap_hours_packages/'+id, content).then(handleSuccess, handleError2);\n        }\n\n        function RefundPackageToAccount(id){\n            return $http.post('/api/v1/member_packages/refund_package_to_account/'+id).then(handleSuccess, handleError2);\n        }\n        \n        //refund_package_to_account\n\n        function GetPackagesByUserIdAndClubId(user_id, club_id){\n            return $http.get('/api/v1/member_packages/member/'+user_id+'/'+club_id).then(handleSuccess, handleError2);\n        }\n\n\n\n        function handleError2(res) {\n            console.log(\"ERROR\", res);\n\n            if(res.status == 401){\n                $location.path('/login');\n            }    \n\n            return { success: false, message: res.data, status: res.status };\n        }\n\n        // private functions\n\n        function handleSuccess(res) {\n            return res.data;\n        }\n\n        function handleError(error) {\n            return function () {\n                return { success: false, message: error };\n            };\n        }\n    }\napp.factory('PaymentService', PaymentService);\n\n    PaymentService.$inject = ['$http', '$location'];\n    function PaymentService($http, $location) {\n        var service = {};\n\n\n        service.GetAddresses = GetAddresses;\n\n        service.GetPaymentTypes = GetPaymentTypes;\n        service.GetByUserId = GetByUserId;\n        service.GetAuthority = GetAuthority;\n        service.Create = Create;\n        service.Delete = Delete;\n        \n        service.CreateCustom = CreateCustom;\n        service.CompleteCustom = CompleteCustom;\n\n        service.Create2 = Create2;\n        service.UpdateCard = UpdateCard;\n        service.GetUserForPayment = GetUserForPayment;\n        service.GetCardDetails = GetCardDetails;\n        service.ChangePrimary = ChangePrimary;\n\n        service.GenerateStripeLink = GenerateStripeLink;\n        service.SaveStripeLink = SaveStripeLink;\n        service.RefreshStripeLink = RefreshStripeLink;\n        service.CreateCardIntent = CreateCardIntent;\n        service.CreatePaymentIntent = CreatePaymentIntent;\n        service.CreateNewCustomer = CreateNewCustomer;\n        service.GetMemberCards = GetMemberCards;\n        service.UpdateDefaultCard = UpdateDefaultCard;\n\n\n        service.ProcessPayment = ProcessPayment;\n\n\n        //create_saved_card_intent\n        //create_payment_intent_new_card\n        //create_cardmachine_intent\n\n        service.CreatePaymentIntentNewCard = CreatePaymentIntentNewCard; //ok\n        service.CreateSavedPaymentIntent = CreateSavedPaymentIntent; //ok\n        service.CreateCardMachinePaymentIntent = CreateCardMachinePaymentIntent; //ok\n\n        service.DeleteMemberCard = DeleteMemberCard;\n\n        return service; \n\n        function ProcessPayment(send){\n            return $http.post('/api/v1/payments/process_payment', send).then(handleSuccess, handleError2);\n        }\n\n        function UpdateDefaultCard(send){\n            return $http.post('/api/v1/cards/update_default_card', send).then(handleSuccess, handleError2);\n        }\n\n        function DeleteMemberCard(send){\n            return $http.post('/api/v1/cards/delete_member_card', send).then(handleSuccess, handleError2);\n        }\n\n        //settings for the licences... not sure they'll be required anywhere else - so keep em here now...\n        function GetMemberCards(send){\n            return $http.post('/api/v1/cards/get_member_cards', send).then(handleSuccess, handleError2);\n        }\n        //create_new_customer\n        function CreateNewCustomer(send){\n            return $http.post('/api/v1/cards/create_new_customer', send).then(handleSuccess, handleError2);\n        }\n\n        //create_cardmachine_intent_booking\n        function CreateCardMachinePaymentIntent(send){\n            return $http.post('/api/v1/cards/create_cardmachine_intent', send).then(handleSuccess, handleError2);\n        }\n\n        function CreateSavedPaymentIntent(send){\n            return $http.post('/api/v1/cards/create_saved_card_intent', send).then(handleSuccess, handleError2);\n        }\n\n        function CreateCardIntent(send){\n            return $http.post('/api/v1/cards/create_card_intent', send).then(handleSuccess, handleError2);\n        }\n\n        function CreatePaymentIntent(send){\n            return $http.post('/api/v1/cards/create_payment_intent', send).then(handleSuccess, handleError2);\n        }\n\n        function CreatePaymentIntentNewCard(send){\n            return $http.post('/api/v1/cards/create_payment_intent_new_card', send).then(handleSuccess, handleError2);\n        }\n\n        //create_payment_intent_new_card\n\n        function SaveStripeLink(club_id, stripe_id){\n            var details = {\"club_id\": club_id, \"stripe_id\": stripe_id};\n            return $http.post('/api/v1/cards/save_stripe_id', details).then(handleSuccess, handleError2);\n        }\n\n        function RefreshStripeLink(club_id, stripe_id){\n            var details = {\"club_id\": club_id, \"stripe_id\": stripe_id};\n            return $http.post('/api/v1/cards/refresh_stripe_id', details).then(handleSuccess, handleError2);\n        }\n\n        function GenerateStripeLink(details){\n            return $http.post('/api/v1/cards/create_onboarding_link', details).then(handleSuccess, handleError2);\n        }\n\n\n        function GetAddresses(postcode){\n            return $http.get('/api/v1/addresses/'+postcode).then(handleSuccess, handleError2);\n        }\n\n        function GetPaymentTypes() {\n            return $http.get('/api/v1/poid_components').then(handleSuccess, handleError2);\n        }\n\n        function GetAuthority() {\n            return $http.get('/api/v1/authority').then(handleSuccess, handleError2);\n        }\n\n        function GetUserForPayment(user_id) {\n            return $http.get('/api/v1/cards/user/'+user_id).then(handleSuccess, handleError2);\n        }\n\n        function GetByUserId(user_id){\n            return $http.get('/api/v1/cards/'+user_id).then(handleSuccess, handleError2);\n        }\n\n        function Create(card) {\n            return $http.post('/api/v1/cards', card).then(handleSuccess, handleError2);\n        }\n\n        function UpdateCard(card_id, address){\n            return $http.put('/api/v1/cards/'+card_id, address).then(handleSuccess, handleError2);\n        }\n\n        function ChangePrimary(user_id, card_id){\n            return $http.put('/api/v1/cards/primary/'+card_id, {user_id: user_id}).then(handleSuccess, handleError2);\n        }\n        \n\n        function Create2(user_id, card_id){\n            var obj = {\n                user_id: user_id,\n                card_id: card_id\n            }\n            return $http.post('/api/v1/cards', obj).then(handleSuccess, handleError2);\n        }\n\n\n        function CreateCustom(payment){\n            return $http.post('/api/v1/payments/custom', payment).then(handleSuccess, handleError2);\n        }\n\n        function CompleteCustom(payment){\n            return $http.post('/api/v1/payments/complete_custom', payment).then(handleSuccess, handleError2);\n        }\n\n\n        function GetCardDetails(card_id){\n            return $http.post('/api/v1/cards/address', {\"card\": card_id}).then(handleSuccess, handleError2);\n        }\n\n        function Delete(id, user_id) {\n            return $http.delete('/api/v1/cards/' + id+'?user_id='+user_id).then(handleSuccess, handleError2);\n        }\n\n     \n        \n        function handleError2(res) {\n            console.log(\"ERROR\", res);\n\n            if(res.status == 401){\n                $location.path('/login');\n            }    \n\n            return { success: false, message: res.data, status: res.status };\n        }\n\n        // private functions\n\n        function handleSuccess(res) {\n            return res.data;\n        }\n\n        function handleError(error) {\n            return function () {\n                return { success: false, message: error };\n            };\n        }\n    }\napp.factory('PlaneDocumentService', PlaneDocumentService);\n\n    PlaneDocumentService.$inject = ['$http', '$location'];\n    function PlaneDocumentService($http, $location) {\n        var service = {};\n\n     \n        service.GetByPlaneId = GetByPlaneId;\n        service.GetById = GetById;\n        service.Create = Create;\n        service.Update = Update;\n        service.Delete = Delete;\n        service.DeleteTmp = DeleteTmp;\n       \n        return service; \n\n        //settings for the licences... not sure they'll be required anywhere else - so keep em here now...\n\n      \n\n\n\n        function GetById(id, user_id) {\n            return $http.get('/api/v1/plane_documents/' + id).then(handleSuccess, handleError2);\n        }\n\n        function GetByPlaneId(id) {\n            //TODO\n            //this is awful... needs to be sorted out...\n            return $http.get('/api/v1/plane_documents/' + id).then(handleSuccess, handleError2);\n        }\n\n     \n        function Create(poid) {\n            return $http.post('/api/v1/plane_documents', poid).then(handleSuccess, handleError2);\n        }\n\n        function Update(poid) {\n            return $http.put('/api/v1/plane_documents/' + poid.id, poid).then(handleSuccess, handleError2);\n        }\n\n        function Delete(user_id, id) {\n            return $http.delete('/api/v1/plane_documents/' + id+'?user_id='+user_id).then(handleSuccess, handleError2);\n        }\n\n        function DeleteTmp(file) {\n            return $http.post('tmp_rm.php', {tmp: file}).then(handleSuccess, handleError2);\n        }\n\n        \n        function handleError2(res) {\n            console.log(\"ERROR\", res);\n\n            if(res.status == 401){\n                $location.path('/login');\n            }    \n\n            return { success: false, message: res.data, status: res.status };\n        }\n\n        // private functions\n\n        function handleSuccess(res) {\n            return res.data;\n        }\n\n        function handleError(error) {\n            return function () {\n                return { success: false, message: error };\n            };\n        }\n    }\napp.factory('PlaneService', PlaneService);\n\n    PlaneService.$inject = ['$http', '$location'];\n    function PlaneService($http, $location) {\n\n        // console.log(\"CALLED\");\n       var service = {};\n\n        service.GetAll = GetAll;\n        service.GetAllByClub = GetAllByClub;\n        service.GetById = GetById;\n        service.Create = Create;\n        service.Update = Update;\n        service.Delete = Delete;\n        service.GetOpenIssues = GetOpenIssues;\n        service.GetAllIssues = GetAllIssues;\n        service.AddDefect = AddDefect;\n        service.DeleteDefect = DeleteDefect;\n        service.GetAllReceipts = GetAllReceipts;\n        service.AddReceipt = AddReceipt;\n        service.DeleteReceipt = DeleteReceipt;\n        service.DeleteDefect = DeleteDefect;\n        service.GetAllSheetReceipts = GetAllSheetReceipts;\n        service.GetAllByClubMaintenance = GetAllByClubMaintenance;\n        service.GetByIdMaintenance = GetByIdMaintenance;\n        service.AddMaintenance = AddMaintenance;\n        service.GetByUserMaintenance = GetByUserMaintenance;\n        service.GetByIdMaintenance2 = GetByIdMaintenance2;\n        service.GetAddAircraft = GetAddAircraft;\n        service.GetAircraftJourneyLogs = GetAircraftJourneyLogs;\n        service.GetReceiptsApproval = GetReceiptsApproval;\n        service.GetCurrencies = GetCurrencies;\n        service.CheckReimbursement = CheckReimbursement;\n        service.UpdateReceipt = UpdateReceipt;\n        service.ApproveReceipt = ApproveReceipt;\n        service.RejectReceipt = RejectReceipt;\n        service.GetMyJourneyLogs = GetMyJourneyLogs;\n        service.GetUserJourneyLogs = GetUserJourneyLogs;\n        service.GetReceiptsClub = GetReceiptsClub;\n        service.GetReceiptsAircraft = GetReceiptsAircraft;\n        service.GetEngineLogs = GetEngineLogs;\n        service.GetPropLogs = GetPropLogs;\n        service.GetAirframeLogs = GetAirframeLogs;\n\n        service.GetUpdatedCharges = GetUpdatedCharges;\n\n        service.UpdateAircraftBit = UpdateAircraftBit;\n\n        service.GetIncompleteClub = GetIncompleteClub;\n        // service.GetMaintenanceForUser = GetMaintenanceForUser;\n\n        service.UpdateAircraftLogbooks = UpdateAircraftLogbooks;\n\n        service.HypotheticalFlightSplit = HypotheticalFlightSplit;\n\n        service.GetAllFlightsByClub = GetAllFlightsByClub;\n\n        service.UpdateOrder = UpdateOrder;\n       \n        return service; \n\n        function UpdateOrder(planes){\n            return $http.post('/api/v1/planes/organise', planes).then(handleSuccess, handleError2);\n        }\n\n        function HypotheticalFlightSplit(pls_id, split){\n            return $http.post('/api/v1/plane_log_sheets/hypothetical_flight_split/'+pls_id, split).then(handleSuccess, handleError2);\n        }\n\n        function GetAllFlightsByClub(club_id, from_date, to_date, aircraft){\n            return $http.post('/api/v1/plane_log_sheets/get_all_for_club/' + club_id, {from_date: from_date, to_date: to_date, aircraft: aircraft}).then(handleSuccess, handleError2);\n        }\n        \n        function UpdateAircraftLogbooks(plane_id){\n            return $http.get('/api/v1/planes/update_all_logbooks/'+plane_id).then(handleSuccess, handleError2);\n        }\n\n        function GetUpdatedCharges(club_id, plane_id, user_id){\n            return $http.get('/api/v1/plane_log_sheets/updated_charges/'+club_id+'/'+plane_id+'/'+user_id+'/').then(handleSuccess, handleError2);\n        }\n\n        function UpdateAircraftBit(object){\n            return $http.post('/api/v1/planes/'+object.plane_id+'/update_aircraft_bit', object).then(handleSuccess, handleError2);\n        }\n\n        function GetAirframeLogs(plane_id, offset=0, max=5){\n            return $http.get('/api/v1/planes/airframe_logbook/'+plane_id+'?offset='+offset+'&max='+max).then(handleSuccess, handleError2);\n\n        }\n        function GetPropLogs(id, plane_id, offset=0, max=5){\n            return $http.get('/api/v1/planes/'+plane_id+'/propeller_logbook/'+id+'?offset='+offset+'&max='+max).then(handleSuccess, handleError2);\n\n        }\n        function GetEngineLogs(id, plane_id, offset=0, max=5){\n            return $http.get('/api/v1/planes/'+plane_id+'/engine_logbook/'+id+'?offset='+offset+'&max='+max).then(handleSuccess, handleError2);\n\n        }\n\n        function GetAircraftJourneyLogs(id, offset=0, max=5){\n            return $http.get('/api/v1/planes/get_journey_log/'+id+'?offset='+offset+'&max='+max).then(handleSuccess, handleError2);\n        }\n\n        function GetMyJourneyLogs(id, offset=0, max=5){\n            return $http.get('/api/v1/planes/get_my_journey_log?offset='+offset+'&max='+max).then(handleSuccess, handleError2);\n        }\n\n        function GetUserJourneyLogs(user_id, club_id, offset=0, max=5){\n            return $http.get('/api/v1/planes/get_user_journey_log/'+user_id+'/'+club_id+'?offset='+offset+'&max='+max).then(handleSuccess, handleError2);\n        }\n\n        function GetAddAircraft(reg){\n            return $http.get('/api/v1/planes/aircraft/'+reg).then(handleSuccess, handleError2);\n        }\n\n        function GetAll() {\n            return $http.get('/api/v1/planes/').then(handleSuccess, handleError2);\n        }\n\n        function GetOpenIssues(plane_id) {\n            return $http.get('/api/v1/plane_tech_log_sheets/open_issues/'+plane_id).then(handleSuccess, handleError2);\n        }\n\n        function GetAllIssues(plane_id) {\n            return $http.get('/api/v1/plane_tech_log_sheets/all_issues/'+plane_id).then(handleSuccess, handleError2);\n        }\n\n        function AddDefect(obj){\n            return $http.post('/api/v1/plane_tech_log_sheets', obj).then(handleSuccess, handleError2);\n        }\n\n        function DeleteDefect(id){\n            return $http.delete('/api/v1/plane_tech_log_sheets/' + id).then(handleSuccess, handleError2);\n        }\n\n\n        function GetReceiptsApproval(club_id){\n            return $http.get('/api/v1/lubricant_receipts/for_approval/'+club_id).then(handleSuccess, handleError2);\n\n        }\n\n        function GetReceiptsClub(club_id, offset=0, limit=10){\n            return $http.get('/api/v1/lubricant_receipts/for_club/'+club_id+'?offset='+offset+'&limit='+limit).then(handleSuccess, handleError2);\n\n        }\n\n        function GetReceiptsAircraft(aircraft_id, offset=0, limit=5){\n            return $http.get('/api/v1/lubricant_receipts/for_aircraft/'+aircraft_id+'?offset='+offset+'&limit='+limit).then(handleSuccess, handleError2);\n        }\n\n        function GetCurrencies(club_id){\n            return $http.get('/api/v1/lubricant_receipts/currencies/'+club_id).then(handleSuccess, handleError2);\n        }\n\n        function GetAllReceipts(plane_id) {\n            return $http.get('/api/v1/lubricant_receipts/'+plane_id).then(handleSuccess, handleError2);\n        }\n\n        function GetAllSheetReceipts(sheet_id){\n            return $http.get('/api/v1/lubricant_receipts/sheet/'+sheet_id).then(handleSuccess, handleError2);\n        }\n\n        function AddReceipt(obj){\n            return $http.post('/api/v1/lubricant_receipts', obj).then(handleSuccess, handleError2);\n        }\n\n        function UpdateReceipt(id, obj){\n            return $http.put('/api/v1/lubricant_receipts/'+id, obj).then(handleSuccess, handleError2);\n        }\n\n        function ApproveReceipt(id, obj){\n       \n            return $http.post('/api/v1/lubricant_receipts/approve_receipt/'+id, obj).then(handleSuccess, handleError2);\n\n        }\n\n        function RejectReceipt(id, obj){\n            return $http.post('/api/v1/lubricant_receipts/reject_receipt/'+id, obj).then(handleSuccess, handleError2);\n        }\n\n        function CheckReimbursement(obj){\n            return $http.post('/api/v1/lubricant_receipts/check_reimbursement', obj).then(handleSuccess, handleError2);\n        }\n\n        function DeleteReceipt(id){\n            return $http.delete('/api/v1/lubricant_receipts/' + id).then(handleSuccess, handleError2);\n        }\n \n\n        function GetAllByClub(club_id) {\n            return $http.get('/api/v1/planes/club/'+club_id).then(handleSuccess, handleError2);\n        }\n\n        function GetAllByClubMaintenance(club_id){\n            return $http.get('/api/v1/planes/club_maintenance/'+club_id).then(handleSuccess, handleError2);\n        }\n\n        // function GetMaintenanceForUser(user_id){\n        //     return $http.get('/api/v1/planes/all_issues/'+plane_id).then(handleSuccess, handleError2);\n        // }\n\n        function GetByIdMaintenance(plane_id, club_id){\n            return $http.get('/api/v1/planes/' + plane_id + '/club_maintenance/' + club_id).then(handleSuccess, handleError2);\n        }\n\n        function GetByIdMaintenance2(plane_id, club_id){\n            return $http.get('/api/v1/planes/' + plane_id + '/club_maintenance2/' + club_id).then(handleSuccess, handleError2);\n        }\n\n        function GetByUserMaintenance(user_id){\n            return $http.get('/api/v1/planes/' + user_id + '/user_maintenance').then(handleSuccess, handleError2);\n        }\n\n        function GetById(plane_id, club_id) {\n            console.log(\"club_id \"+club_id);\n            console.log(\"plane_id \"+plane_id);\n            return $http.get('/api/v1/planes/' + plane_id + '/club/' + club_id).then(handleSuccess, handleError2);\n        }\n\n        function GetByUrl(url){\n            return $http.post('/api/v1/planes/get_by_url', url).then(handleSuccess, handleError2);\n        }\n\n        function AddMaintenance(plane_id, content){\n            return $http.post('/api/v1/planes/'+plane_id+'/maintenance', content).then(handleSuccess, handleError2);\n        }\n\n        function GetIncompleteClub(club_id){\n            return $http.get('/api/v1/plane_log_sheets/incomplete_club/'+club_id).then(handleSuccess, handleError2);\n        } //incomplete_club\n\n        function Create(club) {\n            var url = '/api/v1/planes/';\n            return $http.post(url, club).then(handleSuccess, handleError2);\n        }\n\n        function Update(plane) {\n            return $http.put('/api/v1/planes/' + plane.plane_id, plane).then(handleSuccess, handleError2);\n        }\n\n        function Delete(club_plane_id) {\n            //this should be a disabled function only available for people working for the software\n            return $http.delete('/api/v1/planes/' + club_plane_id).then(handleSuccess, handleError2);\n        }\n\n\n\n        function handleError2(res) {\n            console.log(\"ERROR\", res);\n\n            if(res.status == 401){\n                $location.path('/login');\n            }    \n\n            return { success: false, message: res.data, status: res.status };\n        }\n        // private functions\n\n        function handleSuccess(res) {\n            return res.data;\n        }\n\n        function handleError(error) {\n            return function () {\n                return { success: false, message: error };\n            };\n        }\n    }\napp.factory('PoidService', PoidService);\n\n    PoidService.$inject = ['$http', '$location'];\n    function PoidService($http, $location) {\n        var service = {};\n\n        service.GetAll = GetAll;\n        service.GetPoidTypes = GetPoidTypes;\n        service.GetComponents = GetComponents;\n        service.GetAuthority = GetAuthority;\n        service.GetByUserId = GetByUserId;\n        service.GetByUserIdClub = GetByUserIdClub;\n        service.GetById = GetById;\n        service.Create = Create;\n        service.Update = Update;\n        service.Delete = Delete;\n        service.DeleteTmp = DeleteTmp;\n       \n        return service; \n\n        //settings for the licences... not sure they'll be required anywhere else - so keep em here now...\n\n        function GetPoidTypes() {\n            return $http.get('/api/v1/poid_components').then(handleSuccess, handleError2);\n        }\n\n        function GetComponents() {\n            return $http.get('/api/v1/poid_components').then(handleSuccess, handleError2);\n        }\n\n        function GetAuthority() {\n            return $http.get('/api/v1/authority').then(handleSuccess, handleError2);\n        }\n\n\n\n\n        function GetAll() {\n            return $http.get('/api/v1/poids').then(handleSuccess, handleError2);\n        }\n\n        function GetById(id, thumbs=1, decrypted=0) {\n\n            var end = \"\";\n            if(thumbs == 1 || decrypted == 1){\n\n                end = \"?\";\n                end += (thumbs == 1) ? \"st=1&\" : \"\";\n                end += (decrypted == 1) ? \"sd=1\" : \"\";\n\n            }\n\n            return $http.get('/api/v1/poids/' + id + end).then(handleSuccess, handleError2);\n        }\n\n        function GetByUserId(id) {\n            //TODO\n            //this is awful... needs to be sorted out...\n            return $http.get('/api/v1/poids/?user_id=' + id).then(handleSuccess, handleError2);\n        }\n\n        function GetByUserIdClub(id, club_id) {\n            //TODO\n            //this is awful... needs to be sorted out...\n            return $http.get('/api/v1/poids/'+club_id+'?user_id=' + id).then(handleSuccess, handleError2);\n        }\n\n        function Create(poid) {\n            return $http.post('/api/v1/poids', poid).then(handleSuccess, handleError2);\n        }\n\n        function Update(poid) {\n            return $http.put('/api/v1/poids/' + poid.id, poid).then(handleSuccess, handleError2);\n        }\n\n        function Delete(user_id, id) {\n            return $http.delete('/api/v1/poids/' + id+'?user_id='+user_id).then(handleSuccess, handleError2);\n        }\n\n        function DeleteTmp(file) {\n            return $http.post('tmp_rm.php', {tmp: file}).then(handleSuccess, handleError2);\n        }\n\n        \n        function handleError2(res) {\n            console.log(\"ERROR\", res);\n\n            if(res.status == 401){\n                //THIS MIGHT NOT BE APPROPRIATE\n                $location.path('/login');\n            }    \n\n            return { success: false, message: res.data, status: res.status };\n        }\n\n        // private functions\n\n        function handleSuccess(res) {\n            return res.data;\n        }\n\n        function handleError(error) {\n            return function () {\n                return { success: false, message: error };\n            };\n        }\n    }\napp.factory('ShopItemService', ShopItemService);\n\n    ShopItemService.$inject = ['$http', '$location'];\n    function ShopItemService($http, $location) {\n        var service = {};\n        \n        service.GetByClubId = GetByClubId;\n        service.GetById = GetById;\n        service.Create = Create;\n        service.Update = Update;\n        service.Delete = Delete;\n       \n\n        return service; \n\n        //settings for the licences... not sure they'll be required anywhere else - so keep em here now...\n\n       \n        function GetByClubId(club_id) {\n            return $http.get('/api/v1/shop_items/club/' + club_id).then(handleSuccess, handleError2);\n        }\n\n        function GetById(id) {\n            return $http.get('/api/v1/shop_items/' + id).then(handleSuccess, handleError2);\n        }\n\n        function Create(item) {\n            return $http.post('/api/v1/shop_items', item).then(handleSuccess, handleError2);\n        }\n\n        function Update(item, user_id) {\n            return $http.put('/api/v1/shop_items/' + item.id +'?user_id='+user_id, item).then(handleSuccess, handleError2);\n        }\n\n        function Delete(user_id, id) {\n            return $http.delete('/api/v1/shop_items/' + id+'?user_id='+user_id).then(handleSuccess, handleError2);\n        }\n\n\n        function handleError2(res) {\n            console.log(\"ERROR\", res);\n\n            if(res.status == 401){\n                $location.path('/login');\n            }    \n\n            return { success: false, message: res.data, status: res.status };\n        }\n\n        // private functions\n\n        function handleSuccess(res) {\n            return res.data;\n        }\n\n        function handleError(error) {\n            return function () {\n                return { success: false, message: error };\n            };\n        }\n    }\napp.factory('UserService', UserService);\n\n    UserService.$inject = ['$http', '$location'];\n    function UserService($http, $location) {\n        var service = {};\n\n        service.GetAll = GetAll;\n        service.GetById = GetById;\n        service.GetByUsername = GetByUsername;\n        service.Create = Create;\n        service.Update = Update;\n        service.Delete = Delete;\n        service.Verify = Verify;\n        service.InvitePassenger = InvitePassenger;\n        service.GetInvite = GetInvite;\n        service.GetPaxSecureInvite = GetPaxSecureInvite;\n        service.InviteSignup = InviteSignup;\n        service.GetAccess = GetAccess;\n        service.DeleteInvitation = DeleteInvitation;\n        service.ChangeInvitation = ChangeInvitation;\n        service.GetInvoices = GetInvoices;\n        service.GetAdminClubs = GetAdminClubs;\n        service.GetUpcoming = GetUpcoming;\n        service.GetPayments = GetPayments;\n        service.ConfirmPaxInvite = ConfirmPaxInvite;\n        service.GetPaxSecureInvite2 = GetPaxSecureInvite2;\n        service.SignupUserFromPassenger = SignupUserFromPassenger;\n        service.GetInvoicesUserClub = GetInvoicesUserClub;\n\n\n        return service;\n\n        function GetPayments(user_id){\n            return $http.get('/api/v1/payments/get_for_user/'+user_id).then(handleSuccess, handleError2);\n        }\n\n        function GetAll() {\n            return $http.get('/api/v1/users').then(handleSuccess, handleError2);\n        }\n\n        function GetAdminClubs(user_id){\n            return $http.get('/api/v1/clubs/get_all_admin_for_user/'+user_id).then(handleSuccess, handleError2);\n        }\n\n        function GetInvoices(user_id){\n            return $http.get('/api/v1/invoices/get_all_for_user/'+user_id).then(handleSuccess, handleError2);\n        }\n\n        function GetInvoicesUserClub(user_id, club_id, offset=0, batch=5, all=0){\n                                   // invoices/get_all_upcoming_for_user_by_club/:user_id/:club_id\n            return $http.get('/api/v1/invoices/get_all_upcoming_for_user_by_club/'+user_id+'/'+club_id+'?offset='+offset+\"&batch=\"+batch+\"&all=\"+all).then(handleSuccess, handleError2);\n\n        }\n\n        function GetUpcoming(user_id){\n            return $http.get('/api/v1/invoices/get_all_upcoming_for_user/'+user_id).then(handleSuccess, handleError2);\n        }\n\n        function GetById(id) {\n            return $http.get('/api/v1/users/' + id).then(handleSuccess, handleError2);\n        }\n\n        function GetByUsername(username) {\n            return $http.get('/api/v1/users/' + username).then(handleSuccess, handleError2);\n        }\n\n        function Create(user) {\n            $http.defaults.headers.common['Api-Key'] = \"eW91a25vd25vdGhpbmdqb25zbm93\";\n            return $http.post('/api/v1/users', user).then(handleSuccess, handleError2);\n        }\n\n        function Update(user) {\n            return $http.put('/api/v1/users/' + user.id, user).then(handleSuccess, handleError2);\n        }\n\n        function Delete(id) {\n            return $http.delete('/api/v1/users/' + id).then(handleSuccess, handleError2);\n        }\n\n        function Verify(id, verify_token) {\n            $http.defaults.headers.common['Api-Key'] = \"eW91a25vd25vdGhpbmdqb25zbm93\";\n            return $http.post('/api/v1/users/' + id + '/verify', {\"verify_token\": verify_token}).then(handleSuccess, handleError2);\n        }\n\n        function GetAccess(id) {\n            return $http.get('/api/v1/users/' + id + '/access').then(handleSuccess, handleError2);\n        }\n\n\n        \n\n        function InvitePassenger(email, invited_by, club_id, membership_id, booking_id){\n            var obj = {\n                email: email,\n                invited_by: invited_by,\n                club_id: club_id,\n                membership_id: membership_id,\n                booking_id: booking_id\n            };\n            return $http.post('/api/v1/invitations', obj).then(handleSuccess, handleError2);\n        }\n\n        function GetInvite(token){\n            $http.defaults.headers.common['Api-Key'] = \"eW91a25vd25vdGhpbmdqb25zbm93\";\n            if(token){\n                return $http.get('/api/v1/invitations/' + token).then(handleSuccess, handleError2);\n            } else {\n                return false;\n            }\n\n        }\n\n        function GetPaxInvite(token){\n            $http.defaults.headers.common['Api-Key'] = \"eW91a25vd25vdGhpbmdqb25zbm93\";\n            if(token){\n                return $http.get('/api/v1/invitations/' + token).then(handleSuccess, handleError2);\n            } else {\n                return false;\n            }\n        }\n\n        function ConfirmPaxInvite(token, data){\n            $http.defaults.headers.common['Api-Key'] = \"eW91a25vd25vdGhpbmdqb25zbm93\";\n            if(token && data){\n                return $http.post('/api/v1/invitations/signup_pax', data).then(handleSuccess, handleError2);\n            } else {\n                return false;\n            }\n        }\n\n        function GetPaxSecureInvite(token, code){\n            $http.defaults.headers.common['Api-Key'] = \"eW91a25vd25vdGhpbmdqb25zbm93\";\n            if(token){\n                return $http.get('/api/v1/invitations/' + token + '/' + code).then(handleSuccess, handleError2);\n            } else {\n                return false;\n            }\n        }\n\n        function GetPaxSecureInvite2(token, code){\n            $http.defaults.headers.common['Api-Key'] = \"eW91a25vd25vdGhpbmdqb25zbm93\";\n            if(token){\n                return $http.post('/api/v1/invitations/verify_invitation_for_user', {\"token\": token, \"code\": code}).then(handleSuccess, handleError2);\n            } else {\n                return false;\n            }\n        }\n\n        function InviteSignup(data){\n            $http.defaults.headers.common['Api-Key'] = \"eW91a25vd25vdGhpbmdqb25zbm93\";\n            return $http.post('/api/v1/invitations/signup', data).then(handleSuccess, handleError2);\n        }\n\n        function SignupUserFromPassenger(token, data){\n            $http.defaults.headers.common['Api-Key'] = \"eW91a25vd25vdGhpbmdqb25zbm93\";\n            return $http.post('/api/v1/invitations/create_user', data).then(handleSuccess, handleError2);\n        }\n\n        function ChangeInvitation(data, booking_id){\n            return $http.post('/api/v1/invitations/change_invitation/'+booking_id, data).then(handleSuccess, handleError2);\n        }\n\n        function DeleteInvitation(id){\n            return $http.delete('/api/v1/invitations/'+ id).then(handleSuccess, handleError2);\n        }\n\n        // private functions\n\n        function handleSuccess(res) {\n            //console.log(\"SUCCESS\");\n            return res.data;\n        }\n\n        function handleError2(res) {\n            console.log(\"ERROR\", res);\n\n            if(res.status == 401){\n                $location.path('/login');\n            }    \n\n            return { success: false, message: res.data, status: res.status };\n        }\n\n        function handleError(error) {\n            console.log(\"HANDLE ERROR ONE\", error);\n            return function () {\n                return { success: false, message: error };\n            };\n        }\n    }\napp.factory('VoucherService', VoucherService);\n\n    VoucherService.$inject = ['$http', '$location'];\n    function VoucherService($http, $location) {\n        var service = {};\n        \n        service.GetByClubId = GetByClubId;\n        service.GetById = GetById;\n        service.Create = Create;\n        service.Update = Update;\n        // service.Delete = Delete;\n\n        service.GetUniqueCode = GetUniqueCode;\n        service.CancelVoucher = CancelVoucher;\n       \n\n        // service.GetUpdatedCharges = GetUpdatedCharges;\n\n        return service; \n\n        //settings for the licences... not sure they'll be required anywhere else - so keep em here now...\n\n        // function GetUpdatedCharges(id){\n        //     return $http.get('/api/v1/plane_log_sheets/update_tuition_book_in/' + id).then(handleSuccess, handleError2);\n        // }\n       \n\n        //function for discounts\n\n\n        function GetUniqueCode(club_id) {\n            return $http.get('/api/v1/vouchers/unique_voucher/' + club_id).then(handleSuccess, handleError2);\n        }\n\n\n        function GetByClubId(club_id) {\n            return $http.get('/api/v1/vouchers/club/' + club_id).then(handleSuccess, handleError2);\n        }\n\n        function GetById(id) {\n            return $http.get('/api/v1/vouchers/' + id).then(handleSuccess, handleError2);\n        }\n\n        function Create(item) {\n            return $http.post('/api/v1/vouchers', item).then(handleSuccess, handleError2);\n        }\n\n        function Update(item, user_id) {\n            return $http.put('/api/v1/vouchers/' + item.id +'?user_id='+user_id, item).then(handleSuccess, handleError2);\n        }\n\n        function CancelVoucher(user_id, id) {\n            return $http.delete('/api/v1/vouchers/' + id+'?user_id='+user_id).then(handleSuccess, handleError2);\n        }\n\n\n\n        function handleError2(res) {\n            console.log(\"ERROR\", res);\n\n            if(res.status == 401){\n                $location.path('/login');\n            }    \n\n            return { success: false, message: res.data, status: res.status };\n        }\n        // private functions\n\n        function handleSuccess(res) {\n            return res.data;\n        }\n\n        function handleError(error) {\n            return function () {\n                return { success: false, message: error };\n            };\n        }\n    }"],"file":"services.ann.js"}