<div class="journey_log_page">
<div class="centre_align_boxes2">


    <div class="home_upper">
        <div class="back-box" ui-sref="dashboard.my_account">
          <i class="fa fa-arrow-circle-left"></i> BACK
        </div>
        <div class="welcome_title">
          <h2>MY JOURNEY LOGBOOK</h2> 
          <h4 class="capitalise">
            See your aircraft journeys
          </h4>
        </div>
    </div>

                 
</div>

<div class="sub_section2">
    <div class="club_docs bookingout_wrapper force_centre_desktop">
        <div class="centre_me">

          <div class="cardstotal fixed_height">
            <h4>My Totals</h4>
            <br />
            <span class="upcoming_title">TOTAL:</span> 
            <span class="upcoming_value">{{ get_hours_from_decimal(vm.user_totals.total) || "0:00" }}</span>
            <br />
            <span class="upcoming_title">PIC:</span> 
            <span class="upcoming_value"> {{ get_hours_from_decimal(vm.user_totals.pic_total) || "0:00" }}</span>
            <br />
            <span class="upcoming_title">PUT:</span> 
            <span class="upcoming_value"> {{ get_hours_from_decimal(vm.user_totals.put_total) || "0:00" }}</span>
            <br />

            <div ng-if="vm.user_totals.picus_total > 0">
                <span class="upcoming_title">PICUS:</span> 
                <span class="upcoming_value"> {{ get_hours_from_decimal(vm.user_totals.picus_total) || "0:00" }}</span>
                <br />
            </div>

            <div ng-if="vm.user_totals.instructor_total > 0">
                <span class="upcoming_title">INSTRUCTOR TOTAL:</span> 
                <span class="upcoming_value"> {{ get_hours_from_decimal(vm.user_totals.instructor_total) || "0:00" }}</span>
            </div>

          </div>

      </div>
    </div>

</div>

<div class="sub_section2 superwide">
    <div class="search_bar2">

        <input type="search" placeholder="Search Journey Logs" ng-model="my_search2" class="form-control fifty_wide centre_me searching_logs" />

    </div>

                  <div class="card">

                    <div class="plane_docs_none centre_me" ng-if="vm.logs.length < 1">
                        There are presently no journey log entries for you (yet).
                    </div>



                    <div class="" ng-if="vm.logs.length > 0">
                        <div class="mc-table-wrap">
                        <table class="norightalign">
                            <tr>
                                <td class="bold_text">Date</td>
                                <td class="bold_text">Aircraft</td>
                                <td class="bold_text">Pilot</td>
                                <td class="bold_text centre_me">Capacity</td>
                                <td class="bold_text centre_me">From</td>
                                <td class="bold_text centre_me">To</td>
                                <td class="bold_text centre_me">Brakes Off</td>
                                <td class="bold_text centre_me">Brakes On</td>
                                <td class="bold_text centre_me">Brakes Time</td>
                            </tr>
                            <tr ng-repeat="log in vm.logs | filter: search2" vertical-align="middle">
                                <td class="log_no_break">{{ log.flight_date | asDate | date:"dd MMM yyyy" }}</td>
                                <td class="log_no_break"><span uib-tooltip="{{log.aircraft.type_name}}"> {{log.aircraft.registration}} </span></td>
                                <td class="log_no_break"><span uib-tooltip-html="vm.list_pilots(log)">{{ vm.get_pic(log) }}</span></td>
                                <td class="centre_me"><span uib-tooltip-html="'This is the capacity of the logbook holder: PIC means Pilot In Command, PUT means Pilot Under Training'">{{ log.holder_capacity }}</span></td>
                                <td class="centre_me"><span uib-tooltip="{{log.departure_airport_code}}">{{ log.departure_airport }}</span></td>
                                <td class="centre_me"><span uib-tooltip="{{log.destination_airport_code}}">{{ log.destination_airport }}</span></td>
                                <td class="centre_me">{{ vm.clean_times(log.brakes_off_rounded) }}</td>
                                <td class="centre_me">{{ vm.clean_times(log.brakes_on_rounded) }}</td>
                                <td class="centre_me">{{ get_hours_from_decimal(log.brakes_times_rounded) || "0:00" }}</td>
                            </tr>
                        </table>
                        </div>

                        <div class="mc-cards">
                          <div class="mc-card" ng-repeat="log in vm.logs | filter: search2">
                            <div class="mc-card-header">{{ log.flight_date | asDate | date:"dd MMM yyyy" }}</div>
                            <div class="mc-card-sub">
                              <span class="mc-card-reg">{{ log.aircraft.registration }}</span>
                              <span class="mc-card-type">{{ log.aircraft.type_name }}</span>
                            </div>
                            <div class="mc-card-row">
                              <span class="mc-card-label">Pilot</span>
                              <span>{{ vm.get_pic(log) }}</span>
                            </div>
                            <div class="mc-card-route">
                              <span>{{ log.departure_airport }}</span>
                              <i class="fa fa-long-arrow-right"></i>
                              <span>{{ log.destination_airport }}</span>
                            </div>
                            <div class="mc-card-grid">
                              <div class="mc-card-stat">
                                <span class="mc-card-label">Capacity</span>
                                <span>{{ log.holder_capacity }}</span>
                              </div>
                              <div class="mc-card-stat">
                                <span class="mc-card-label">Brakes Off</span>
                                <span>{{ vm.clean_times(log.brakes_off_rounded) }}</span>
                              </div>
                              <div class="mc-card-stat">
                                <span class="mc-card-label">Brakes On</span>
                                <span>{{ vm.clean_times(log.brakes_on_rounded) }}</span>
                              </div>
                              <div class="mc-card-stat">
                                <span class="mc-card-label">Duration</span>
                                <span>{{ get_hours_from_decimal(log.brakes_times_rounded) || "0:00" }}</span>
                              </div>
                            </div>
                          </div>
                        </div>

                        <button class="btn btn-primary view_journey_logs" ng-if="!vm.all_loaded" ng-click="vm.load_more()">LOAD MORE</button>  
                        <p class="centre_me" ng-if="vm.all_loaded">You have loaded all your's journey log...</p>

                    </div>



                </div>


</div>
</div>